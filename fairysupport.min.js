function ___fairysupport(){let e=document.getElementById("fs-js"),t=new URL(window.location.href),n=t.searchParams.get("lang"),o=window.navigator.language,r=new URL(e.src);this.version="dataset"in e&&"version"in e.dataset?e.dataset.version:Date.now();let i=r.origin+r.pathname.trim(),l=i.split("/"),s=i.substring(0,i.length-l[l.length-1].length),a=s+"modules/",u=s+"components/",c=s+"templates/";this.clazz={},this.controllerMethodList={},this.controllerEventMethodList={},this.componentControllerList={},this.componentControllerMethodList={},this.componentControllerEventMethodList={},this.targetDomMap=new WeakMap,this.componentDomInitFuncMap=new Map,this.componentDomInitCntMap=new Map,this.componentDomInitTotalMap=new Map,this.componentPackageList={},this.eventMap=new Map,this.eventNameDataNameMap=new Map,this.bindDomInitFuncMap=new Map,this.bindDomInitCntMap=new Map,this.bindDomInitTotalMap=new Map;let h=new Map,f="dataset"in e&&"timeout"in e.dataset?e.dataset.timeout:0;f-=0;let p=e.dataset.pageRoot,d="";this.instanceMap={};const m=Object.create(null),g=Object.create(null);"fairysupportInitFail"in window||(window.fairysupportInitFail=function(e){return alert("network error"),!1}),"fairysupportTemplateFail"in window||(window.fairysupportTemplateFail=function(e){return alert("network error"),!1}),"fairysupportComponentFail"in window||(window.fairysupportComponentFail=function(e){return alert("network error"),!1});let b=class{constructor(){}};this.getEnv=function(){return d},this.getModulePath=function(e,t){let n="",o=(t.origin+t.pathname.trim()).substring(e.length).split("/");for(let e=0;e<o.length;e++)""!==o[e]&&(e+1>=o.length?n+=o[e].split(".")[0]:n+=o[e]+"/");return""===n&&(n="index"),n},this.init=function(){let e=this.getModulePath(p,t);return this.getLoadEnv(s,this.version,m,g,n,o,t,a,p,e,0),this},this.getLoadEnv=function(e,t,n,o,r,i,l,s,a,u,c){let h=this.emptyAjax(e+"env/env.txt?"+t,null,"GET","query");h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Accept","text/*"),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.responseType="text",h.timeout=f,h.onloadend=function(e,t,n,o,t,r,i,l,s,a,u,c,h){return function(f,p){if(200===p.status){let h=p.response;h=h.trim(),e.getEnvDefaultValue(n,h,o,r,t,i,l,s,a,u,c,0)}else if(404===p.status)e.getEnvDefaultValue(n,"",o,r,t,i,l,s,a,u,c,0);else{fairysupportInitFail(h)&&e.getLoadEnv(n,o,t,r,i,l,s,a,u,c,++h)}}}(this,n,e,t,n,o,r,i,l,s,a,u,c),h.send()},this.getEnvDefaultValue=function(e,t,n,o,r,i,l,s,a,u,c,h){d=t;let p=this.ajax(e+"env/envValue.js?"+n,null,"GET","query");p.timeout=f,p.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h,f){return function(p,d){if(200===d.status){let f=d.response;Object.assign(t,f),e.getEnvValue(n,o,r,t,i,l,s,a,u,c,h,0)}else if(404===d.status)e.getEnvValue(n,o,r,t,i,l,s,a,u,c,h,0);else{fairysupportInitFail(f)&&e.getEnvDefaultValue(n,o,r,t,i,l,s,a,u,c,h,++f)}}}(this,o,e,t,n,r,i,l,s,a,u,c,h),p.send()},this.getEnvValue=function(e,t,n,o,r,i,l,s,a,u,c,h){if(null!=t&&""!==t){let p="."+t,d=this.ajax(e+"env/envValue"+p+".js?"+n,null,"GET","query");d.timeout=f,d.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h,f){return function(p,d){if(200===d.status){let f=d.response;Object.assign(t,f);let p=h.split("/");e.getModuleDefaultEnvValue(n,o,r,t,i,l,s,a,u,c,h,n+"env/",p,0)}else if(404===d.status){let f=h.split("/");e.getModuleDefaultEnvValue(n,o,r,t,i,l,s,a,u,c,h,n+"env/",f,0)}else{fairysupportInitFail(f)&&e.getEnvValue(n,o,r,t,i,l,s,a,u,c,h,++f)}}}(this,o,e,t,n,r,i,l,s,a,u,c,h),d.send()}else{let h=c.split("/");this.getModuleDefaultEnvValue(e,t,n,o,r,i,l,s,a,u,c,e+"env/",h,0)}},this.getModuleDefaultEnvValue=function(e,t,n,o,r,i,l,s,a,u,c,h,p,d){let m=p.shift();if(null==m||""===m)this.loadDefaultMsg(e,n,o,r,i,l,s,a,u,c,0);else{let g=this.ajax(h+m+"/envValue.js?"+n,null,"GET","query");g.timeout=f,g.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h,f,p,d,m){return function(g,b){if(200===b.status){let m=b.response;Object.assign(t,m),e.getModuleEnvValue(n,o,r,t,i,l,s,a,u,c,h,f,p,d,0)}else if(404===b.status)e.getModuleEnvValue(n,o,r,t,i,l,s,a,u,c,h,f,p,d,0);else{fairysupportInitFail(m)&&(p.unshift(d),e.getModuleDefaultEnvValue(n,o,r,t,i,l,s,a,u,c,h,f,p,++m))}}}(this,o,e,t,n,r,i,l,s,a,u,c,h,p,m,d),g.send()}},this.getModuleEnvValue=function(e,t,n,o,r,i,l,s,a,u,c,h,p,d,m){if(null==d||""===d)this.loadDefaultMsg(e,n,o,r,i,l,s,a,u,c,0);else if(null!=t&&""!==t){let g="."+t,b=this.ajax(h+d+"/envValue"+g+".js?"+n,null,"GET","query");b.timeout=f,b.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h,f,p,d,m){return function(g,b){if(200===b.status){let m=b.response;Object.assign(t,m),e.getModuleDefaultEnvValue(n,o,r,t,i,l,s,a,u,c,h,f+d+"/",p,0)}else if(404===b.status)e.getModuleDefaultEnvValue(n,o,r,t,i,l,s,a,u,c,h,f+d+"/",p,0);else{fairysupportInitFail(m)&&e.getModuleEnvValue(n,o,r,t,i,l,s,a,u,c,h,f,p,d,++m)}}}(this,o,e,t,n,r,i,l,s,a,u,c,h,p,d,m),b.send()}else this.getModuleDefaultEnvValue(e,t,n,o,r,i,l,s,a,u,c,h+d+"/",p,0)},this.loadDefaultMsg=function(e,t,n,o,r,i,l,s,a,u,c){let h=this.ajax(e+"msg/msg.js?"+t,null,"GET","query");h.timeout=f,h.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h){return function(f,p){if(200===p.status){let h=p.response;Object.assign(r,h),e.loadBrowserMsg(t,n,o,r,i,l,s,a,u,c,0)}else if(404===p.status)e.loadBrowserMsg(t,n,o,r,i,l,s,a,u,c,0);else{fairysupportInitFail(h)&&e.loadDefaultMsg(t,n,o,r,i,l,s,a,u,c,++h)}}}(this,e,t,n,o,r,i,l,s,a,u,c),h.send()},this.loadBrowserMsg=function(e,t,n,o,r,i,l,s,a,u,c){if(null!=i&&""!==i){let h=this.ajax(e+"msg/msg."+i+".js?"+t,null,"GET","query");h.timeout=f,h.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h){return function(f,p){if(200===p.status){let h=p.response;Object.assign(r,h),e.loadReqMsg(t,n,o,r,i,l,s,a,u,c,0)}else if(404===p.status)e.loadReqMsg(t,n,o,r,i,l,s,a,u,c,0);else{fairysupportInitFail(h)&&e.loadBrowserMsg(t,n,o,r,i,l,s,a,u,c,++h)}}}(this,e,t,n,o,r,i,l,s,a,u,c),h.send()}else this.loadReqMsg(e,t,n,o,r,i,l,s,a,u,0)},this.loadReqMsg=function(e,t,n,o,r,i,l,s,a,u,c){if(null!=r&&""!==r){let h=this.ajax(e+"msg/msg."+r+".js?"+t,null,"GET","query");h.timeout=f,h.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h){return function(f,p){if(200===p.status){let h=p.response;Object.assign(r,h);let f=c.split("/");e.loadModuleDefaultMsg(t,n,o,r,i,l,s,a,u,c,t+"msg/",f,0)}else if(404===p.status){let h=c.split("/");e.loadModuleDefaultMsg(t,n,o,r,i,l,s,a,u,c,t+"msg/",h,0)}else{fairysupportInitFail(h)&&e.loadReqMsg(t,n,o,r,i,l,s,a,u,c,++h)}}}(this,e,t,n,o,r,i,l,s,a,u,c),h.send()}else{let c=u.split("/");this.loadModuleDefaultMsg(e,t,n,o,r,i,l,s,a,u,e+"msg/",c,0)}},this.loadModuleDefaultMsg=function(e,t,n,o,r,i,l,s,a,u,c,h,p){let d=h.shift();if(null==d||""===d)this.loadModuleController(t,s,u,0);else{let m=this.ajax(c+d+"/msg.js?"+t,null,"GET","query");m.timeout=f,m.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h,f,p,d){return function(m,g){if(200===g.status){let d=g.response;Object.assign(r,d),e.loadModuleBrowserMsg(t,n,o,r,i,l,s,a,u,c,h,f,p,0)}else if(404===g.status)e.loadModuleBrowserMsg(t,n,o,r,i,l,s,a,u,c,h,f,p,0);else{fairysupportInitFail(d)&&(f.unshift(p),e.loadModuleDefaultMsg(t,n,o,r,i,l,s,a,u,c,h,f,++d))}}}(this,e,t,n,o,r,i,l,s,a,u,c,h,d,p),m.send()}},this.loadModuleBrowserMsg=function(e,t,n,o,r,i,l,s,a,u,c,h,p,d){if(null==p||""===p)this.loadModuleController(t,s,u,0);else if(null!=i&&""!==i){let m="."+i,g=this.ajax(c+p+"/msg"+m+".js?"+t,null,"GET","query");g.timeout=f,g.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h,f,p,d){return function(m,g){if(200===g.status){let d=g.response;Object.assign(r,d),e.loadModuleReqMsg(t,n,o,r,i,l,s,a,u,c,h,f,p,0)}else if(404===g.status)e.loadModuleReqMsg(t,n,o,r,i,l,s,a,u,c,h,f,p,0);else{fairysupportInitFail(d)&&e.loadModuleBrowserMsg(t,n,o,r,i,l,s,a,u,c,h,f,p,++d)}}}(this,e,t,n,o,r,i,l,s,a,u,c,h,p,d),g.send()}else this.loadModuleReqMsg(e,t,n,o,r,i,l,s,a,u,c,h,p,0)},this.loadModuleReqMsg=function(e,t,n,o,r,i,l,s,a,u,c,h,p,d){if(null==p||""===p)this.loadModuleController(t,s,u,0);else if(null!=r&&""!==r){let m="."+r,g=this.ajax(c+p+"/msg"+m+".js?"+t,null,"GET","query");g.timeout=f,g.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h,f,p,d){return function(m,g){if(200===g.status){let d=g.response;Object.assign(r,d),e.loadModuleDefaultMsg(t,n,o,r,i,l,s,a,u,c,h+p+"/",f,0)}else if(404===g.status)e.loadModuleDefaultMsg(t,n,o,r,i,l,s,a,u,c,h+p+"/",f,0);else{fairysupportInitFail(d)&&e.loadModuleReqMsg(t,n,o,r,i,l,s,a,u,c,h,f,p,++d)}}}(this,e,t,n,o,r,i,l,s,a,u,c,h,p,d),g.send()}else this.loadModuleDefaultMsg(e,t,n,o,r,i,l,s,a,u,c+p+"/",h,0)},this.loadModuleController=function(e,t,n,o){import(t+n+".js"+"?"+e).then(this.getControllerLoader(this,n)).catch(function(e,t,n,o){return function(r){fairysupportInitFail(o)&&fs.loadModuleController(e,t,n,++o)}}(e,t,n,o))},this.getControllerLoader=function(e,t){return function(n){let o="modules/"+t;if(!e.instanceMap[o]){e.clazz.obj=new n.default,e.instanceMap[o]=e.clazz.obj,e.controllerMethodList=e.getMethodList(e.clazz.obj);for(let t in e.controllerMethodList){let n=t.split("_");if(n.length>1){let t="";for(let e=0;e<n.length-1;e++)t+=n[e]+"_";t=t.substring(0,t.length-1),e.controllerEventMethodList[t]||(e.controllerEventMethodList[t]=[]),e.controllerEventMethodList[t].push(n[n.length-1])}}}e.binder(e),e.getControllerMethod(e,"init",null)()}},this.binder=function(e){let t=document.getElementsByTagName("BODY");new MutationObserver(((t,n)=>{for(let n of t)if("attributes"===n.type){if("data-obj"===n.attributeName){e.removeControllerSingleObjOnlyValue(n.target,n.oldValue);let t=n.target.dataset;if(null!=t){let o=t.obj;e.bindControllerSingleObj(n.target,o)}}if("data-list"===n.attributeName){e.removeControllerSingleListOnlyValue(n.target,n.oldValue);let t=n.target.dataset;if(null!=t){let o=t.list;e.bindControllerSingleList(n.target,o)}}if("data-name"===n.attributeName){e.removeControllerSingleEvent(n.target,n.oldValue);let t=n.target.dataset;if(null!=t){let o=t.name;e.bindControllerSingleEvent(n.target,o)}}for(let t in e.componentPackageList){let o=e.componentPackageList[t],r=o.componentPath,i=o.componentHyphen,l=o.componentCamel;if(n.attributeName==="data-"+i+"-obj"){e.removeComponentSingleObjOnlyValue(n.target,n.oldValue,r);let t=n.target.dataset;if(null!=t){let o=t[l+"Obj"];e.bindComponentSingleObj(n.target,o,r)}}if(n.attributeName==="data-"+i+"-list"){e.removeComponentSingleListOnlyValue(n.target,n.oldValue,r);let t=n.target.dataset;if(null!=t){let o=t[l+"List"];e.bindComponentSingleList(n.target,o,r)}}if(n.attributeName==="data-"+i+"-name"){e.removeComponentSingleEvent(n.target,n.oldValue,r);let t=n.target.dataset;if(null!=t){let o=t[l+"Name"];e.bindComponentSingleEvent(n.target,o,r)}}}}else if("childList"===n.type){let t=null,o=null;for(let t=0;t<n.removedNodes.length;t++)e.removeAllNest(n.removedNodes.item(t));for(let r=0;r<n.addedNodes.length;r++){if(e.bindAllNest(n.addedNodes.item(r)),e.componentDomInitFuncMap.has(n.addedNodes.item(r))&&(t=e.componentDomInitFuncMap.get(n.addedNodes.item(r)),e.componentDomInitFuncMap.delete(n.addedNodes.item(r)),e.componentDomInitCntMap.set(t,e.componentDomInitCntMap.get(t)+1),e.componentDomInitCntMap.get(t)===e.componentDomInitTotalMap.get(t))){e.componentDomInitCntMap.delete(t),e.componentDomInitTotalMap.delete(t);try{t()}catch(t){if(!e.clazz.obj.errorHandle||"function"!=typeof e.clazz.obj.errorHandle)throw t;e.clazz.obj.errorHandle(null,t)}finally{e.clazz.obj.finalHandle&&"function"==typeof e.clazz.obj.finalHandle&&e.clazz.obj.finalHandle(null,null)}}if(e.bindDomInitFuncMap.has(n.addedNodes.item(r))&&(o=e.bindDomInitFuncMap.get(n.addedNodes.item(r)),e.bindDomInitFuncMap.delete(n.addedNodes.item(r)),e.bindDomInitCntMap.set(o,e.bindDomInitCntMap.get(o)+1),e.bindDomInitCntMap.get(o)===e.bindDomInitTotalMap.get(o))){e.bindDomInitCntMap.delete(o),e.bindDomInitTotalMap.delete(o);try{o()}catch(t){if(!e.clazz.obj.errorHandle||"function"!=typeof e.clazz.obj.errorHandle)throw t;e.clazz.obj.errorHandle(null,t)}finally{e.clazz.obj.finalHandle&&"function"==typeof e.clazz.obj.finalHandle&&e.clazz.obj.finalHandle(null,null)}}}}})).observe(t[0],{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0}),e.bindBody()},this.addInitFuncForAfterObserver=function(e,t){let n=e.childNodes,o=null;if(null!=n){this.bindDomInitCntMap.set(t,0),this.bindDomInitTotalMap.set(t,n.length);for(let e=0;e<n.length;e++)o=n.item(e),this.bindDomInitFuncMap.set(o,t)}},this.bindBody=function(){let e=document.getElementsByTagName("BODY")?document.getElementsByTagName("BODY")[0]:null;e&&this.bindAllNest(e)},this.bindAllNest=function(e){if(null==e)return;this.bindAllSingle(e,null);let t=e.childNodes,n=null;if(null!=t)for(let e=0;e<t.length;e++)n=t.item(e),this.bindAllNest(n)},this.bindAllSingle=function(e,t){let n=e.dataset;if(null!=n){let o=n.obj,r=n.list,i=n.name;null!=e&&(null==o&&null==r&&null==i||this.addTargetDom(e,null)),this.targetDomMap.has(e)&&(this.bindControllerSingleObj(e,o),this.bindControllerSingleList(e,r),this.bindControllerSingleEvent(e,i));for(let t in this.componentPackageList){let l=this.componentPackageList[t],s=l.componentPath,a=l.componentCamel;this.addTargetDomForComponent(e,l),this.targetDomMap.has(e)&&(o=n[a+"Obj"],r=n[a+"List"],i=n[a+"Name"],null!=o&&this.bindComponentSingleObj(e,o,s),null!=r&&this.bindComponentSingleList(e,r,s),null!=i&&this.bindComponentSingleEvent(e,i,s))}null!=t&&t(e)}},this.bindControllerSingleObj=function(e,t){if(null!=e&&null!=t){this.execControllerMethod("beforeBindObj",{name:t,value:e});let n=new Set;n.add(e);let o=this.getControllerMethodInputArgs(this,"beforeRemoveObj"),r=this.getControllerMethodInputArgs(this,"afterRemoveObj"),i=function(e){return function(){for(let t of e.values())return t;return null}}(n),l=function(e,t,n,o,r){return function(i){currentElement=null;for(let t of e.values()){currentElement=t;break}currentElement&&(n({name:t,value:currentElement}),e.clear(),!currentElement.parentNode||i instanceof r||(null==i?currentElement.parentNode.removeChild(currentElement):currentElement.parentNode.replaceChild(i,currentElement)),o({name:t,value:currentElement}))}}(n,t,o,r,b);Object.defineProperty(this.clazz.obj,t,{enumerable:!0,configurable:!0,get:i,set:l}),this.execControllerMethod("afterBindObj",{name:t,value:e})}},this.bindControllerSingleList=function(e,t){if(null!=e&&null!=t){if(null===this.clazz.obj[t]||void 0===this.clazz.obj[t]){let e=this.getControllerMethodInputArgs(this,"beforeRemoveList"),n=this.getControllerMethodInputArgs(this,"afterRemoveList"),o=this.getControllerMethodInputArgs(this,"beforeBindList"),r=this.getControllerMethodInputArgs(this,"afterBindList");this.clazz.obj[t]=new this.elementList(t,e,n,o,r,b)}this.clazz.obj[t].add(e)}},this.bindControllerSingleEvent=function(e,t){null!=e&&null!=t&&this.setEventFunction(t,this.clazz.obj,this.controllerMethodList,e,this.controllerEventMethodList,this.clazz.obj)},this.execMethod=function(e,t,n,o){if(t[n]){if(null==o){let t=null;try{t=e[n]()}catch(e){if(!this.clazz.obj.errorHandle||"function"!=typeof this.clazz.obj.errorHandle)throw e;this.clazz.obj.errorHandle(null,e)}finally{this.clazz.obj.finalHandle&&"function"==typeof this.clazz.obj.finalHandle&&this.clazz.obj.finalHandle(null,t)}return t}{let t=null;try{t=e[n](o)}catch(e){if(!this.clazz.obj.errorHandle||"function"!=typeof this.clazz.obj.errorHandle)throw e;this.clazz.obj.errorHandle(null,e)}finally{this.clazz.obj.finalHandle&&"function"==typeof this.clazz.obj.finalHandle&&this.clazz.obj.finalHandle(null,t)}return t}}return null},this.execControllerMethod=function(e,t){return this.execMethod(this.clazz.obj,this.controllerMethodList,e,t)},this.getExecMethod=function(e,t,n,o,r){return function(){return e.execMethod(t,n,o,r)}},this.getControllerMethod=function(e,t,n){return function(){return e.execControllerMethod(t,n)}},this.getControllerMethodInputArgs=function(e,t){return function(n){return e.execControllerMethod(t,n)}},this.getMethodList=function(e){let t={},n=e,o=null;for(;null!=n&&(o=Object.getPrototypeOf(n),null!=o);){let r=Object.getOwnPropertyNames(n);if(r)for(let n of r)"function"==typeof e[n]&&(t[n]=e[n].bind(e));n=o}return t},this.removeAllNest=function(e){if(null==e)return;this.removeAllSingle(e);let t=e.childNodes,n=null;if(null!=t)for(let e=0;e<t.length;e++)n=t.item(e),this.removeAllNest(n)},this.removeAllSingle=function(e){this.deleteMeta(e);let t=e.dataset;if(null!=t){let n=t.obj,o=t.list,r=t.name;if(!this.targetDomMap.has(e))return;null!=n&&this.removeControllerSingleObj(e,n),null!=o&&this.removeControllerSingleList(e,o),null!=r&&this.removeControllerSingleEvent(e,r);let i=this.targetDomMap.get(e);for(let l in i){let s=i[l],a=s.componentPath,u=s.componentCamel;n=t[u+"Obj"],o=t[u+"List"],r=t[u+"Name"],null!=n&&this.removeComponentSingleObj(e,n,a),null!=o&&this.removeComponentSingleList(e,o,a),null!=r&&this.removeComponentSingleEvent(e,r,a)}}},this.removeControllerSingleObjOnlyValue=function(e,t){null!=e&&null!=t&&this.clazz.obj[t]===e&&(this.clazz.obj[t]=new b)},this.removeControllerSingleObj=function(e,t){null!=e&&null!=t&&this.clazz.obj[t]===e&&(this.clazz.obj[t]=null)},this.removeControllerSingleListOnlyValue=function(e,t){null!=e&&null!=t&&void 0!==this.clazz.obj[t]&&this.clazz.obj[t].has&&this.clazz.obj[t].has(e)&&this.clazz.obj[t].replace(e,new b)},this.removeControllerSingleList=function(e,t){null!=e&&null!=t&&void 0!==this.clazz.obj[t]&&this.clazz.obj[t].has&&this.clazz.obj[t].has(e)&&this.clazz.obj[t].remove(e)},this.removeControllerSingleEvent=function(e,t){null!=e&&null!=t&&this.removeEventFunction(t,this.clazz.obj,this.controllerMethodList,e)},this.singleComponentInsertFunc=function(e,t,n,o,r,i,l,s,a,u){null==u&&(u=0);let c=function(){};null!=i&&"function"==typeof i&&(c=i),import(o+"?"+e.version).then(e.loadSingleComponentControllerMethodList(e,t,n,a,r,c,s,l)).catch(function(e,t,n,o,r,i,l,s,a,u){return function(c){fairysupportComponentFail(u)?e.singleComponentInsertFunc(e,t,n,o,r,i,l,s,a,++u):null!=l&&l(c)}}(e,t,n,o,r,i,l,s,a,u))},this.loadSingleComponentControllerMethodList=function(e,t,n,o,r,i,l,s){return function(a){let u=n.componentPath,c="components/"+u.substring(0,u.length-1);if(!e.instanceMap[c]){e.componentControllerList[u]=new a.default,e.instanceMap[c]=e.componentControllerList[u],e.componentControllerMethodList[u]=e.getMethodList(e.componentControllerList[u]),e.componentControllerEventMethodList[u]||(e.componentControllerEventMethodList[u]={});for(let t in e.componentControllerMethodList[u]){let n=t.split("_");if(n.length>1){let t="";for(let e=0;e<n.length-1;e++)t+=n[e]+"_";t=t.substring(0,t.length-1),e.componentControllerEventMethodList[u][t]||(e.componentControllerEventMethodList[u][t]=[]),e.componentControllerEventMethodList[u][t].push(n[n.length-1])}}}e.getInsertComponent(e,t,n,o,r,i,l,s)()}},this.getInsertComponent=function(e,t,n,o,r,i,l,s){return function(){let a=function(e,t,n,o,r,i){return function(l){let s=e.getComponentMethod(e,n.componentPath,"init",o,r),a=l.childNodes,u=null;if(null!=a){e.componentDomInitCntMap.set(s,0),e.componentDomInitTotalMap.set(s,a.length);for(let t=0;t<a.length;t++)u=a.item(t),e.addComponentTargetDomNest(u,n),e.componentDomInitFuncMap.set(u,s)}"before"===i&&t.parentNode?t.parentNode.insertBefore(l,t):"after"===i&&t.parentNode?null===t.nextSibling||void 0===t.nextSibling?t.parentNode.appendChild(l):t.parentNode.insertBefore(l,t.nextSibling):("append"===i||(t.innerHTML=""),t.appendChild(l))}}(e,t,n,r,i,l);e.getTplDom(o,r,s,a)}},this.addTargetDomForComponent=function(e,t){let n=e.dataset;if(null!=n){let o=n[t.componentCamel+"Obj"],r=n[t.componentCamel+"List"],i=n[t.componentCamel+"Name"];null==o&&null==r&&null==i||this.addTargetDom(e,t)}},this.addComponentTargetDomNest=function(e,t){if(null==e)return;this.addTargetDomForComponent(e,t);let n=e.childNodes,o=null;if(null!=n)for(let e=0;e<n.length;e++)o=n.item(e),this.addComponentTargetDomNest(o,t)},this.bindComponentSingleObj=function(e,t,n){if(null!=e&&null!=t){this.execComponentMethod(n,"beforeBindObj",{name:t,value:e});let o=new Set;o.add(e);let r=this.getComponentMethodInputArgs(this,n,"beforeRemoveObj"),i=this.getComponentMethodInputArgs(this,n,"afterRemoveObj"),l=function(e){return function(){for(let t of e.values())return t;return null}}(o),s=function(e,t,n,o,r){return function(i){currentElement=null;for(let t of e.values()){currentElement=t;break}currentElement&&(n({name:t,value:currentElement}),e.clear(),!currentElement.parentNode||i instanceof r||(null==i?currentElement.parentNode.removeChild(currentElement):i instanceof Node&&currentElement.parentNode.replaceChild(i,currentElement)),o({name:t,value:currentElement}))}}(o,t,r,i,b);Object.defineProperty(this.componentControllerList[n],t,{enumerable:!0,configurable:!0,get:l,set:s}),this.execComponentMethod(n,"afterBindObj",{name:t,value:e})}},this.bindComponentSingleList=function(e,t,n){if(null!=e&&null!=t){if(null===this.componentControllerList[n][t]||void 0===this.componentControllerList[n][t]){let e=this.getComponentMethodInputArgs(this,n,"beforeRemoveList"),o=this.getComponentMethodInputArgs(this,n,"afterRemoveList"),r=this.getComponentMethodInputArgs(this,n,"beforeBindList"),i=this.getComponentMethodInputArgs(this,n,"afterBindList");this.componentControllerList[n][t]=new this.elementList(t,e,o,r,i,b)}this.componentControllerList[n][t].add(e)}},this.bindComponentSingleEvent=function(e,t,n){null!=e&&null!=t&&this.setEventFunction(t,this.componentControllerList[n],this.componentControllerMethodList[n],e,this.componentControllerEventMethodList[n],this.clazz.obj)},this.execComponentMethod=function(e,t,n){return this.execMethod(this.componentControllerList[e],this.componentControllerMethodList[e],t,n)},this.getComponentMethod=function(e,t,n,o,r){return function(){let i=e.execComponentMethod(t,n,o);return r(),i}},this.getComponentMethodInputArgs=function(e,t,n){return function(o){return e.execComponentMethod(t,n,o)}},this.removeComponentSingleObjOnlyValue=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&this.componentControllerList[n][t]===e&&(this.componentControllerList[n][t]=new b)},this.removeComponentSingleObj=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&this.componentControllerList[n][t]===e&&(this.componentControllerList[n][t]=null)},this.removeComponentSingleListOnlyValue=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&void 0!==this.componentControllerList[n][t]&&this.componentControllerList[n][t].has&&this.componentControllerList[n][t].has(e)&&this.componentControllerList[n][t].replace(e,new b)},this.removeComponentSingleList=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&void 0!==this.componentControllerList[n][t]&&this.componentControllerList[n][t].has&&this.componentControllerList[n][t].has(e)&&this.componentControllerList[n][t].remove(e)},this.removeComponentSingleEvent=function(e,t,n){null!=e&&null!=t&&this.removeEventFunction(t,this.componentControllerList[n],this.componentControllerMethodList[n],e)},this.getComponentValue=function(e){let t="",n="",o="",r=(e=e.trim()).split(".");for(let e of r)""!==e.trim()&&(t+=e+"/",n+=e.substring(0,1).toUpperCase()+e.substring(1),o+=e+"-");return n=n.substring(0,1).toLowerCase()+n.substring(1),o=o.substring(0,o.length-1),{componentPath:t,componentPackeage:e,componentCamel:n,componentHyphen:o}},this.addTargetDom=function(e,t){if(this.targetDomMap.has(e)||this.targetDomMap.set(e,{}),null!=t){this.targetDomMap.get(e)[t.componentPackeage]=t,this.componentPackageList[t.componentPackeage]=t}},this.elementList=class{constructor(e,t,n,o,r,i){this.objMap=new Map,this.bindListStr=e,this.beforeMet=t,this.afterMet=n,this.addBeforeMet=o,this.addAfterMet=r,this.fairysupportClear=i}size(){return this.objMap.size}has(e){return this.objMap.has(e)}add(e){return this.addBeforeMet({name:this.bindListStr,value:e}),this.objMap.set(e,e),this.addAfterMet({name:this.bindListStr,value:e}),this}replace(e,t){return this.beforeMet({name:this.bindListStr,value:e}),this.objMap.delete(e),e&&(!e.parentNode||t instanceof b||(null==t?e.parentNode.removeChild(e):t instanceof Node&&e.parentNode.replaceChild(t,e))),this.afterMet({name:this.bindListStr,value:e}),this}remove(e){return this.beforeMet({name:this.bindListStr,value:e}),this.objMap.delete(e),!e||!e.parentNode||e instanceof b||e.parentNode.removeChild(e),this.afterMet({name:this.bindListStr,value:e}),this}values(){return this.objMap.values()}forEach(e,t=null){if(null===t)for(let t of this.objMap.values())e(t);else for(let n of this.objMap.values())e(n,t)}},this.setEventFunction=function(e,t,n,o,r,i){let l="",s=[],a=e.split(",");for(let e=0;e<a.length;e++){let t=a[e].trim();s.push(t),l+=t+","}if(this.eventMap.has(t)&&this.eventMap.get(t).has(l)){let e=this.eventNameDataNameMap.get(t);if(e.has(l)){let r=e.get(l);for(let e of r.keys()){let i=r.get(e);for(let r of i)this.execMethod(t,n,"beforeName",{name:r,event:e,value:o});let s=this.eventMap.get(t).get(l).get(e);o.addEventListener(e,s);for(let r of i)this.execMethod(t,n,"afterName",{name:r,event:e,value:o})}}}else{for(let e of s)if(r[e])for(let n of r[e]){this.eventNameDataNameMap.has(t)||this.eventNameDataNameMap.set(t,new Map);let o=this.eventNameDataNameMap.get(t);o.has(l)||o.set(l,new Map);let r=o.get(l);r.has(n)||r.set(n,[]),r.get(n).push(e)}if(this.eventNameDataNameMap.has(t)){let e=this.eventNameDataNameMap.get(t);if(e.has(l)){let r=e.get(l);for(let e of r.keys()){let s=r.get(e),a=[];for(let r of s)this.execMethod(t,n,"beforeName",{name:r,event:e,value:o}),a.push(n[r+"_"+e]);this.eventMap.has(t)||this.eventMap.set(t,new Map);let u=this.eventMap.get(t);u.has(l)||u.set(l,new Map);let c=u.get(l);if(!c.has(e)){let n=function(e,t,n){return function(o){for(let r of e){let e=null;try{if(t.beforeEvent&&"function"==typeof t.beforeEvent&&t.beforeEvent(o),e=r(o),t.afterEvent&&"function"==typeof t.afterEvent&&t.afterEvent(o,e),!1===e)return}catch(e){if(!n.errorHandle||"function"!=typeof n.errorHandle)throw e;n.errorHandle(o,e)}finally{n.finalHandle&&"function"==typeof n.finalHandle&&n.finalHandle(o,e)}}}}(a,t,i);c.set(e,n)}o.addEventListener(e,c.get(e));for(let r of s)this.execMethod(t,n,"afterName",{name:r,event:e,value:o})}}}}},this.setEventFunctionForUniqueComponent=function(e,t,n,o,r,i){let l={},s=e.split(",");for(let e=0;e<s.length;e++){let i=s[e].trim();if(i in r)for(let e of r[i].values())i+"_"+e in n&&(e in l||(l[e]={}),this.execMethod(t,n,"beforeName",{name:i,event:e,value:o}),l[e][i]=n[i+"_"+e])}for(let e in l){let r=l[e],s=function(e,t,n){return function(o){for(let r of Object.values(e)){let e=null;try{if(t.beforeEvent&&"function"==typeof t.beforeEvent&&t.beforeEvent(o),e=r(o),t.afterEvent&&"function"==typeof t.afterEvent&&t.afterEvent(o,e),!1===e)return}catch(e){if(!n.errorHandle||"function"!=typeof n.errorHandle)throw e;n.errorHandle(o,e)}finally{n.finalHandle&&"function"==typeof n.finalHandle&&n.finalHandle(o,e)}}}}(r,t,i);o.addEventListener(e,s);for(let i in r)this.execMethod(t,n,"afterName",{name:i,event:e,value:o})}},this.removeEventFunction=function(e,t,n,o){let r="",i=e.split(",");for(let e=0;e<i.length;e++){r+=i[e].trim()+","}if(this.eventMap.has(t)&&this.eventMap.get(t).has(r)){let e=this.eventNameDataNameMap.get(t);if(e.has(r)){let i=e.get(r);for(let e of i.keys()){let l=i.get(e);for(let r of l)this.execMethod(t,n,"beforeRemoveName",{name:r,event:e,value:o});let s=this.eventMap.get(t).get(r).get(e);o.removeEventListener(e,s);for(let r of l)this.execMethod(t,n,"afterRemoveName",{name:r,event:e,value:o})}}}},this.esc=function(e,...t){return function(n,o){let r="";if(null!=t)for(let n=0;n<t.length;n++){let i=$___fairysupport_param(o,null,t[n]);i=String(i),r+=e[n]+i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}return null==t||null===t.length||void 0===t.length?r+=e[0]:t.length<e.length&&(r+=e[t.length]),r}},this.getTplDom=function(e,t,n,o){let r=document.createElement("template");r.innerHTML=e;let i=r.content;null==t&&(t=Object.create(null));let l=Object.create(null),s=Object.create(null);this.developTpl(i,t,s,l,n,o)},this.getTplChildNodeList=function*(e){for(e.i=0;e.i<e.childNodes.length;e.i++)yield e.childNodes.item(e.i);void 0!==e.cb&&null!==e.cb&&e.cb(e.dom)},this.developTpl=async function(e,t,n,o,r,i){try{if(null==e)return void(null!=i&&i(e));let l=new WeakMap,s=null,a=e.childNodes,u=null,c={childNodes:a,i:0,cb:i,dom:e};if(null!=a)for await(u of this.getTplChildNodeList(c)){if("continueVal"in o&&o.continueVal>0)return this.selfAndNextDelete(u),void(null!=i&&i(e));if("breakVal"in o&&o.breakVal>0)return this.selfAndNextDelete(u),void(null!=i&&i(e));if(u instanceof CharacterData)continue;let a=u.dataset,h=a.tag,f=a.js;if(null!=u&&null!=f&&(delete u.dataset.js,$___fairysupport_param(t,n,f)),f=a.attr,null!=u&&null!=f){delete u.dataset.attr;let e=$___fairysupport_param(t,n,"("+f+")");for(const[t,n]of Object.entries(e))u.setAttribute(t,n)}if(f=a.prop,null!=u&&null!=f){delete u.dataset.prop;let e=$___fairysupport_param(t,n,"("+f+")");this.setTplProp(u,e)}if(f=a.template,null!=u&&null!=f){delete u.dataset.template;let e="";try{e=$___fairysupport_param(t,n,f)}catch(t){e=f}let o="";try{o=await this.getTemplate(e)}catch(e){throw e}u.innerHTML=o}if(f=a.text,null!=u&&null!=f){delete u.dataset.text;let e="";try{e=$___fairysupport_param(t,n,f)}catch(t){e=f}u.innerHTML="",u.appendChild(document.createTextNode(e))}if(f=a.html,null!=u&&null!=f){delete u.dataset.html;let e="";try{e=$___fairysupport_param(t,n,f)}catch(t){e=f}u.innerHTML=e}if(f=a.else,null!=u&&null!=f&&(delete u.dataset.else,!1===s?(u.innerHTML="",u.parentNode.removeChild(u),u=null):!0===s?s=!1:(s=!1,u.innerHTML="",u.parentNode.removeChild(u),u=null)),f=a.elseif,null!=u&&null!=f)if(delete u.dataset.elseif,!1===s)u.innerHTML="",u.parentNode.removeChild(u),u=null;else if(!0===s){$___fairysupport_param(t,n,f)?s=!1:(u.innerHTML="",u.parentNode.removeChild(u),u=null)}else s=!1,u.innerHTML="",u.parentNode.removeChild(u),u=null;if(f=a.if,null!=u&&null!=f){delete u.dataset.if,$___fairysupport_param(t,n,f)?s=!1:(s=!0,u.innerHTML="",u.parentNode.removeChild(u),u=null)}if(f=a.continue,null!=u&&null!=f&&(delete u.dataset.continue,o.continueVal=f,f>0))return this.nextDelete(u),this.deleteTag(u,h),void(null!=i&&i(e));if(f=a.break,null!=u&&null!=f&&(delete u.dataset.break,o.breakVal=f,f>0))return this.nextDelete(u),this.deleteTag(u,h),void(null!=i&&i(e));let p=a.forStart,d=a.forEnd,m=a.forStep;if(null!=u&&null!=p&&null!=d&&null!=m){delete u.dataset.forStart,delete u.dataset.forEnd,delete u.dataset.forStep;let s=!0,a=null;for($___fairysupport_param(t,n,p);$___fairysupport_param(t,n,d);$___fairysupport_param(t,n,m)){let c=u.cloneNode(!0);if(await this.developTpl(c,t,n,o,r),l.set(c,c),u.parentNode.insertBefore(c,u),s&&(s=!1,a=c),"continueVal"in o&&o.continueVal>0){if(o.continueVal>1)return o.continueVal--,this.nextDelete(c),this.deleteTag(a,h),void(null!=i&&i(e));o.continueVal--,delete o.continueVal}else if("breakVal"in o&&o.breakVal>0){if(o.breakVal>1)return o.breakVal--,this.nextDelete(c),this.deleteTag(a,h),void(null!=i&&i(e));o.breakVal--,delete o.breakVal;break}}u.innerHTML="",u.parentNode.removeChild(u),u=a}let g=a.foreach,b=a.foreachKey,C=a.foreachValue;if(null!=u&&null!=g&&null!=b&&null!=C){delete u.dataset.foreach,delete u.dataset.foreachKey,delete u.dataset.foreachValue;let s=!0,a=null;for(const[c,f]of Object.entries($___fairysupport_param(t,n,g))){n[b]=c,n[C]=f;let p=u.cloneNode(!0);if(await this.developTpl(p,t,n,o,r),l.set(p,p),u.parentNode.insertBefore(p,u),s&&(s=!1,a=p),"continueVal"in o&&o.continueVal>0){if(o.continueVal>1)return o.continueVal--,this.nextDelete(p),this.deleteTag(a,h),void(null!=i&&i(e));o.continueVal--,delete o.continueVal}else if("breakVal"in o&&o.breakVal>0){if(o.breakVal>1)return o.breakVal--,this.nextDelete(p),this.deleteTag(a,h),void(null!=i&&i(e));o.breakVal--,delete o.breakVal;break}}u.innerHTML="",u.parentNode.removeChild(u),u=a}let y=a.while;if(null!=u&&null!=y){delete u.dataset.while;let s=!0,a=null;for(;$___fairysupport_param(t,n,y);){let c=u.cloneNode(!0);if(await this.developTpl(c,t,n,o,r),l.set(c,c),u.parentNode.insertBefore(c,u),s&&(s=!1,a=c),"continueVal"in o&&o.continueVal>0){if(o.continueVal>1)return o.continueVal--,this.nextDelete(c),this.deleteTag(a,h),void(null!=i&&i(e));o.continueVal--,delete o.continueVal}else if("breakVal"in o&&o.breakVal>0){if(o.breakVal>1)return o.breakVal--,this.nextDelete(c),this.deleteTag(a,h),void(null!=i&&i(e));o.breakVal--,delete o.breakVal;break}}u.innerHTML="",u.parentNode.removeChild(u),u=a}this.deleteTag(u,h)&&c.i--,null==u||l.has(u)||await this.developTpl(u,t,n,o,r)}}catch(e){throw r(e),e}},this.deleteTag=function(e,t){let n=!1;if(null!=e&&null!=t&&(delete e.dataset.tag,"hidden"===t||"hidden"===$___fairysupport_param(paramObj,localValue,t))){let t=e.childNodes,o=null;if(null!=t)for(let n=0;n<t.length;n++)o=t.item(n),e.removeChild(o),e.parentNode.insertBefore(o,e);e.parentNode.removeChild(e),n=!0}return n},this.selfAndNextDelete=function(e){this.nextDelete(e),e.parentNode.removeChild(e)},this.nextDelete=function(e){let t=null;for(;null!==(t=e.nextSibling);)t.parentNode.removeChild(t)},this.setTplProp=function(e,t){if(null!==e||void 0!==e)for(const[n,o]of Object.entries(t))o.constructor===Object?this.setTplProp(e[n],o):e[n]=o},this.getTemplate=function(e,t){null==t&&(t=0);let n="",o=(e=e.trim()).split(".");for(let e of o)""!==e.trim()&&(n+=e+"/");return n=n.substring(0,n.length-1),new Promise(function(e,t,n,o){return function(r,i){let l=e.emptyAjax(o+"?"+e.version,null,"GET","query");l.timeout=f,l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Accept","text/*"),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.responseType="text",l.onloadend=function(e,t,n,r,i){return function(l,s){if(200===s.status){let e=s.response;r(e)}else{if(fairysupportTemplateFail(n))e.getTemplate(t,++n).then(r).catch(i);else try{throw new Error("error : load template : "+o+" : "+("statusText"in s?s.statusText:"")+" : "+("responseText"in s?s.responseText:""))}catch(e){i(e)}}}}(e,t,n,r,i),l.send()}}(this,e,t,c+n+".html"))},this.appendLoadStringTemplate=function(e,t,n){return this.loadStringTemplate(e,t,n,"append")},this.beforeLoadStringTemplate=function(e,t,n){return this.loadStringTemplate(e,t,n,"before")},this.afterLoadStringTemplate=function(e,t,n){return this.loadStringTemplate(e,t,n,"after")},this.loadStringTemplate=function(e,t,n,o,r){return new Promise(function(e,t,n,o,r,i){return function(i,l){let s=function(e,t,n,o){return function(r){e.addInitFuncForAfterObserver(r,o),"before"===n&&t.parentNode?t.parentNode.insertBefore(r,t):"after"===n&&t.parentNode?null===t.nextSibling||void 0===t.nextSibling?t.parentNode.appendChild(r):t.parentNode.insertBefore(r,t.nextSibling):("append"===n||(t.innerHTML=""),t.appendChild(r))}}(e,t,r,i);e.getTplDom(n,o,l,s)}}(this,e,t,n,o))},this.appendLoadTemplate=function(e,t,n){return this.loadTemplate(e,t,n,"append")},this.beforeLoadTemplate=function(e,t,n){return this.loadTemplate(e,t,n,"before")},this.afterLoadTemplate=function(e,t,n){return this.loadTemplate(e,t,n,"after")},this.loadTemplate=function(e,t,n,o,r,i){null==r&&(r=0);let l="",s=(t=t.trim()).split(".");for(let e of s)""!==e.trim()&&(l+=e+"/");return l=l.substring(0,l.length-1),new Promise(function(e,t,n,o,r,i,l,s){return function(a,u){let c=e.emptyAjax(s+"?"+e.version,null,"GET","query");c.timeout=f,c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Accept","text/*"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.responseType="text",c.onloadend=function(e,t,n,o,r,i,l,a,u){return function(c,h){if(200===h.status){let n=h.response;e.loadStringTemplate(t,n,o,r,l).then(a).catch(u)}else{if(fairysupportTemplateFail(i))e.loadTemplate(t,n,o,r,++i,l).then(a).catch(u);else try{throw new Error("error : load template : "+s+" : "+("statusText"in h?h.statusText:"")+" : "+("responseText"in h?h.responseText:""))}catch(e){u(e)}}}}(e,t,n,o,r,i,l,a,u),c.send()}}(this,e,t,n,o,r,i,c+l+".html"))},this.appendResJsonTemplate=function(e,t,n,o,r){return this.resJsonTemplate(e,t,n,o,r,"append")},this.beforeResJsonTemplate=function(e,t,n,o,r){return this.resJsonTemplate(e,t,n,o,r,"before")},this.afterResJsonTemplate=function(e,t,n,o,r){return this.resJsonTemplate(e,t,n,o,r,"after")},this.resJsonTemplate=function(e,t,n,o,r,i,l,s){return null==l&&(l=0),new Promise(function(e,t,n,o,r,i,l,s,a){return function(u,c){let h=e.ajax(o,r);h.timeout=f,i&&(h.withCredentials=!0),h.onloadend=function(e,t,n,o,r,i,l,s,a,u,c){return function(h,f){if(200===f.status){let o=f.response;e.loadTemplate(t,n,o,l,0,a).then(u).catch(c)}else{if(fairysupportTemplateFail(s))e.resJsonTemplate(t,n,o,r,i,l,++s,a).then(u).catch(c);else try{throw new Error("error : load json for template : "+o+" : "+("statusText"in f?f.statusText:"")+" : "+("responseText"in f?f.responseText:""))}catch(e){c(e)}}}}(e,t,n,o,r,i,l,s,a,u,c),h.send()}}(this,e,t,n,o,r,i,l,s))},this.appendResJsonTemplateByForm=function(e,t,n,o,r){return this.resJsonTemplateByForm(e,t,n,o,r,"append")},this.beforeResJsonTemplateByForm=function(e,t,n,o,r){return this.resJsonTemplateByForm(e,t,n,o,r,"before")},this.afterResJsonTemplateByForm=function(e,t,n,o,r){return this.resJsonTemplateByForm(e,t,n,o,r,"after")},this.resJsonTemplateByForm=function(e,t,n,o,r,i,l,s){return null==l&&(l=0),new Promise(function(e,t,n,o,r,i,l,s,a){return function(u,c){let h=e.ajaxByForm(o,r);h.timeout=f,i&&(h.withCredentials=!0),h.onloadend=function(e,t,n,o,r,i,l,s,a,u,c){return function(h,f){if(200===f.status){let o=f.response;e.loadTemplate(t,n,o,l,0,a).then(u).catch(c)}else{if(fairysupportTemplateFail(s))e.resJsonTemplateByForm(t,n,o,r,i,l,++s,a).then(u).catch(c);else try{throw new Error("error : load json for template : "+o+" : "+("statusText"in f?f.statusText:"")+" : "+("responseText"in f?f.responseText:""))}catch(e){c(e)}}}}(e,t,n,o,r,i,l,s,a,u,c),h.send()}}(this,e,t,n,o,r,i,l,s))},this.appendResHtmlTemplate=function(e,t,n,o,r){return this.resHtmlTemplate(e,t,n,o,r,"append")},this.beforeResHtmlTemplate=function(e,t,n,o,r){return this.resHtmlTemplate(e,t,n,o,r,"before")},this.afterResHtmlTemplate=function(e,t,n,o,r){return this.resHtmlTemplate(e,t,n,o,r,"after")},this.resHtmlTemplate=function(e,t,n,o,r,i,l,s){return null==l&&(l=0),new Promise(function(e,t,n,o,r,i,l,s,a){return function(u,c){let h=e.emptyAjax(n,o);h.timeout=f,h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Accept","text/*"),h.setRequestHeader("Content-Type","application/json"),h.responseType="text",i&&(h.withCredentials=!0),h.onloadend=function(e,t,n,o,r,i,l,s,a,u,c){return function(h,f){if(200===f.status){let n=f.response;e.loadStringTemplate(t,n,r,l,a).then(u).catch(c)}else{if(fairysupportTemplateFail(s))e.resHtmlTemplate(t,n,o,r,i,l,++s,a).then(u).catch(c);else try{throw new Error("error : load template : "+n+" : "+("statusText"in f?f.statusText:"")+" : "+("responseText"in f?f.responseText:""))}catch(e){c(e)}}}}(e,t,n,o,r,i,l,s,a,u,c),h.send()}}(this,e,t,n,o,r,i,l,s))},this.appendResHtmlTemplateByForm=function(e,t,n,o,r){return this.resHtmlTemplateByForm(e,t,n,o,r,"append")},this.beforeResHtmlTemplateByForm=function(e,t,n,o,r){return this.resHtmlTemplateByForm(e,t,n,o,r,"before")},this.afterResHtmlTemplateByForm=function(e,t,n,o,r){return this.resHtmlTemplateByForm(e,t,n,o,r,"after")},this.resHtmlTemplateByForm=function(e,t,n,o,r,i,l,s){return null==l&&(l=0),new Promise(function(e,t,n,o,r,i,l,s,a){return function(u,c){let h=e.emptyAjaxByForm(n,o);h.timeout=f,h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Accept","text/*"),h.responseType="text",i&&(h.withCredentials=!0),h.onloadend=function(e,t,n,o,r,i,l,s,a){return function(h,f){if(200===f.status){let n=f.response;e.loadStringTemplate(t,n,r,l,a).then(u).catch(c)}else{if(fairysupportTemplateFail(s))e.resHtmlTemplateByForm(t,n,o,r,i,l,++s,a).then(u).catch(c);else try{throw new Error("error : load template : "+n+" : "+("statusText"in f?f.statusText:"")+" : "+("responseText"in f?f.responseText:""))}catch(e){c(e)}}}}(e,t,n,o,r,i,l,s,a),h.send()}}(this,e,t,n,o,r,i,l,s))},this.execUniqueComponentMethod=function(e,t,n,o){return this.execMethod(e,t,n,o)},this.getUniqueComponentMethod=function(e,t,n,o,r,i){return function(){let l=e.execUniqueComponentMethod(t,n,o,r);return i(),l}},this.getUniqueComponentMethodInputArgs=function(e,t,n,o){return function(r){return e.execUniqueComponentMethod(t,n,o,r)}},this.appendLoadUniqueComponent=function(e,t,n){return this.loadUniqueComponent(e,t,n,"append")},this.beforeLoadUniqueComponent=function(e,t,n){return this.loadUniqueComponent(e,t,n,"before")},this.afterLoadUniqueComponent=function(e,t,n){return this.loadUniqueComponent(e,t,n,"after")},this.loadUniqueComponent=function(e,t,n,o,r){null==r&&(r=0);let i=this.getComponentValue(t),l=u+i.componentPath+"controller.js",s=u+i.componentPath+"view.html";return new Promise(function(e,t,n,o,r,i,l,s,a){return function(n,u){let c=e.emptyAjax(a+"?"+e.version,null,"GET","query");c.timeout=f,c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Accept","text/*"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.responseType="text",c.onloadend=function(e,t,n,o,r,i,l,s,a,u,c){return function(n,h){if(200===h.status){let n=h.response;e.uniqueComponentInsertFunc(e,t,l,s,o,u,c,r,n,0)}else{if(fairysupportComponentFail(i))e.loadUniqueComponent(t,l.componentPackeage,o,r,++i).then(u).catch(c);else try{throw new Error("error : load template for uniqueComponent : "+a+" : "+("statusText"in h?h.statusText:"")+" : "+("responseText"in h?h.responseText:""))}catch(e){c(e)}}}}(e,t,0,o,r,i,l,s,a,n,u),c.send()}}(this,e,0,n,o,r,i,l,s))},this.appendResJsonUniqueComponent=function(e,t,n,o,r){return this.resJsonUniqueComponent(e,t,n,o,r,"append")},this.beforeResJsonUniqueComponent=function(e,t,n,o,r){return this.resJsonUniqueComponent(e,t,n,o,r,"before")},this.afterResJsonUniqueComponent=function(e,t,n,o,r){return this.resJsonUniqueComponent(e,t,n,o,r,"after")},this.resJsonUniqueComponent=function(e,t,n,o,r,i,l){return null==l&&(l=0),new Promise(function(e,t,n,o,r,i,l,s){return function(a,u){let c=e.ajax(o,r);c.timeout=f,i&&(c.withCredentials=!0),c.onloadend=function(e,t,n,o,r,i,l,s){return function(c,h){if(200===h.status){let o=h.response;e.loadUniqueComponent(t,n,o,l).then(a).catch(u)}else{if(fairysupportComponentFail(s))e.resJsonUniqueComponent(t,n,o,r,i,l,++s).then(a).catch(u);else try{throw new Error("error : load json for uniqueComponent : "+o+" : "+("statusText"in h?h.statusText:"")+" : "+("responseText"in h?h.responseText:""))}catch(e){u(e)}}}}(e,t,n,o,r,i,l,s),c.send()}}(this,e,t,n,o,r,i,l))},this.appendResJsonUniqueComponentByForm=function(e,t,n,o,r){return this.resJsonUniqueComponentByForm(e,t,n,o,r,"append")},this.beforeResJsonUniqueComponentByForm=function(e,t,n,o,r){return this.resJsonUniqueComponentByForm(e,t,n,o,r,"before")},this.afterResJsonUniqueComponentByForm=function(e,t,n,o,r){return this.resJsonUniqueComponentByForm(e,t,n,o,r,"after")},this.resJsonUniqueComponentByForm=function(e,t,n,o,r,i,l){return null==l&&(l=0),new Promise(function(e,t,n,o,r,i,l,s){return function(a,u){let c=e.ajaxByForm(o,r);c.timeout=f,i&&(c.withCredentials=!0),c.onloadend=function(e,t,n,o,r,i,l,s,a,u){return function(c,h){if(200===h.status){let o=h.response;e.loadUniqueComponent(t,n,o,l).then(a).catch(u)}else{if(fairysupportComponentFail(s))e.resJsonUniqueComponentByForm(t,n,o,r,i,l,++s).then(a).catch(u);else try{throw new Error("error : load json for uniqueComponent : "+o+" : "+("statusText"in h?h.statusText:"")+" : "+("responseText"in h?h.responseText:""))}catch(e){u(e)}}}}(e,t,n,o,r,i,l,s,a,u),c.send()}}(this,e,t,n,o,r,i,l))},this.appendResHtmlUniqueComponent=function(e,t,n,o,r,i){return this.resHtmlUniqueComponent(e,t,n,o,r,i,"append")},this.beforeResHtmlUniqueComponent=function(e,t,n,o,r,i){return this.resHtmlUniqueComponent(e,t,n,o,r,i,"before")},this.afterResHtmlUniqueComponent=function(e,t,n,o,r,i){return this.resHtmlUniqueComponent(e,t,n,o,r,i,"after")},this.resHtmlUniqueComponent=function(e,t,n,o,r,i,l,s){return null==s&&(s=0),new Promise(function(e,t,n,o,r,i,l,s,a,u){return function(c,h){let p=e.emptyAjax(o,r);p.timeout=f,p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.setRequestHeader("Accept","text/*"),p.setRequestHeader("Content-Type","application/json"),p.responseType="text",l&&(p.withCredentials=!0),p.onloadend=function(e,t,n,o,r,i,l,s,a,u){return function(f,p){if(200===p.status){let o=p.response,r=e.getComponentValue(n),l=u+r.componentPath+"controller.js";e.uniqueComponentInsertFunc(e,t,r,l,i,c,h,s,o)}else{if(fairysupportComponentFail(a))e.resHtmlUniqueComponent(t,n,o,r,i,l,s,++a).then(c).catch(h);else try{throw new Error("error : load template for uniqueComponent : "+o+" : "+("statusText"in p?p.statusText:"")+" : "+("responseText"in p?p.responseText:""))}catch(e){h(e)}}}}(e,t,n,o,r,i,l,s,a,u),p.send()}}(this,e,t,n,o,r,i,l,s,u))},this.appendResHtmlUniqueComponentByForm=function(e,t,n,o,r,i){return this.resHtmlUniqueComponentByForm(e,t,n,o,r,i,"append")},this.beforeResHtmlUniqueComponentByForm=function(e,t,n,o,r,i){return this.resHtmlUniqueComponentByForm(e,t,n,o,r,i,"before")},this.afterResHtmlUniqueComponentByForm=function(e,t,n,o,r,i){return this.resHtmlUniqueComponentByForm(e,t,n,o,r,i,"after")},this.resHtmlUniqueComponentByForm=function(e,t,n,o,r,i,l,s){return null==s&&(s=0),new Promise(function(e,t,n,o,r,i,l,s,a,u){return function(c,h){let p=e.emptyAjaxByForm(o,r);p.timeout=f,p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.setRequestHeader("Accept","text/*"),p.responseType="text",l&&(p.withCredentials=!0),p.onloadend=function(e,t,n,o,r,i,l,s,a,u,c,h){return function(f,p){if(200===p.status){let o=p.response,r=e.getComponentValue(n),l=u+r.componentPath+"controller.js";e.uniqueComponentInsertFunc(e,t,r,l,i,c,h,s,o)}else{if(fairysupportComponentFail(a))e.resHtmlUniqueComponentByForm(t,n,o,r,i,l,s,++a).then(c).catch(h);else try{throw new Error("error : load template for uniqueComponent : "+o+" : "+("statusText"in p?p.statusText:"")+" : "+("responseText"in p?p.responseText:""))}catch(e){h(e)}}}}(e,t,n,o,r,i,l,s,a,u,c,h),p.send()}}(this,e,t,n,o,r,i,l,s,u))},this.uniqueComponentInsertFunc=function(e,t,n,o,r,i,l,s,a,u){null==u&&(u=0);let c=function(){};null!=i&&(c=i),import(o+"?"+e.version).then(e.loadUniqueComponentControllerMethodList(e,t,n,a,r,c,s)).catch(function(e,t,n,o,r,i,l,s,a,u,l){return function(c){fairysupportComponentFail(u)?e.uniqueComponentInsertFunc(e,t,n,o,r,i,l,s,a,++u):null!=l&&l(c)}}(e,t,n,o,r,i,l,s,a,u))},this.loadUniqueComponentControllerMethodList=function(e,t,n,o,r,i,l,s){return function(a){let u=new a.default,c=e.getMethodList(u),h={};for(let e in c){let t=e.split("_");if(t.length>1){let e="";for(let n=0;n<t.length-1;n++)e+=t[n]+"_";e=e.substring(0,e.length-1),h[e]||(h[e]=[]),h[e].push(t[t.length-1])}}e.getInsertUniqueComponent(e,t,n,o,r,i,l,u,c,h,s)()}},this.getInsertUniqueComponent=function(e,t,n,o,r,i,l,s,a,u,c){return function(){let h=function(e,t,n,o,r,i,l,s,a){return function(u){let c=e.getUniqueComponentMethod(e,l,s,"init",o,r);e.addInitFuncForAfterObserver(u,c);let h=u.childNodes,f=null;if(null!=h)for(let t=0;t<h.length;t++)f=h.item(t),e.bindUniqueComponentAll(f,n,l,s,a);"before"===i&&t.parentNode?t.parentNode.insertBefore(u,t):"after"===i&&t.parentNode?null===t.nextSibling||void 0===t.nextSibling?t.parentNode.appendChild(u):t.parentNode.insertBefore(u,t.nextSibling):("append"===i||(t.innerHTML=""),t.appendChild(u))}}(e,t,n,r,i,l,s,a,u);e.getTplDom(o,r,c,h)}},this.bindUniqueComponentAll=function(e,t,n,o,r){if(null==e)return;this.bindAllSingle(e,this.bindUniqueComponentProp(this,e,t,n,o,r));let i=e.childNodes,l=null;if(null!=i)for(let e=0;e<i.length;e++)l=i.item(e),this.bindUniqueComponentAll(l,t,n,o,r)},this.bindUniqueComponentProp=function(e,t,n,o,r,i){return function(){let l=t.dataset;if(null!=l){let s=l[n.componentCamel+"Obj"],a=l[n.componentCamel+"List"],u=l[n.componentCamel+"Name"];null!=s&&e.bindUniqueComponentSingleObj(t,s,o,r),null!=a&&e.bindUniqueComponentSingleList(t,a,o,r),null!=u&&e.bindUniqueComponentSingleEvent(t,u,o,r,i)}}},this.bindUniqueComponentSingleObj=function(e,t,n,o){if(null!=e&&null!=t){this.execUniqueComponentMethod(n,o,"beforeBindObj",{name:t,value:e});let r=new Set;r.add(e);let i=this.getUniqueComponentMethodInputArgs(this,n,o,"beforeRemoveObj"),l=this.getUniqueComponentMethodInputArgs(this,n,o,"afterRemoveObj"),s=function(e){return function(){for(let t of e.values())return t;return null}}(r),a=function(e,t,n,o,r){return function(i){currentElement=null;for(let t of e.values()){currentElement=t;break}currentElement&&(n({name:t,value:currentElement}),e.clear(),!currentElement.parentNode||i instanceof r||(null==i?currentElement.parentNode.removeChild(currentElement):i instanceof Node&&currentElement.parentNode.replaceChild(i,currentElement)),o({name:t,value:currentElement}))}}(r,t,i,l,b);Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:s,set:a}),this.execUniqueComponentMethod(n,o,"afterBindObj",{name:t,value:e})}},this.bindUniqueComponentSingleList=function(e,t,n,o){if(null!=e&&null!=t){if(null===n[t]||void 0===n[t]){let e=this.getUniqueComponentMethodInputArgs(this,n,o,"beforeRemoveList"),r=this.getUniqueComponentMethodInputArgs(this,n,o,"afterRemoveList"),i=this.getUniqueComponentMethodInputArgs(this,n,o,"beforeBindList"),l=this.getUniqueComponentMethodInputArgs(this,n,o,"afterBindList");n[t]=new this.elementList(t,e,r,i,l,b)}n[t].add(e)}},this.bindUniqueComponentSingleEvent=function(e,t,n,o,r){null!=e&&null!=t&&this.setEventFunctionForUniqueComponent(t,n,o,e,r,this.clazz.obj)},this.appendLoadSingleComponent=function(e,t,n){return this.loadSingleComponent(e,t,n,"append")},this.beforeLoadSingleComponent=function(e,t,n){return this.loadSingleComponent(e,t,n,"before")},this.afterLoadSingleComponent=function(e,t,n){return this.loadSingleComponent(e,t,n,"after")},this.loadSingleComponent=function(e,t,n,o,r){null==r&&(r=0);let i=this.getComponentValue(t),l=u+i.componentPath+"controller.js",s=u+i.componentPath+"view.html";return new Promise(function(e,t,n,o,r,i,l,s,a){return function(n,u){let c=e.emptyAjax(a+"?"+e.version,null,"GET","query");c.timeout=f,c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Accept","text/*"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.responseType="text",c.onloadend=function(e,t,o,r,i,l,s,o,l,a){return function(c,h){if(200===h.status){let s=h.response;e.singleComponentInsertFunc(e,t,o,l,r,n,u,i,s,0)}else{if(fairysupportComponentFail(s))e.loadSingleComponent(t,o.componentPackeage,r,i,++s).then(n).catch(u);else try{throw new Error("error : load template for singleComponent : "+a+" : "+("statusText"in h?h.statusText:"")+" : "+("responseText"in h?h.responseText:""))}catch(e){u(e)}}}}(e,t,l,o,r,s,i,l,s,a),c.send()}}(this,e,0,n,o,r,i,l,s))},this.appendResJsonSingleComponent=function(e,t,n,o,r){return this.resJsonSingleComponent(e,t,n,o,r,"append")},this.beforeResJsonSingleComponent=function(e,t,n,o,r){return this.resJsonSingleComponent(e,t,n,o,r,"before")},this.afterResJsonSingleComponent=function(e,t,n,o,r){return this.resJsonSingleComponent(e,t,n,o,r,"after")},this.resJsonSingleComponent=function(e,t,n,o,r,i,l){return null==l&&(l=0),new Promise(function(e,t,n,o,r,i,l,s){return function(a,u){let c=e.ajax(o,r);c.timeout=f,i&&(c.withCredentials=!0),c.onloadend=function(e,t,n,o,r,i,l,s){return function(c,h){if(200===h.status){let o=h.response;e.loadSingleComponent(t,n,o,l).then(a).catch(u)}else{if(fairysupportComponentFail(s))e.resJsonSingleComponent(t,n,o,r,i,l,++s).then(a).catch(u);else try{throw new Error("error : load json for singleComponent : "+o+" : "+("statusText"in h?h.statusText:"")+" : "+("responseText"in h?h.responseText:""))}catch(e){u(e)}}}}(e,t,n,o,r,i,l,s),c.send()}}(this,e,t,n,o,r,i,l))},this.appendResJsonSingleComponentByForm=function(e,t,n,o,r){return this.resJsonSingleComponentByForm(e,t,n,o,r,"append")},this.beforeResJsonSingleComponentByForm=function(e,t,n,o,r){return this.resJsonSingleComponentByForm(e,t,n,o,r,"before")},this.afterResJsonSingleComponentByForm=function(e,t,n,o,r){return this.resJsonSingleComponentByForm(e,t,n,o,r,"after")},this.resJsonSingleComponentByForm=function(e,t,n,o,r,i,l){return null==l&&(l=0),new Promise(function(e,t,n,o,r,i,l,s){return function(a,u){let c=e.ajaxByForm(o,r);c.timeout=f,i&&(c.withCredentials=!0),c.onloadend=function(e,t,n,o,r,i,l,s){return function(c,h){if(200===h.status){let o=h.response;e.loadSingleComponent(t,n,o,l).then(a).catch(u)}else{if(fairysupportComponentFail(s))e.resJsonSingleComponentByForm(t,n,o,r,i,l,++s).then(a).catch(u);else try{throw new Error("error : load json for singleComponent : "+o+" : "+("statusText"in h?h.statusText:"")+" : "+("responseText"in h?h.responseText:""))}catch(e){u(e)}}}}(e,t,n,o,r,i,l,s),c.send()}}(this,e,t,n,o,r,i,l))},this.appendResHtmlSingleComponent=function(e,t,n,o,r,i){return this.resHtmlSingleComponent(e,t,n,o,r,i,"append")},this.beforeResHtmlSingleComponent=function(e,t,n,o,r,i){return this.resHtmlSingleComponent(e,t,n,o,r,i,"before")},this.afterResHtmlSingleComponent=function(e,t,n,o,r,i){return this.resHtmlSingleComponent(e,t,n,o,r,i,"after")},this.resHtmlSingleComponent=function(e,t,n,o,r,i,l,s){return null==s&&(s=0),new Promise(function(e,t,n,o,r,i,l,s,a,u){return function(c,h){let p=e.emptyAjax(o,r);p.timeout=f,p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.setRequestHeader("Accept","text/*"),p.setRequestHeader("Content-Type","application/json"),p.responseType="text",l&&(p.withCredentials=!0),p.onloadend=function(e,t,n,o,r,i,l,s,a,u){return function(f,p){if(200===p.status){let o=p.response,r=e.getComponentValue(n),l=u+r.componentPath+"controller.js";e.singleComponentInsertFunc(e,t,r,l,i,c,h,s,o)}else{if(fairysupportComponentFail(a))e.resHtmlSingleComponent(t,n,o,r,i,l,s,++a).then(c).catch(h);else try{throw new Error("error : load template for singleComponent : "+o+" : "+("statusText"in p?p.statusText:"")+" : "+("responseText"in p?p.responseText:""))}catch(e){h(e)}}}}(e,t,n,o,r,i,l,s,a,u),p.send()}}(this,e,t,n,o,r,i,l,s,u))},this.appendResHtmlSingleComponentByForm=function(e,t,n,o,r,i){return this.resHtmlSingleComponentByForm(e,t,n,o,r,i,"append")},this.beforeResHtmlSingleComponentByForm=function(e,t,n,o,r,i){return this.resHtmlSingleComponentByForm(e,t,n,o,r,i,"before")},this.afterResHtmlSingleComponentByForm=function(e,t,n,o,r,i){return this.resHtmlSingleComponentByForm(e,t,n,o,r,i,"after")},this.resHtmlSingleComponentByForm=function(e,t,n,o,r,i,l,s){return null==s&&(s=0),new Promise(function(e,t,n,o,r,i,l,s,a,u){return function(c,h){let p=e.emptyAjaxByForm(o,r);p.timeout=f,p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.setRequestHeader("Accept","text/*"),p.responseType="text",l&&(p.withCredentials=!0),p.onloadend=function(e,t,n,o,r,i,l,s,a,u){return function(f,p){if(200===p.status){let o=p.response,r=e.getComponentValue(n),l=u+r.componentPath+"controller.js";e.singleComponentInsertFunc(e,t,r,l,i,c,h,s,o)}else{if(fairysupportComponentFail(a))e.resHtmlSingleComponentByForm(t,n,o,r,i,l,s,++a).then(c).catch(h);else try{throw new Error("error : load template for singleComponent : "+o+" : "+("statusText"in p?p.statusText:"")+" : "+("responseText"in p?p.responseText:""))}catch(e){h(e)}}}}(e,t,n,o,r,i,l,s,a,u),p.send()}}(this,e,t,n,o,r,i,l,s,u))},this.paramFmt=function(e,t,n){let o="";if(null==t)o="";else if("json"===e)o=JSON.stringify(t);else if("query"===e)for(const[r,i]of Object.entries(t))i.constructor===Object?o+=""===n?this.paramFmt(e,i,r):this.paramFmt(e,i,n+"["+r+"]"):o=""===n?o+encodeURIComponent(r)+"="+encodeURIComponent(i)+"&":o+encodeURIComponent(n+"["+r+"]")+"="+encodeURIComponent(i)+"&";else o=t;return""===o&&(o=null),o},this.emptyAjax=function(e,t,n="POST",o="json",r=null,i=null){"get"===n.toLowerCase()&&(o="query");let l=this.paramFmt(o,t,"");"get"===n.toLowerCase()&&null!==l&&""!==l&&(e.indexOf("?")>=0?e+="&"+l:e+="?"+l,l=null);let s=new this.fairysupportAjaxObj(null,null,e,l,null,null,null,"ajax",null);return s.open(n,e,!0,r,i),s},this.ajax=function(e,t,n="POST",o="json",r=null,i=null){let l=this.emptyAjax(e,t,n,o,r,i);return l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Accept","application/json"),l.responseType="json","json"===o.toLowerCase()?l.setRequestHeader("Content-Type","application/json"):l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l},this.ajaxText=function(e,t,n="POST",o="json",r=null,i=null){let l=this.emptyAjax(e,t,n,o,r,i);return l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Accept","text/*"),l.responseType="text","json"===o.toLowerCase()?l.setRequestHeader("Content-Type","application/json"):l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l},this.emptyAjaxByForm=function(e,t,n=null,o=null){let r=new this.fairysupportAjaxObj(null,null,e,new FormData(t),null,null,null,"ajaxByForm",null);return r.open("POST",e,!0,n,o),r},this.ajaxByForm=function(e,t,n=null,o=null){let r=this.emptyAjaxByForm(e,t,n,o);return r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Accept","application/json"),r.responseType="json",r},this.ajaxTextByForm=function(e,t,n=null,o=null){let r=this.emptyAjaxByForm(e,t,n,o);return r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Accept","text/*"),r.responseType="text",r},this.fairysupportAjaxObj=class{constructor(e,t,n,o,r,i,l,s,a){this.dom=e,this.componentPackeage=t,this.viewUrl=n,this.paramObj=o,this.argObj=r,this.cb=i,this.position=l,this.metName=s,this.componentRoot=a,this.xhr=new XMLHttpRequest;let u=(c=this,function(){return c.xhr.onreadystatechange});var c;let h=function(e){return function(t){e.xhr.onreadystatechange=function(e,t){return function(n){t(n,e.xhr)}}(e,t)}}(this);var f;Object.defineProperty(this,"onreadystatechange",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.readyState}}(this),h=function(e){return function(t){e.xhr.readyState=t}}(this),Object.defineProperty(this,"readyState",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.response}}(this),h=function(e){return function(t){e.xhr.response=t}}(this),Object.defineProperty(this,"response",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.responseText}}(this),h=function(e){return function(t){e.xhr.responseText=t}}(this),Object.defineProperty(this,"responseText",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.responseType}}(this),h=function(e){return function(t){e.xhr.responseType=t}}(this),Object.defineProperty(this,"responseType",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.responseURL}}(this),h=function(e){return function(t){e.xhr.responseURL=t}}(this),Object.defineProperty(this,"responseURL",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.responseXML}}(this),h=function(e){return function(t){e.xhr.responseXML=t}}(this),Object.defineProperty(this,"responseXML",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.status}}(this),h=function(e){return function(t){e.xhr.status=t}}(this),Object.defineProperty(this,"status",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.statusText}}(this),h=function(e){return function(t){e.xhr.statusText=t}}(this),Object.defineProperty(this,"statusText",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.timeout}}(this),h=function(e){return function(t){e.xhr.timeout=t}}(this),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.upload}}(this),h=function(e){return function(t){e.xhr.upload=t}}(this),Object.defineProperty(this,"upload",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.withCredentials}}(this),h=function(e){return function(t){e.xhr.withCredentials=t}}(this),Object.defineProperty(this,"withCredentials",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.onabort}}(this),h=function(e){return function(t){e.xhr.onabort=function(e,t){return function(n){t(n,e.xhr)}}(e,t)}}(this),Object.defineProperty(this,"onabort",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.onerror}}(this),h=function(e){return function(t){e.xhr.onerror=function(e,t){return function(n){t(n,e.xhr)}}(e,t)}}(this),Object.defineProperty(this,"onerror",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.onload}}(this),h=function(e){return function(t){e.xhr.onload=function(e,t){return function(n){t(n,e.xhr)}}(e,t)}}(this),Object.defineProperty(this,"onload",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.onloadend}}(this),h=function(e){return function(t){e.xhr.onloadend=function(e,t){return function(n){t(n,e.xhr)}}(e,t)}}(this),Object.defineProperty(this,"onloadend",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.onloadstart}}(this),h=function(e){return function(t){e.xhr.onloadstart=function(e,t){return function(n){t(n,e.xhr)}}(e,t)}}(this),Object.defineProperty(this,"onloadstart",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.onprogress}}(this),h=function(e){return function(t){e.xhr.onprogress=function(e,t){return function(n){t(n,e.xhr)}}(e,t)}}(this),Object.defineProperty(this,"onprogress",{enumerable:!0,configurable:!1,get:u,set:h}),u=function(e){return function(){return e.xhr.ontimeout}}(this),h=function(e){return function(t){e.xhr.ontimeout=function(e,t){return function(n){t(n,e.xhr)}}(e,t)}}(this),Object.defineProperty(this,"ontimeout",{enumerable:!0,configurable:!1,get:u,set:h}),f=Object.create(null),u=function(){return f},h=function(){},Object.defineProperty(this,"__resFunc",{enumerable:!0,configurable:!1,get:u,set:h})}setResponseType(e){return this.responseType=e,this}abort(){return this.xhr.abort(),this}getAllResponseHeaders(){return this.xhr.getAllResponseHeaders()}getResponseHeader(e){return this.xhr.getResponseHeader(e)}open(e,t,n=!0,o=null,r=null){return this.xhr.open(e,t,n,o,r),this}overrideMimeType(e){return this.xhr.overrideMimeType(e),this}send(e){return null!==this.paramObj&&void 0!==this.paramObj?this.xhr.send(this.paramObj):this.xhr.send(e),this}setRequestHeader(e,t){return this.xhr.setRequestHeader(e,t)}setOnreadystatechange(e){return this.onreadystatechange=e,this}setWithCredentials(e){return this.withCredentials=e,this}setOnabort(e){return this.onabort=e,this}setOnerror(e){return this.onerror=e,this}setOnload(e){return this.onload=e,this}setOnloadend(e){return this.onloadend=e,this}setOnloadstart(e){return this.onloadstart=e,this}setOnprogress(e){return this.onprogress=e,this}setOntimeout(e){return this.ontimeout=e,this}setReadystatechange(e,t,n){"readystatechange"in this.__resFunc||(this.__resFunc.readystatechange=Object.create(null)),null===e&&null===t?this.__resFunc.readystatechange.default=n:null!==e&&null===t?("statusDefault"in this.__resFunc.readystatechange||(this.__resFunc.readystatechange.statusDefault=Object.create(null)),this.__resFunc.readystatechange.statusDefault[String(e)]=n):null===e&&null!==t?("stateDefault"in this.__resFunc.readystatechange||(this.__resFunc.readystatechange.stateDefault=Object.create(null)),this.__resFunc.readystatechange.stateDefault[String(t)]=n):("fn"in this.__resFunc.readystatechange||(this.__resFunc.readystatechange.fn=Object.create(null)),e in this.__resFunc.readystatechange.fn||(this.__resFunc.readystatechange.fn[String(e)]=Object.create(null)),this.__resFunc.readystatechange.fn[String(e)][String(t)]=n);let o=(r=this.__resFunc.readystatechange,function(e,t){let n=String(t.status),o=String(t.readyState);if("fn"in r&&o in r.fn&&n in r.fn[o])r.fn[o][n](e,t);else{let i=!1;"statusDefault"in r&&o in r.statusDefault&&(r.statusDefault[o](e,t),i=!0),"stateDefault"in r&&n in r.stateDefault&&(r.stateDefault[n](e,t),i=!0),!1===i&&"default"in r&&r.default(e,t)}});var r;return this.onreadystatechange=o,this}setAbort(e){"abort"in this.__resFunc||(this.__resFunc.abort=Object.create(null)),this.__resFunc.abort.default=e;let t=(n=this.__resFunc.abort,function(e,t){"default"in n&&n.default(e,t)});var n;return this.onabort=t,this}setError(e){"error"in this.__resFunc||(this.__resFunc.error=Object.create(null)),this.__resFunc.error.default=e;let t=(n=this.__resFunc.error,function(e,t){"default"in n&&n.default(e,t)});var n;return this.onerror=t,this}setLoad(e,t){"load"in this.__resFunc||(this.__resFunc.load=Object.create(null)),null===e?this.__resFunc.load.default=t:("fn"in this.__resFunc.load||(this.__resFunc.load.fn=Object.create(null)),this.__resFunc.load.fn[String(e)]=t);let n=(o=this.__resFunc.load,function(e,t){let n=String(t.status);"fn"in o&&n in o.fn?o.fn[n](e,t):"default"in o&&o.default(e,t)});var o;return this.onload=n,this}setLoadend(e,t){"loadend"in this.__resFunc||(this.__resFunc.loadend=Object.create(null)),null===e?this.__resFunc.loadend.default=t:("fn"in this.__resFunc.loadend||(this.__resFunc.loadend.fn=Object.create(null)),this.__resFunc.loadend.fn[String(e)]=t);let n=(o=this.__resFunc.loadend,function(e,t){let n=String(t.status);"fn"in o&&n in o.fn?o.fn[n](e,t):"default"in o&&o.default(e,t)});var o;return this.onloadend=n,this}setLoadstart(e){"loadstart"in this.__resFunc||(this.__resFunc.loadstart=Object.create(null)),this.__resFunc.loadstart.default=e;let t=(n=this.__resFunc.loadstart,function(e,t){"default"in n&&n.default(e,t)});var n;return this.onloadstart=t,this}setProgress(e,t){"progress"in this.__resFunc||(this.__resFunc.progress=Object.create(null)),null===e?this.__resFunc.progress.default=t:("fn"in this.__resFunc.progress||(this.__resFunc.progress.fn=Object.create(null)),this.__resFunc.progress.fn[String(e)]=t);let n=(o=this.__resFunc.progress,function(e,t){let n=String(t.status);"fn"in o&&n in o.fn?o.fn[n](e,t):"default"in o&&o.default(e,t)});var o;return this.onprogress=n,this}setTimeout(e){"timeout"in this.__resFunc||(this.__resFunc.timeout=Object.create(null)),this.__resFunc.timeout.default=e;let t=(n=this.__resFunc.timeout,function(e,t){"default"in n&&n.default(e,t)});var n;return this.ontimeout=t,this}},this.getComponentController=function(e){let t="",n=(e=e.trim()).split(".");for(let e of n)""!==e.trim()&&(t+=e+"/");return this.componentControllerList[t]?this.componentControllerList[t]:null},this.getModuleController=function(){return this.clazz.obj},this.setTimeLineProp=function(e,t){if(null!==e||void 0!==e)for(const[n,o]of Object.entries(t))o.constructor===Object?this.setTimeLineProp(e[n],o):e[n]="function"==typeof o?o():o},this.timeLineClass=class{constructor(e,t,n,o,r){this.fs=e,this.timelinePropList=t,this.preClazz=n,this.props=o,this.ms=r}execTimer(){if(null!==this.preClazz&&void 0!==this.preClazz&&null!==this.preClazz.timerId&&void 0!==this.preClazz.timerId&&this.preClazz.clerTimer(),null!==this.timerId&&void 0!==this.timerId){let e=this.props.values();for(let t of e)this.fs.setTimeLineProp(t.obj,t.value)}let e=this.timelinePropList.shift();if(null!=e){let t=new this.fs.timeLineClass(this.fs,this.timelinePropList,this,e.prop,e.ms);t.timerId=window.setTimeout(t.execTimer.bind(t),e.ms-this.ms)}else this.clerTimer()}clerTimer(){window.clearTimeout(this.timerId)}},this.timeline=function(e){let t=[].concat(e);t.sort((function(e,t){return e.ms<t.ms?-1:e.ms===t.ms?0:1})),new this.timeLineClass(this,t,null,null,0).execTimer()},this.envValue=function(e){return g[e]},this.msg=function(e,t){let n="";e in m&&(n=m[e]);for(const[e,o]of Object.entries(t)){let t=new RegExp("(?<!\\\\)\\$\\{"+e+"\\}","g");n=n.replace(t,o),n=n.replace("\\${"+e+"}","${"+e+"}")}return n},this.addMeta=function(e,t){h.set(e,t)},this.getMeta=function(e){return h.get(e)},this.deleteMeta=function(e){h.delete(e)},this.validate=function(e,t,n,o,r){let i={preVal:Object.create(null)};this.wrapObjAccessor(e,t,o,i,n,r)},this.wrapObjAccessor=function(e,t,n,o,r,i){let l=this.getPrototypePropertyDescriptor(e,t),s=function(e,t){return function(){return e.get.call(t)}}(l,e),a=function(e,t,n,o){return function(r){let i=!0;for(const l of n){let n=l(t,r,e.get.call(t),o);n||(i=n)}i&&e.set.call(t,r)}}(l,e,n,i);if(Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:s,set:a}),null!=r&&"addEventListener"in e){o.preVal[t]=e[t],e.addEventListener("focus",function(e,t,n){return function(){e.preVal[n]=t[n]}}(o,e,t));let s=function(e,t,n,o,r,i){return function(l){let s=!0;for(const i of e){let e=i(t,t[n],o.preVal[n],r);e||(s=e)}s||i.set.call(t,o.preVal[n]),o.preVal[n]=t[n]}}(n,e,t,o,i,l);for(const t of r)e.addEventListener(t,s)}for(const t of n)t(e,l.get.call(e),l.get.call(e),i)},this.getPrototypePropertyDescriptor=function(e,t){let n=Object.getPrototypeOf(e),o=null;if(null===n||null==n)o=Object.create(null);else if(o=Object.getOwnPropertyDescriptor(n,t),null==o&&(o=Object.create(null)),"configurable"in o&&!o.configurable)return;if(!("get"in o)||!("set"in o)){let n=Object.create(null),r={val:e[t]};r.get=function(e){return function(){return e.val}}(r),r.set=function(e){return function(t){return e.val=t}}(r),n.get="get"in o?function(e,t,n){return function(){return n.get.call(t),e.get()}}(r,e,o):function(e){return function(){return e.get()}}(r),n.set="set"in o?function(e,t,n){return function(o){e.set(o),n.set.call(t,o)}}(r,e,o):function(e){return function(t){e.set(t)}}(r),n.configurable=!0,n.enumerable=!0,Object.defineProperty(e,t,n),o=n}return o},this.linkEvent=function(e,t,n){for(const o of n)e.addEventListener(o,t[o].bind(t))},this.getReqLang=function(){return n},this.getConfLang=function(){return o},this.storeClass=class{constructor(){this.data=Object.create(null),this.listener=new Map}set(e,t){this.data[e]=t;for(let n of this.listener.values())n(e,t)}get(e){return this.data[e]}addListener(e){this.listener.set(e,e)}removeListener(e){this.listener.delete(e)}};let C=new this.storeClass;this.store=function(){return C},this.init()}const $___fairysupport_param=function(v,l,tpl){try{return eval(tpl)}catch(e){throw e}},$f=new ___fairysupport;