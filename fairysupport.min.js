function ___fairysupport(){var e=document.getElementById("fs-js");let t=new URL(window.location.href),R=t.searchParams.get("lang"),S=window.navigator.language,n=new URL(e.src);this.version="dataset"in e&&"version"in e.dataset?e.dataset.version:Date.now();let o=n.origin+n.pathname.trim();var r=o.split("/");let i=o.substring(0,o.length-r[r.length-1].length),s=i+"modules/",D=i+"components/",y=i+"templates/";this.clazz={},this.controllerMethodList={},this.controllerEventMethodList={},this.componentControllerList={},this.componentControllerMethodList={},this.componentControllerEventMethodList={},this.targetDomMap=new WeakMap,this.componentDomInitFuncMap=new Map,this.componentDomInitCntMap=new Map,this.componentDomInitTotalMap=new Map,this.componentPackageList={},this.eventMap=new Map,this.eventNameDataNameMap=new Map,this.bindDomInitFuncMap=new Map,this.bindDomInitCntMap=new Map,this.bindDomInitTotalMap=new Map;let l=new Map,N="dataset"in e&&"timeout"in e.dataset?e.dataset.timeout:0;N=+N;let a=e.dataset.pageRoot,L="";this.instanceMap={};const u=Object.create(null),h=Object.create(null),z=Object.create(null),V=Object.create(null);"fairysupportInitFail"in window||(window.fairysupportInitFail=function(e){return alert("network error"),!1}),"fairysupportTemplateFail"in window||(window.fairysupportTemplateFail=function(e){return alert("network error"),!1}),"fairysupportComponentFail"in window||(window.fairysupportComponentFail=function(e){return alert("network error"),!1});let f=class{constructor(){}};this.getEnv=function(){return L},this.getModulePath=function(e,t){let n=t.origin+t.pathname.trim(),o="",r=n.substring(e.length),i=r.split("/");for(let e=0;e<i.length;e++)""!==i[e]&&(e+1>=i.length?o+=i[e].split(".")[0]:o+=i[e]+"/");return""===o&&(o="index"),o},this.init=function(){var e=this.getModulePath(a,t);return this.getLoadEnv(i,this.version,u,h,R,S,t,s,a,e,0),this},this.getLoadEnv=function(e,t,n,o,r,i,s,l,a,u,h){let p=this.emptyAjax(e+"env/env.txt?"+t,null,"GET","query");var c,d,f,m,g,v,b,C,y,M,j,x;p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.setRequestHeader("Accept","text/*"),p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.responseType="text",p.timeout=N,p.onloadend=(c=this,d=e,f=t,m=n,g=o,v=r,b=i,C=s,y=l,M=a,j=u,x=h,function(e,t){if(200===t.status){let e=t.response;e=e.trim(),c.getEnvDefaultValue(d,e,f,g,m,v,b,C,y,M,j,0)}else 404===t.status?c.getEnvDefaultValue(d,"",f,g,m,v,b,C,y,M,j,0):fairysupportInitFail(x)&&c.getLoadEnv(d,f,m,g,v,b,C,y,M,j,++x)}),p.send()},this.getEnvDefaultValue=function(e,t,n,o,r,i,s,l,a,u,h,p){L=t;let c=this.ajax(e+"env/envValue.js?"+n,null,"GET","query");var d,f,m,g,v,b,C,y,M,j,x,T,F;c.timeout=N,c.onloadend=(d=this,f=o,m=e,g=t,v=n,b=r,C=i,y=s,M=l,j=a,x=u,T=h,F=p,function(e,t){var n;200===t.status?(n=t.response,Object.assign(f,n),d.getEnvValue(m,g,v,f,b,C,y,M,j,x,T,0)):404===t.status?d.getEnvValue(m,g,v,f,b,C,y,M,j,x,T,0):fairysupportInitFail(F)&&d.getEnvDefaultValue(m,g,v,f,b,C,y,M,j,x,T,++F)}),c.send()},this.getEnvValue=function(t,n,o,r,i,s,l,a,u,h,p,c){if(null!=n&&""!==n){let e=this.ajax(t+"env/envValue"+("."+n)+".js?"+o,null,"GET","query");e.timeout=N,e.onloadend=(d=this,f=r,m=t,g=n,v=o,b=i,C=s,y=l,M=a,j=u,x=h,T=p,F=c,function(e,t){var n;200===t.status?(n=t.response,Object.assign(f,n),n=T.split("/"),d.getModuleDefaultEnvValue(m,g,v,f,b,C,y,M,j,x,T,m+"env/",n,0)):404===t.status?(t=T.split("/"),d.getModuleDefaultEnvValue(m,g,v,f,b,C,y,M,j,x,T,m+"env/",t,0)):fairysupportInitFail(F)&&d.getEnvValue(m,g,v,f,b,C,y,M,j,x,T,++F)}),e.send()}else{c=p.split("/");this.getModuleDefaultEnvValue(t,n,o,r,i,s,l,a,u,h,p,t+"env/",c,0)}var d,f,m,g,v,b,C,y,M,j,x,T,F},this.getModuleDefaultEnvValue=function(t,n,o,r,i,s,l,a,u,h,p,c,d,f){var m,g,v,b,C,y,M,j,x,T,F,L,q,w,_,E,H=d.shift();if(null==H||""===H)this.loadDefaultMsg(t,o,r,i,s,l,a,u,h,p,0);else{let e=this.ajax(c+H+"/envValue.js?"+o,null,"GET","query");e.timeout=N,e.onloadend=(m=this,g=r,v=t,b=n,C=o,y=i,M=s,j=l,x=a,T=u,F=h,L=p,q=c,w=d,_=H,E=f,function(e,t){var n;200===t.status?(n=t.response,Object.assign(g,n),m.getModuleEnvValue(v,b,C,g,y,M,j,x,T,F,L,q,w,_,0)):404===t.status?m.getModuleEnvValue(v,b,C,g,y,M,j,x,T,F,L,q,w,_,0):fairysupportInitFail(E)&&(w.unshift(_),m.getModuleDefaultEnvValue(v,b,C,g,y,M,j,x,T,F,L,q,w,++E))}),e.send()}},this.getModuleEnvValue=function(t,n,o,r,i,s,l,a,u,h,p,c,d,f,m){if(null==f||""===f)this.loadDefaultMsg(t,o,r,i,s,l,a,u,h,p,0);else if(null!=n&&""!==n){let e=this.ajax(c+f+"/envValue"+("."+n)+".js?"+o,null,"GET","query");e.timeout=N,e.onloadend=(g=this,v=r,b=t,C=n,y=o,M=i,j=s,x=l,T=a,F=u,L=h,q=p,w=c,_=d,E=f,H=m,function(e,t){var n;200===t.status?(n=t.response,Object.assign(v,n),g.getModuleDefaultEnvValue(b,C,y,v,M,j,x,T,F,L,q,w+E+"/",_,0)):404===t.status?g.getModuleDefaultEnvValue(b,C,y,v,M,j,x,T,F,L,q,w+E+"/",_,0):fairysupportInitFail(H)&&g.getModuleEnvValue(b,C,y,v,M,j,x,T,F,L,q,w,_,E,++H)}),e.send()}else this.getModuleDefaultEnvValue(t,n,o,r,i,s,l,a,u,h,p,c+f+"/",d,0);var g,v,b,C,y,M,j,x,T,F,L,q,w,_,E,H},this.loadDefaultMsg=function(e,t,n,o,r,i,s,l,a,u,h){let p=this.ajax(e+"msg/msg.js?"+t,null,"GET","query");var c,d,f,m,g,v,b,C,y,M,j,x;p.timeout=N,p.onloadend=(c=this,d=e,f=t,m=n,g=o,v=r,b=i,C=s,y=l,M=a,j=u,x=h,function(e,t){var n;200===t.status?(n=t.response,Object.assign(g,n),c.loadBrowserMsg(d,f,m,g,v,b,C,y,M,j,0)):404===t.status?c.loadBrowserMsg(d,f,m,g,v,b,C,y,M,j,0):fairysupportInitFail(x)&&c.loadDefaultMsg(d,f,m,g,v,b,C,y,M,j,++x)}),p.send()},this.loadBrowserMsg=function(t,n,o,r,i,s,l,a,u,h,p){if(null!=s&&""!==s){let e=this.ajax(t+"msg/msg."+s+".js?"+n,null,"GET","query");e.timeout=N,e.onloadend=(c=this,d=t,f=n,m=o,g=r,v=i,b=s,C=l,y=a,M=u,j=h,x=p,function(e,t){var n;200===t.status?(n=t.response,Object.assign(g,n),c.loadReqMsg(d,f,m,g,v,b,C,y,M,j,0)):404===t.status?c.loadReqMsg(d,f,m,g,v,b,C,y,M,j,0):fairysupportInitFail(x)&&c.loadBrowserMsg(d,f,m,g,v,b,C,y,M,j,++x)}),e.send()}else this.loadReqMsg(t,n,o,r,i,s,l,a,u,h,0);var c,d,f,m,g,v,b,C,y,M,j,x},this.loadReqMsg=function(t,n,o,r,i,s,l,a,u,h,p){if(null!=i&&""!==i){let e=this.ajax(t+"msg/msg."+i+".js?"+n,null,"GET","query");e.timeout=N,e.onloadend=(c=this,d=t,f=n,m=o,g=r,v=i,b=s,C=l,y=a,M=u,j=h,x=p,function(e,t){var n;200===t.status?(n=t.response,Object.assign(g,n),n=j.split("/"),c.loadModuleDefaultMsg(d,f,m,g,v,b,C,y,M,j,d+"msg/",n,0)):404===t.status?(t=j.split("/"),c.loadModuleDefaultMsg(d,f,m,g,v,b,C,y,M,j,d+"msg/",t,0)):fairysupportInitFail(x)&&c.loadReqMsg(d,f,m,g,v,b,C,y,M,j,++x)}),e.send()}else{p=h.split("/");this.loadModuleDefaultMsg(t,n,o,r,i,s,l,a,u,h,t+"msg/",p,0)}var c,d,f,m,g,v,b,C,y,M,j,x},this.loadModuleDefaultMsg=function(t,n,o,r,i,s,l,a,u,h,p,c,d){var f,m,g,v,b,C,y,M,j,x,T,F,L,q,w,_=c.shift();if(null==_||""===_)this.loadModuleController(n,a,h,0);else{let e=this.ajax(p+_+"/msg.js?"+n,null,"GET","query");e.timeout=N,e.onloadend=(f=this,m=t,g=n,v=o,b=r,C=i,y=s,M=l,j=a,x=u,T=h,F=p,L=c,q=_,w=d,function(e,t){var n;200===t.status?(n=t.response,Object.assign(b,n),f.loadModuleBrowserMsg(m,g,v,b,C,y,M,j,x,T,F,L,q,0)):404===t.status?f.loadModuleBrowserMsg(m,g,v,b,C,y,M,j,x,T,F,L,q,0):fairysupportInitFail(w)&&(L.unshift(q),f.loadModuleDefaultMsg(m,g,v,b,C,y,M,j,x,T,F,L,++w))}),e.send()}},this.loadModuleBrowserMsg=function(t,n,o,r,i,s,l,a,u,h,p,c,d,f){if(null==d||""===d)this.loadModuleController(n,a,h,0);else if(null!=s&&""!==s){let e=this.ajax(p+d+"/msg"+("."+s)+".js?"+n,null,"GET","query");e.timeout=N,e.onloadend=(m=this,g=t,v=n,b=o,C=r,y=i,M=s,j=l,x=a,T=u,F=h,L=p,q=c,w=d,_=f,function(e,t){var n;200===t.status?(n=t.response,Object.assign(C,n),m.loadModuleReqMsg(g,v,b,C,y,M,j,x,T,F,L,q,w,0)):404===t.status?m.loadModuleReqMsg(g,v,b,C,y,M,j,x,T,F,L,q,w,0):fairysupportInitFail(_)&&m.loadModuleBrowserMsg(g,v,b,C,y,M,j,x,T,F,L,q,w,++_)}),e.send()}else this.loadModuleReqMsg(t,n,o,r,i,s,l,a,u,h,p,c,d,0);var m,g,v,b,C,y,M,j,x,T,F,L,q,w,_},this.loadModuleReqMsg=function(t,n,o,r,i,s,l,a,u,h,p,c,d,f){if(null==d||""===d)this.loadModuleController(n,a,h,0);else if(null!=i&&""!==i){let e=this.ajax(p+d+"/msg"+("."+i)+".js?"+n,null,"GET","query");e.timeout=N,e.onloadend=(m=this,g=t,v=n,b=o,C=r,y=i,M=s,j=l,x=a,T=u,F=h,L=p,q=c,w=d,_=f,function(e,t){var n;200===t.status?(n=t.response,Object.assign(C,n),m.loadModuleDefaultMsg(g,v,b,C,y,M,j,x,T,F,L+w+"/",q,0)):404===t.status?m.loadModuleDefaultMsg(g,v,b,C,y,M,j,x,T,F,L+w+"/",q,0):fairysupportInitFail(_)&&m.loadModuleReqMsg(g,v,b,C,y,M,j,x,T,F,L,q,w,++_)}),e.send()}else this.loadModuleDefaultMsg(t,n,o,r,i,s,l,a,u,h,p+d+"/",c,0);var m,g,v,b,C,y,M,j,x,T,F,L,q,w,_},this.loadModuleController=function(e,t,n,o){var r,i,s,l;import(t+n+".js"+"?"+e).then(this.getControllerLoader(this,n)).catch((r=e,i=t,s=n,l=o,function(e){fairysupportInitFail(l)&&fs.loadModuleController(r,i,s,++l)}))},this.getControllerLoader=function(i,s){return function(e){var t="modules/"+s;if(!i.instanceMap[t])for(var n in i.clazz.obj=new e.default,i.instanceMap[t]=i.clazz.obj,i.controllerMethodList=i.getMethodList(i.clazz.obj),i.controllerMethodList){var o=n.split("_");if(1<o.length){let t="";for(let e=0;e<o.length-1;e++)t+=o[e]+"_";t=t.substring(0,t.length-1),i.controllerEventMethodList[t]||(i.controllerEventMethodList[t]=[]),i.controllerEventMethodList[t].push(o[o.length-1])}}i.binder(i);let r=i.getControllerMethod(i,"init",null);r()}},this.binder=function(c){var e=document.getElementsByTagName("BODY");let t=new MutationObserver((e,t)=>{for(var o of e){var n,r,i,s;if("attributes"===o.type)for(s in"data-obj"===o.attributeName&&(c.removeControllerSingleObjOnlyValue(o.target,o.oldValue),null!=(n=o.target.dataset)&&(r=n.obj,c.bindControllerSingleObj(o.target,r))),"data-list"===o.attributeName&&(c.removeControllerSingleListOnlyValue(o.target,o.oldValue),null!=(r=o.target.dataset)&&(i=r.list,c.bindControllerSingleList(o.target,i))),"data-name"===o.attributeName&&(c.removeControllerSingleEvent(o.target,o.oldValue),null!=(i=o.target.dataset)&&(i=i.name,c.bindControllerSingleEvent(o.target,i))),c.componentPackageList){var l,a=c.componentPackageList[s],u=a.componentPath,h=a.componentHyphen,p=a.componentCamel;o.attributeName==="data-"+h+"-obj"&&(c.removeComponentSingleObjOnlyValue(o.target,o.oldValue,u),null!=(a=o.target.dataset)&&(l=a[p+"Obj"],c.bindComponentSingleObj(o.target,l,u))),o.attributeName==="data-"+h+"-list"&&(c.removeComponentSingleListOnlyValue(o.target,o.oldValue,u),null!=(l=o.target.dataset)&&(l=l[p+"List"],c.bindComponentSingleList(o.target,l,u))),o.attributeName==="data-"+h+"-name"&&(c.removeComponentSingleEvent(o.target,o.oldValue,u),null!=(h=o.target.dataset)&&(p=h[p+"Name"],c.bindComponentSingleEvent(o.target,p,u)))}else if("childList"===o.type){let t=null,n=null;for(let e=0;e<o.removedNodes.length;e++)c.removeAllNest(o.removedNodes.item(e));for(let e=0;e<o.addedNodes.length;e++){if(c.bindAllNest(o.addedNodes.item(e)),c.componentDomInitFuncMap.has(o.addedNodes.item(e))&&(t=c.componentDomInitFuncMap.get(o.addedNodes.item(e)),c.componentDomInitFuncMap.delete(o.addedNodes.item(e)),c.componentDomInitCntMap.set(t,c.componentDomInitCntMap.get(t)+1),c.componentDomInitCntMap.get(t)===c.componentDomInitTotalMap.get(t))){c.componentDomInitCntMap.delete(t),c.componentDomInitTotalMap.delete(t);try{t()}catch(e){if(!c.clazz.obj.errorHandle||"function"!=typeof c.clazz.obj.errorHandle)throw e;c.clazz.obj.errorHandle(null,e)}finally{c.clazz.obj.finalHandle&&"function"==typeof c.clazz.obj.finalHandle&&c.clazz.obj.finalHandle(null,null)}}if(c.bindDomInitFuncMap.has(o.addedNodes.item(e))&&(n=c.bindDomInitFuncMap.get(o.addedNodes.item(e)),c.bindDomInitFuncMap.delete(o.addedNodes.item(e)),c.bindDomInitCntMap.set(n,c.bindDomInitCntMap.get(n)+1),c.bindDomInitCntMap.get(n)===c.bindDomInitTotalMap.get(n))){c.bindDomInitCntMap.delete(n),c.bindDomInitTotalMap.delete(n);try{n()}catch(e){if(!c.clazz.obj.errorHandle||"function"!=typeof c.clazz.obj.errorHandle)throw e;c.clazz.obj.errorHandle(null,e)}finally{c.clazz.obj.finalHandle&&"function"==typeof c.clazz.obj.finalHandle&&c.clazz.obj.finalHandle(null,null)}}}}}});t.observe(e[0],{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0}),c.bindBody()},this.addInitFuncForAfterObserver=function(e,t){let n=e.childNodes;var o;if(null!==n&&void 0!==n){this.bindDomInitCntMap.set(t,0),this.bindDomInitTotalMap.set(t,n.length);for(let e=0;e<n.length;e++)o=n.item(e),this.bindDomInitFuncMap.set(o,t)}},this.bindBody=function(){var e=document.getElementsByTagName("BODY")?document.getElementsByTagName("BODY")[0]:null;e&&this.bindAllNest(e)},this.bindAllNest=function(e){if(null!=e){this.bindAllSingle(e,null);let t=e.childNodes;var n;if(null!==t&&void 0!==t)for(let e=0;e<t.length;e++)n=t.item(e),this.bindAllNest(n)}},this.bindAllSingle=function(o,r){var i=o.dataset;if(null!=i){let e=i.obj,t=i.list,n=i.name;for(var s in null!=o&&(null!==e&&void 0!==e||null!==t&&void 0!==t||null!==n&&void 0!==n)&&this.addTargetDom(o,null),this.targetDomMap.has(o)&&(this.bindControllerSingleObj(o,e),this.bindControllerSingleList(o,t),this.bindControllerSingleEvent(o,n)),this.componentPackageList){var l=this.componentPackageList[s],a=l.componentPath,s=l.componentCamel;this.addTargetDomForComponent(o,l),this.targetDomMap.has(o)&&(e=i[s+"Obj"],t=i[s+"List"],n=i[s+"Name"],null!==e&&void 0!==e&&this.bindComponentSingleObj(o,e,a),null!==t&&void 0!==t&&this.bindComponentSingleList(o,t,a),null!==n&&void 0!==n&&this.bindComponentSingleEvent(o,n,a))}null!=r&&r(o)}},this.bindControllerSingleObj=function(t,n){if(null!=t&&null!=n){this.execControllerMethod("beforeBindObj",{name:n,value:t});let e=new Set;e.add(t);var o=this.getControllerMethodInputArgs(this,"beforeRemoveObj"),r=this.getControllerMethodInputArgs(this,"afterRemoveObj"),i=(p=e,function(){for(var e of p.values())return e;return null}),r=(s=e,l=n,a=o,u=r,h=f,function(e){currentElement=null;for(var t of s.values()){currentElement=t;break}currentElement&&(a({name:l,value:currentElement}),s.clear(),!currentElement.parentNode||e instanceof h||(null==e?currentElement.parentNode.removeChild(currentElement):currentElement.parentNode.replaceChild(e,currentElement)),u({name:l,value:currentElement}))});Object.defineProperty(this.clazz.obj,n,{enumerable:!0,configurable:!0,get:i,set:r}),this.execControllerMethod("afterBindObj",{name:n,value:t})}var s,l,a,u,h,p},this.bindControllerSingleList=function(e,t){var n,o,r,i;null!=e&&null!=t&&(null!==this.clazz.obj[t]&&void 0!==this.clazz.obj[t]||(n=this.getControllerMethodInputArgs(this,"beforeRemoveList"),o=this.getControllerMethodInputArgs(this,"afterRemoveList"),r=this.getControllerMethodInputArgs(this,"beforeBindList"),i=this.getControllerMethodInputArgs(this,"afterBindList"),this.clazz.obj[t]=new this.elementList(t,n,o,r,i,f)),this.clazz.obj[t].add(e))},this.bindControllerSingleEvent=function(e,t){null!=e&&null!=t&&this.setEventFunction(t,this.clazz.obj,this.controllerMethodList,e,this.controllerEventMethodList,this.clazz.obj)},this.execMethod=function(t,e,n,o){if(e[n]){if(null==o){let e=null;try{e=t[n]()}catch(e){if(!this.clazz.obj.errorHandle||"function"!=typeof this.clazz.obj.errorHandle)throw e;this.clazz.obj.errorHandle(null,e)}finally{this.clazz.obj.finalHandle&&"function"==typeof this.clazz.obj.finalHandle&&this.clazz.obj.finalHandle(null,e)}return e}{let e=null;try{e=t[n](o)}catch(e){if(!this.clazz.obj.errorHandle||"function"!=typeof this.clazz.obj.errorHandle)throw e;this.clazz.obj.errorHandle(null,e)}finally{this.clazz.obj.finalHandle&&"function"==typeof this.clazz.obj.finalHandle&&this.clazz.obj.finalHandle(null,e)}return e}}return null},this.execControllerMethod=function(e,t){return this.execMethod(this.clazz.obj,this.controllerMethodList,e,t)},this.getExecMethod=function(e,t,n,o,r){return function(){return e.execMethod(t,n,o,r)}},this.getControllerMethod=function(e,t,n){return function(){return e.execControllerMethod(t,n)}},this.getControllerMethodInputArgs=function(t,n){return function(e){return t.execControllerMethod(n,e)}},this.getMethodList=function(e){let t={},n=e;for(var o;null!==n&&void 0!==n&&null!=(o=Object.getPrototypeOf(n));){var r=Object.getOwnPropertyNames(n);if(r)for(var i of r)"function"==typeof e[i]&&(t[i]=e[i].bind(e));n=o}return t},this.removeAllNest=function(e){if(null!=e){this.removeAllSingle(e);let t=e.childNodes;var n;if(null!==t&&void 0!==t)for(let e=0;e<t.length;e++)n=t.item(e),this.removeAllNest(n)}},this.removeAllSingle=function(o){this.deleteMeta(o);var r=o.dataset;if(null!=r){let e=r.obj,t=r.list,n=r.name;if(this.targetDomMap.has(o)){null!==e&&void 0!==e&&this.removeControllerSingleObj(o,e),null!==t&&void 0!==t&&this.removeControllerSingleList(o,t),null!==n&&void 0!==n&&this.removeControllerSingleEvent(o,n);var i,s=this.targetDomMap.get(o);for(i in s){var l=s[i],a=l.componentPath,l=l.componentCamel;e=r[l+"Obj"],t=r[l+"List"],n=r[l+"Name"],null!==e&&void 0!==e&&this.removeComponentSingleObj(o,e,a),null!==t&&void 0!==t&&this.removeComponentSingleList(o,t,a),null!==n&&void 0!==n&&this.removeComponentSingleEvent(o,n,a)}}}},this.removeControllerSingleObjOnlyValue=function(e,t){null!=e&&null!=t&&this.clazz.obj[t]===e&&(this.clazz.obj[t]=new f)},this.removeControllerSingleObj=function(e,t){null!=e&&null!=t&&this.clazz.obj[t]===e&&(this.clazz.obj[t]=null)},this.removeControllerSingleListOnlyValue=function(e,t){null!=e&&null!=t&&void 0!==this.clazz.obj[t]&&this.clazz.obj[t].has&&this.clazz.obj[t].has(e)&&this.clazz.obj[t].replace(e,new f)},this.removeControllerSingleList=function(e,t){null!=e&&null!=t&&void 0!==this.clazz.obj[t]&&this.clazz.obj[t].has&&this.clazz.obj[t].has(e)&&this.clazz.obj[t].remove(e)},this.removeControllerSingleEvent=function(e,t){null!=e&&null!=t&&this.removeEventFunction(t,this.clazz.obj,this.controllerMethodList,e)},this.getComponentDefaultEnvValue=function(t,n,o,r,i,s,l,a,u,h,p,c,d,f){let m=null;if(m=c?"":h.shift(),c||void 0!==m&&null!==m&&""!==m){var g=c?"envValue.js":m+"/envValue.js";let e=this.ajax(p+g+"?"+t.version,null,"GET","query");e.timeout=N,e.onloadend=(v=t,b=n,C=o,y=r,M=i,j=s,x=l,T=a,F=u,L=h,q=m,w=V,_=p,E=c,H=d,O=f,function(e,t){var n;200===t.status?(n=t.response,C.componentPackeage in w||(w[C.componentPackeage]=Object.create(null)),Object.assign(w[C.componentPackeage],n),v.getComponentEnvValue(v,b,C,y,M,j,x,T,F,L,_,q,E,H,0)):404===t.status?v.getComponentEnvValue(v,b,C,y,M,j,x,T,F,L,_,q,E,H,0):fairysupportComponentFail(O)&&(E||L.unshift(q),v.getComponentDefaultEnvValue(v,b,C,y,M,j,x,T,F,L,_,E,H,++O))}),e.send()}else{f=o.componentPath.split("/");this.loadComponentDefaultMsg(t,n,o,r,i,s,l,a,u,f,D,!0,d,0)}var v,b,C,y,M,j,x,T,F,L,q,w,_,E,H,O},this.getComponentEnvValue=function(t,n,o,r,i,s,l,a,u,h,p,c,d,f,m){if(d||null!=c&&""!==c){var g=t.getEnv();if(null!=g&&""!==g){g="."+g;let e=this.ajax(p+(d?"envValue"+g+".js":c+"/envValue"+g+".js")+"?"+t.version,null,"GET","query");e.timeout=N,e.onloadend=(v=t,b=n,C=o,y=r,M=i,j=s,x=l,T=a,F=u,L=h,q=c,w=V,_=p,E=d,H=f,O=m,function(e,t){var n;200===t.status?(n=t.response,C.componentPackeage in w||(w[C.componentPackeage]=Object.create(null)),Object.assign(w[C.componentPackeage],n),E?v.getComponentDefaultEnvValue(v,b,C,y,M,j,x,T,F,L,_,!1,H,0):v.getComponentDefaultEnvValue(v,b,C,y,M,j,x,T,F,L,_+q+"/",!1,H,0)):404===t.status?E?v.getComponentDefaultEnvValue(v,b,C,y,M,j,x,T,F,L,_,!1,H,0):v.getComponentDefaultEnvValue(v,b,C,y,M,j,x,T,F,L,_+q+"/",!1,H,0):fairysupportComponentFail(O)&&v.getComponentEnvValue(v,b,C,y,M,j,x,T,F,L,_,q,E,H,++O)}),e.send()}else d?t.getComponentDefaultEnvValue(t,n,o,r,i,s,l,a,u,h,p,!1,f,0):t.getComponentDefaultEnvValue(t,n,o,r,i,s,l,a,u,h,p+c+"/",!1,f,0)}else{c=o.componentPath.split("/");this.loadComponentDefaultMsg(t,n,o,r,i,s,l,a,u,c,D,!0,f,0)}var v,b,C,y,M,j,x,T,F,L,q,w,_,E,H,O},this.loadComponentDefaultMsg=function(t,n,o,r,i,s,l,a,u,h,p,c,d,f){let m=null;if(m=c?"":h.shift(),c||void 0!==m&&null!==m&&""!==m){var g=c?"msg.js":m+"/msg.js";let e=this.ajax(p+g+"?"+t.version,null,"GET","query");e.timeout=N,e.onloadend=(v=t,b=n,C=o,y=r,M=i,j=s,x=l,T=a,F=u,L=h,q=m,w=z,_=p,E=c,H=d,O=f,function(e,t){var n;200===t.status?(n=t.response,C.componentPackeage in w||(w[C.componentPackeage]=Object.create(null)),Object.assign(w[C.componentPackeage],n),v.loadComponentBrowserMsg(v,b,C,y,M,j,x,T,F,L,_,q,E,H,0)):404===t.status?v.loadComponentBrowserMsg(v,b,C,y,M,j,x,T,F,L,_,q,E,H,0):fairysupportComponentFail(O)&&(E||L.unshift(q),v.loadComponentDefaultMsg(v,b,C,y,M,j,x,T,F,L,_,E,H,++O))}),e.send()}else d(t,n,o,r,i,s,l,a,u);var v,b,C,y,M,j,x,T,F,L,q,w,_,E,H,O},this.loadComponentBrowserMsg=function(t,n,o,r,i,s,l,a,u,h,p,c,d,f,m){if(d||null!=c&&""!==c)if(null!==S&&void 0!==S&&""!==S){var g="."+S;let e=this.ajax(p+(d?"msg"+g+".js":c+"/msg"+g+".js")+"?"+t.version,null,"GET","query");e.timeout=N,e.onloadend=(v=t,b=n,C=o,y=r,M=i,j=s,x=l,T=a,F=u,L=h,q=c,w=z,_=p,E=d,H=f,O=m,function(e,t){var n;200===t.status?(n=t.response,C.componentPackeage in w||(w[C.componentPackeage]=Object.create(null)),Object.assign(w[C.componentPackeage],n),v.loadComponentReqMsg(v,b,C,y,M,j,x,T,F,L,_,q,E,H,0)):404===t.status?v.loadComponentReqMsg(v,b,C,y,M,j,x,T,F,L,_,q,E,H,0):fairysupportComponentFail(O)&&v.getComponentEnvValue(v,b,C,y,M,j,x,T,F,L,_,q,E,H,++O)}),e.send()}else t.loadComponentReqMsg(t,n,o,r,i,s,l,a,u,h,p,c,d,f,0);else f(t,n,o,r,i,s,l,a,u);var v,b,C,y,M,j,x,T,F,L,q,w,_,E,H,O},this.loadComponentReqMsg=function(t,n,o,r,i,s,l,a,u,h,p,c,d,f,m){if(d||null!=c&&""!==c)if(null!==R&&void 0!==R&&""!==R){var g="."+R;let e=this.ajax(p+(d?"msg"+g+".js":c+"/msg"+g+".js")+"?"+t.version,null,"GET","query");e.timeout=N,e.onloadend=(v=t,b=n,C=o,y=r,M=i,j=s,x=l,T=a,F=u,L=h,q=c,w=z,_=p,E=d,H=f,O=m,function(e,t){var n;200===t.status?(n=t.response,C.componentPackeage in w||(w[C.componentPackeage]=Object.create(null)),Object.assign(w[C.componentPackeage],n),E?v.loadComponentDefaultMsg(v,b,C,y,M,j,x,T,F,L,_,!1,H,0):v.loadComponentDefaultMsg(v,b,C,y,M,j,x,T,F,L,_+q+"/",!1,H,0)):404===t.status?E?v.loadComponentDefaultMsg(v,b,C,y,M,j,x,T,F,L,_,!1,H,0):v.loadComponentDefaultMsg(v,b,C,y,M,j,x,T,F,L,_+q+"/",!1,H,0):fairysupportComponentFail(O)&&v.loadComponentReqMsg(v,b,C,y,M,j,x,T,F,L,_,q,E,H,++O)}),e.send()}else d?t.loadComponentDefaultMsg(t,n,o,r,i,s,l,a,u,h,p,!1,f,0):t.loadComponentDefaultMsg(t,n,o,r,i,s,l,a,u,h,p+c+"/",!1,f,0);else f(t,n,o,r,i,s,l,a,u);var v,b,C,y,M,j,x,T,F,L,q,w,_,E,H,O},this.singleComponentInsertFunc=function(e,t,n,o,r,i,s,l,a){var u=n.componentPath.split("/");this.getComponentDefaultEnvValue(e,t,n,o,r,i,s,l,a,u,D,!0,this.singleComponentInsertFuncExec.bind(e),0)},this.singleComponentInsertFuncExec=function(e,t,n,o,r,i,s,l,a,u){null==u&&(u=0);let h=function(){};var p,c,d,f,m,g,v,b,C,y;null!=i&&"function"==typeof i&&(h=i),import(o+"?"+e.version).then(e.loadSingleComponentControllerMethodList(e,t,n,a,r,h,l,s)).catch((p=e,c=t,d=n,f=o,m=r,g=i,v=s,b=l,C=a,y=u,function(e){fairysupportComponentFail(y)?p.singleComponentInsertFuncExec(p,c,d,f,m,g,v,b,C,++y):null!=v&&v(e)}))},this.loadSingleComponentControllerMethodList=function(s,l,a,u,h,p,c,d){return function(e){let n=a.componentPath;var t="components/"+n.substring(0,n.length-1);if(!s.instanceMap[t])for(var o in s.componentControllerList[n]=new e.default,s.instanceMap[t]=s.componentControllerList[n],s.componentControllerMethodList[n]=s.getMethodList(s.componentControllerList[n]),s.componentControllerEventMethodList[n]||(s.componentControllerEventMethodList[n]={}),s.componentControllerMethodList[n]){var r=o.split("_");if(1<r.length){let t="";for(let e=0;e<r.length-1;e++)t+=r[e]+"_";t=t.substring(0,t.length-1),s.componentControllerEventMethodList[n][t]||(s.componentControllerEventMethodList[n][t]=[]),s.componentControllerEventMethodList[n][t].push(r[r.length-1])}}let i=s.getInsertComponent(s,l,a,u,h,p,c,d);i()}},this.getInsertComponent=function(t,n,o,h,p,c,d,f){return function(){var r,i,s,l,a,u,e=(i=n,s=o,l=p,a=c,u=d,function(e){var t=r.getComponentMethod(r,s.componentPath,"init",l,a);let n=e.childNodes;var o;if(null!==n&&void 0!==n){r.componentDomInitCntMap.set(t,0),r.componentDomInitTotalMap.set(t,n.length);for(let e=0;e<n.length;e++)o=n.item(e),r.addComponentTargetDomNest(o,s),r.componentDomInitFuncMap.set(o,t)}"before"===u&&i.parentNode?i.parentNode.insertBefore(e,i):"after"===u&&i.parentNode?null===i.nextSibling||void 0===i.nextSibling?i.parentNode.appendChild(e):i.parentNode.insertBefore(e,i.nextSibling):("append"===u||(i.innerHTML=""),i.appendChild(e))});(r=t).getTplDom(h,p,f,e)}},this.addTargetDomForComponent=function(e,t){var n,o,r=e.dataset;null!=r&&(n=r[t.componentCamel+"Obj"],o=r[t.componentCamel+"List"],r=r[t.componentCamel+"Name"],null==n&&null==o&&null==r||this.addTargetDom(e,t))},this.addComponentTargetDomNest=function(e,n){if(null!=e){this.addTargetDomForComponent(e,n);let t=e.childNodes;var o;if(null!==t&&void 0!==t)for(let e=0;e<t.length;e++)o=t.item(e),this.addComponentTargetDomNest(o,n)}},this.bindComponentSingleObj=function(t,n,o){if(null!=t&&null!=n){this.execComponentMethod(o,"beforeBindObj",{name:n,value:t});let e=new Set;e.add(t);var r=this.getComponentMethodInputArgs(this,o,"beforeRemoveObj"),i=this.getComponentMethodInputArgs(this,o,"afterRemoveObj"),s=(c=e,function(){for(var e of c.values())return e;return null}),i=(l=e,a=n,u=r,h=i,p=f,function(e){currentElement=null;for(var t of l.values()){currentElement=t;break}currentElement&&(u({name:a,value:currentElement}),l.clear(),!currentElement.parentNode||e instanceof p||(null==e?currentElement.parentNode.removeChild(currentElement):e instanceof Node&&currentElement.parentNode.replaceChild(e,currentElement)),h({name:a,value:currentElement}))});Object.defineProperty(this.componentControllerList[o],n,{enumerable:!0,configurable:!0,get:s,set:i}),this.execComponentMethod(o,"afterBindObj",{name:n,value:t})}var l,a,u,h,p,c},this.bindComponentSingleList=function(e,t,n){var o,r,i,s;null!=e&&null!=t&&(null!==this.componentControllerList[n][t]&&void 0!==this.componentControllerList[n][t]||(o=this.getComponentMethodInputArgs(this,n,"beforeRemoveList"),r=this.getComponentMethodInputArgs(this,n,"afterRemoveList"),i=this.getComponentMethodInputArgs(this,n,"beforeBindList"),s=this.getComponentMethodInputArgs(this,n,"afterBindList"),this.componentControllerList[n][t]=new this.elementList(t,o,r,i,s,f)),this.componentControllerList[n][t].add(e))},this.bindComponentSingleEvent=function(e,t,n){null!=e&&null!=t&&this.setEventFunction(t,this.componentControllerList[n],this.componentControllerMethodList[n],e,this.componentControllerEventMethodList[n],this.clazz.obj)},this.execComponentMethod=function(e,t,n){return this.execMethod(this.componentControllerList[e],this.componentControllerMethodList[e],t,n)},this.getComponentMethod=function(t,n,o,r,i){return function(){var e=t.execComponentMethod(n,o,r);return i(),e}},this.getComponentMethodInputArgs=function(t,n,o){return function(e){return t.execComponentMethod(n,o,e)}},this.removeComponentSingleObjOnlyValue=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&this.componentControllerList[n][t]===e&&(this.componentControllerList[n][t]=new f)},this.removeComponentSingleObj=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&this.componentControllerList[n][t]===e&&(this.componentControllerList[n][t]=null)},this.removeComponentSingleListOnlyValue=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&void 0!==this.componentControllerList[n][t]&&this.componentControllerList[n][t].has&&this.componentControllerList[n][t].has(e)&&this.componentControllerList[n][t].replace(e,new f)},this.removeComponentSingleList=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&void 0!==this.componentControllerList[n][t]&&this.componentControllerList[n][t].has&&this.componentControllerList[n][t].has(e)&&this.componentControllerList[n][t].remove(e)},this.removeComponentSingleEvent=function(e,t,n){null!=e&&null!=t&&this.removeEventFunction(t,this.componentControllerList[n],this.componentControllerMethodList[n],e)},this.getComponentValue=function(e){let t="",n="",o="";var r;for(r of(e=e.trim()).split("."))""!==r.trim()&&(t+=r+"/",n+=r.substring(0,1).toUpperCase()+r.substring(1),o+=r+"-");return n=n.substring(0,1).toLowerCase()+n.substring(1),o=o.substring(0,o.length-1),{componentPath:t,componentPackeage:e,componentCamel:n,componentHyphen:o}},this.addTargetDom=function(t,n){if(this.targetDomMap.has(t)||this.targetDomMap.set(t,{}),null!=n){let e=this.targetDomMap.get(t);e[n.componentPackeage]=n,this.componentPackageList[n.componentPackeage]=n}},this.elementList=class{constructor(e,t,n,o,r,i){this.objMap=new Map,this.bindListStr=e,this.beforeMet=t,this.afterMet=n,this.addBeforeMet=o,this.addAfterMet=r,this.fairysupportClear=i}size(){return this.objMap.size}has(e){return this.objMap.has(e)}add(e){return this.addBeforeMet({name:this.bindListStr,value:e}),this.objMap.set(e,e),this.addAfterMet({name:this.bindListStr,value:e}),this}replace(e,t){return this.beforeMet({name:this.bindListStr,value:e}),this.objMap.delete(e),e&&(!e.parentNode||t instanceof f||(null==t?e.parentNode.removeChild(e):t instanceof Node&&e.parentNode.replaceChild(t,e))),this.afterMet({name:this.bindListStr,value:e}),this}remove(e){return this.beforeMet({name:this.bindListStr,value:e}),this.objMap.delete(e),!e||!e.parentNode||e instanceof f||e.parentNode.removeChild(e),this.afterMet({name:this.bindListStr,value:e}),this}values(){return this.objMap.values()}forEach(e,t=null){if(null===t)for(var n of this.objMap.values())e(n);else for(var o of this.objMap.values())e(o,t)}},this.setEventFunction=function(e,r,i,s,t,l){let a="",n=[],o=e.split(",");for(let e=0;e<o.length;e++){var u=o[e].trim();n.push(u),a+=u+","}if(this.eventMap.has(r)&&this.eventMap.get(r).has(a)){let t=this.eventNameDataNameMap.get(r);if(t.has(a)){let e=t.get(a);for(var h of e.keys()){var p,c=e.get(h);for(p of c)this.execMethod(r,i,"beforeName",{name:p,event:h,value:s});var d,f=this.eventMap.get(r).get(a).get(h);s.addEventListener(h,f);for(d of c)this.execMethod(r,i,"afterName",{name:d,event:h,value:s})}}}else{for(var m of n)if(t[m])for(var g of t[m]){this.eventNameDataNameMap.has(r)||this.eventNameDataNameMap.set(r,new Map);let e=this.eventNameDataNameMap.get(r);e.has(a)||e.set(a,new Map);let t=e.get(a);t.has(g)||t.set(g,[]);let n=t.get(g);n.push(m)}if(this.eventNameDataNameMap.has(r)){let e=this.eventNameDataNameMap.get(r);if(e.has(a)){let o=e.get(a);for(var v of o.keys()){var b,C,y,M=o.get(v);let e=[];for(b of M)this.execMethod(r,i,"beforeName",{name:b,event:v,value:s}),e.push(i[b+"_"+v]);this.eventMap.has(r)||this.eventMap.set(r,new Map);let t=this.eventMap.get(r);t.has(a)||t.set(a,new Map);let n=t.get(a);n.has(v)||(C=function(e,o,r){return function(t){for(var n of e){let e=null;try{if(o.beforeEvent&&"function"==typeof o.beforeEvent&&o.beforeEvent(t),e=n(t),o.afterEvent&&"function"==typeof o.afterEvent&&o.afterEvent(t,e),!1===e)return}catch(e){if(!r.errorHandle||"function"!=typeof r.errorHandle)throw e;r.errorHandle(t,e)}finally{r.finalHandle&&"function"==typeof r.finalHandle&&r.finalHandle(t,e)}}}}(e,r,l),n.set(v,C)),s.addEventListener(v,n.get(v));for(y of M)this.execMethod(r,i,"afterName",{name:y,event:v,value:s})}}}}},this.setEventFunctionForUniqueComponent=function(e,t,n,o,r,i){let s={},l=e.split(",");for(let e=0;e<l.length;e++){var a=l[e].trim();if(a in r)for(var u of r[a].values())a+"_"+u in n&&(u in s||(s[u]={}),this.execMethod(t,n,"beforeName",{name:a,event:u,value:o}),s[u][a]=n[a+"_"+u])}for(var h in s){var p,c=s[h],d=function(e,o,r){return function(t){for(var n of Object.values(e)){let e=null;try{if(o.beforeEvent&&"function"==typeof o.beforeEvent&&o.beforeEvent(t),e=n(t),o.afterEvent&&"function"==typeof o.afterEvent&&o.afterEvent(t,e),!1===e)return}catch(e){if(!r.errorHandle||"function"!=typeof r.errorHandle)throw e;r.errorHandle(t,e)}finally{r.finalHandle&&"function"==typeof r.finalHandle&&r.finalHandle(t,e)}}}}(c,t,i);for(p in o.addEventListener(h,d),c)this.execMethod(t,n,"afterName",{name:p,event:h,value:o})}},this.removeEventFunction=function(e,n,o,r){let i="",t=e.split(",");for(let e=0;e<t.length;e++){var s=t[e].trim();i+=s+","}if(this.eventMap.has(n)&&this.eventMap.get(n).has(i)){let t=this.eventNameDataNameMap.get(n);if(t.has(i)){let e=t.get(i);for(var l of e.keys()){var a,u=e.get(l);for(a of u)this.execMethod(n,o,"beforeRemoveName",{name:a,event:l,value:r});var h,p=this.eventMap.get(n).get(i).get(l);r.removeEventListener(l,p);for(h of u)this.execMethod(n,o,"afterRemoveName",{name:h,event:l,value:r})}}}},this.esc=function(r,...i){return function(e,n){let o="";if(null!=i)for(let t=0;t<i.length;t++){let e=$___fairysupport_param(n,null,i[t]);e=String(e),o+=r[t]+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}return null==i||null===i.length||void 0===i.length?o+=r[0]:i.length<r.length&&(o+=r[i.length]),o}},this.getTplDom=function(e,t,n,o){let r=document.createElement("template");r.innerHTML=e;var i=r.content;null==t&&(t=Object.create(null));var s=Object.create(null),e=Object.create(null);this.developTpl(i,t,e,s,n,o)},this.getTplChildNodeList=function*(e){for(e.i=0;e.i<e.childNodes.length;e.i++)yield e.childNodes.item(e.i);void 0!==e.cb&&null!==e.cb&&e.cb(e.dom)},this.developTpl=async function(i,s,l,a,u,h){try{if(null==i)return void(null!=h&&h(i));let o=new WeakMap,e=null;var n=i.childNodes;let r=null,t={childNodes:n,i:0,cb:h,dom:i};if(null!=n)for await(r of this.getTplChildNodeList(t)){if("continueVal"in a&&0<a.continueVal)return this.selfAndNextDelete(r),void(null!=h&&h(i));if("breakVal"in a&&0<a.breakVal)return this.selfAndNextDelete(r),void(null!=h&&h(i));if(!(r instanceof CharacterData)){var p,c=r.dataset,d=c.tag;let n=c.js;if(null!==r&&void 0!==r&&null!==n&&void 0!==n&&(delete r.dataset.js,$___fairysupport_param(s,l,n)),n=c.attr,null!==r&&void 0!==r&&null!==n&&void 0!==n){delete r.dataset.attr;var f,m,g=$___fairysupport_param(s,l,"("+n+")");for([f,m]of Object.entries(g))r.setAttribute(f,m)}if(n=c.prop,null!==r&&void 0!==r&&null!==n&&void 0!==n&&(delete r.dataset.prop,p=$___fairysupport_param(s,l,"("+n+")"),this.setTplProp(r,p)),n=c.template,null!==r&&void 0!==r&&null!==n&&void 0!==n){delete r.dataset.template;let t="";try{t=$___fairysupport_param(s,l,n)}catch(e){t=n}let e="";try{e=await this.getTemplate(t)}catch(e){throw e}r.innerHTML=e}if(n=c.text,null!==r&&void 0!==r&&null!==n&&void 0!==n){delete r.dataset.text;let t="";try{t=$___fairysupport_param(s,l,n)}catch(e){t=n}r.innerHTML="",r.appendChild(document.createTextNode(t))}if(n=c.html,null!==r&&void 0!==r&&null!==n&&void 0!==n){delete r.dataset.html;let t="";try{t=$___fairysupport_param(s,l,n)}catch(e){t=n}r.innerHTML=t}if(n=c.else,null!==r&&void 0!==r&&null!==n&&void 0!==n&&(delete r.dataset.else,!1===e?(r.innerHTML="",r.parentNode.removeChild(r),r=null):!0===e?e=!1:(e=!1,r.innerHTML="",r.parentNode.removeChild(r),r=null)),n=c.elseif,null!==r&&void 0!==r&&null!==n&&void 0!==n&&(delete r.dataset.elseif,!1===e?(r.innerHTML="",r.parentNode.removeChild(r),r=null):!0===e?$___fairysupport_param(s,l,n)?e=!1:(r.innerHTML="",r.parentNode.removeChild(r),r=null):(e=!1,r.innerHTML="",r.parentNode.removeChild(r),r=null)),n=c.if,null!==r&&void 0!==r&&null!==n&&void 0!==n&&(delete r.dataset.if,$___fairysupport_param(s,l,n)?e=!1:(e=!0,r.innerHTML="",r.parentNode.removeChild(r),r=null)),n=c.continue,null!==r&&void 0!==r&&null!==n&&void 0!==n&&(delete r.dataset.continue,a.continueVal=n,0<n))return this.nextDelete(r),this.deleteTag(r,d),void(null!=h&&h(i));if(n=c.break,null!==r&&void 0!==r&&null!==n&&void 0!==n&&(delete r.dataset.break,a.breakVal=n,0<n))return this.nextDelete(r),this.deleteTag(r,d),void(null!=h&&h(i));var v=c.forStart,b=c.forEnd,C=c.forStep;if(null!==r&&void 0!==r&&null!=v&&null!=b&&null!=C){delete r.dataset.forStart,delete r.dataset.forEnd,delete r.dataset.forStep;let e=!0,t=null;for($___fairysupport_param(s,l,v);$___fairysupport_param(s,l,b);$___fairysupport_param(s,l,C)){var y=r.cloneNode(!0);if(await this.developTpl(y,s,l,a,u),o.set(y,y),r.parentNode.insertBefore(y,r),e&&(e=!1,t=y),"continueVal"in a&&0<a.continueVal){if(1<a.continueVal)return a.continueVal--,this.nextDelete(y),this.deleteTag(t,d),void(null!=h&&h(i));a.continueVal--,delete a.continueVal}else if("breakVal"in a&&0<a.breakVal){if(1<a.breakVal)return a.breakVal--,this.nextDelete(y),this.deleteTag(t,d),void(null!=h&&h(i));a.breakVal--,delete a.breakVal;break}}r.innerHTML="",r.parentNode.removeChild(r),r=t}var M=c.foreach,j=c.foreachKey,x=c.foreachValue;if(null!==r&&void 0!==r&&null!=M&&null!=j&&null!=x){delete r.dataset.foreach,delete r.dataset.foreachKey,delete r.dataset.foreachValue;let e=!0,t=null;for(var[T,F]of Object.entries($___fairysupport_param(s,l,M))){l[j]=T,l[x]=F;var L=r.cloneNode(!0);if(await this.developTpl(L,s,l,a,u),o.set(L,L),r.parentNode.insertBefore(L,r),e&&(e=!1,t=L),"continueVal"in a&&0<a.continueVal){if(1<a.continueVal)return a.continueVal--,this.nextDelete(L),this.deleteTag(t,d),void(null!=h&&h(i));a.continueVal--,delete a.continueVal}else if("breakVal"in a&&0<a.breakVal){if(1<a.breakVal)return a.breakVal--,this.nextDelete(L),this.deleteTag(t,d),void(null!=h&&h(i));a.breakVal--,delete a.breakVal;break}}r.innerHTML="",r.parentNode.removeChild(r),r=t}var q=c.while;if(null!==r&&void 0!==r&&null!=q){delete r.dataset.while;let e=!0,t=null;for(;$___fairysupport_param(s,l,q);){var w=r.cloneNode(!0);if(await this.developTpl(w,s,l,a,u),o.set(w,w),r.parentNode.insertBefore(w,r),e&&(e=!1,t=w),"continueVal"in a&&0<a.continueVal){if(1<a.continueVal)return a.continueVal--,this.nextDelete(w),this.deleteTag(t,d),void(null!=h&&h(i));a.continueVal--,delete a.continueVal}else if("breakVal"in a&&0<a.breakVal){if(1<a.breakVal)return a.breakVal--,this.nextDelete(w),this.deleteTag(t,d),void(null!=h&&h(i));a.breakVal--,delete a.breakVal;break}}r.innerHTML="",r.parentNode.removeChild(r),r=t}this.deleteTag(r,d)&&t.i--,null===r||void 0===r||o.has(r)||await this.developTpl(r,s,l,a,u)}}}catch(e){throw u(e),e}},this.deleteTag=function(n,e){let o=!1;if(null!=n&&null!=e&&(delete n.dataset.tag,"hidden"===e||"hidden"===$___fairysupport_param(paramObj,localValue,e))){let t=n.childNodes;var r;if(null!==t&&void 0!==t)for(let e=0;e<t.length;e++)r=t.item(e),n.removeChild(r),n.parentNode.insertBefore(r,n);n.parentNode.removeChild(n),o=!0}return o},this.selfAndNextDelete=function(e){this.nextDelete(e),e.parentNode.removeChild(e)},this.nextDelete=function(e){let t=null;for(;null!==(t=e.nextSibling);)t.parentNode.removeChild(t)},this.setTplProp=function(e,t){if(null!==e||void 0!==e)for(var[n,o]of Object.entries(t))o.constructor===Object?this.setTplProp(e[n],o):e[n]=o},this.getTemplate=function(e,t){null==t&&(t=0);let n="";var o;for(o of(e=e.trim()).split("."))""!==o.trim()&&(n+=o+"/");n=n.substring(0,n.length-1);var a,u,h,p,r=y+n+".html";return new Promise((a=this,u=e,h=t,p=r,function(e,t){let n=a.emptyAjax(p+"?"+a.version,null,"GET","query");var o,r,i,s,l;n.timeout=N,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/*"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.responseType="text",n.onloadend=(o=a,r=u,i=h,s=e,l=t,function(e,t){if(200===t.status){var n=t.response;s(n)}else if(fairysupportTemplateFail(i))o.getTemplate(r,++i).then(s).catch(l);else try{throw new Error("error : load template : "+p+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){l(e)}}),n.send()}))},this.appendLoadStringTemplate=function(e,t,n){return this.loadStringTemplate(e,t,n,"append")},this.beforeLoadStringTemplate=function(e,t,n){return this.loadStringTemplate(e,t,n,"before")},this.afterLoadStringTemplate=function(e,t,n){return this.loadStringTemplate(e,t,n,"after")},this.loadStringTemplate=function(e,t,n,o,r){return new Promise((s=this,l=e,a=t,u=n,h=o,function(e,t){var n,o,r,i,e=(o=l,r=h,i=e,function(e){n.addInitFuncForAfterObserver(e,i),"before"===r&&o.parentNode?o.parentNode.insertBefore(e,o):"after"===r&&o.parentNode?null===o.nextSibling||void 0===o.nextSibling?o.parentNode.appendChild(e):o.parentNode.insertBefore(e,o.nextSibling):("append"===r||(o.innerHTML=""),o.appendChild(e))});(n=s).getTplDom(a,u,t,e)}));var s,l,a,u,h},this.appendLoadTemplate=function(e,t,n){return this.loadTemplate(e,t,n,"append")},this.beforeLoadTemplate=function(e,t,n){return this.loadTemplate(e,t,n,"before")},this.afterLoadTemplate=function(e,t,n){return this.loadTemplate(e,t,n,"after")},this.loadTemplate=function(e,t,n,o,r,i){null==r&&(r=0);let s="";var l;for(l of(t=t.trim()).split("."))""!==l.trim()&&(s+=l+"/");s=s.substring(0,s.length-1);var c,d,f,m,g,v,b,C,a=y+s+".html";return new Promise((c=this,d=e,f=t,m=n,g=o,v=r,b=i,C=a,function(e,t){let n=c.emptyAjax(C+"?"+c.version,null,"GET","query");var o,r,i,s,l,a,u,h,p;n.timeout=N,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/*"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.responseType="text",n.onloadend=(o=c,r=d,i=f,s=m,l=g,a=v,u=b,h=e,p=t,function(e,t){if(200===t.status){var n=t.response;o.loadStringTemplate(r,n,s,l,u).then(h).catch(p)}else if(fairysupportTemplateFail(a))o.loadTemplate(r,i,s,l,++a,u).then(h).catch(p);else try{throw new Error("error : load template : "+C+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){p(e)}}),n.send()}))},this.appendResJsonTemplate=function(e,t,n,o,r){return this.resJsonTemplate(e,t,n,o,r,"append")},this.beforeResJsonTemplate=function(e,t,n,o,r){return this.resJsonTemplate(e,t,n,o,r,"before")},this.afterResJsonTemplate=function(e,t,n,o,r){return this.resJsonTemplate(e,t,n,o,r,"after")},this.resJsonTemplate=function(e,t,n,o,r,i,s,l){return null==s&&(s=0),new Promise((f=this,m=e,g=t,v=n,b=o,C=r,y=i,M=s,j=l,function(e,t){let n=f.ajax(v,b);var o,r,i,s,l,a,u,h,p,c,d;n.timeout=N,C&&(n.withCredentials=!0),n.onloadend=(o=f,r=m,i=g,s=v,l=b,a=C,u=y,h=M,p=j,c=e,d=t,function(e,t){if(200===t.status){var n=t.response;o.loadTemplate(r,i,n,u,0,p).then(c).catch(d)}else if(fairysupportTemplateFail(h))o.resJsonTemplate(r,i,s,l,a,u,++h,p).then(c).catch(d);else try{throw new Error("error : load json for template : "+s+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){d(e)}}),n.send()}));var f,m,g,v,b,C,y,M,j},this.appendResJsonTemplateByForm=function(e,t,n,o,r){return this.resJsonTemplateByForm(e,t,n,o,r,"append")},this.beforeResJsonTemplateByForm=function(e,t,n,o,r){return this.resJsonTemplateByForm(e,t,n,o,r,"before")},this.afterResJsonTemplateByForm=function(e,t,n,o,r){return this.resJsonTemplateByForm(e,t,n,o,r,"after")},this.resJsonTemplateByForm=function(e,t,n,o,r,i,s,l){return null==s&&(s=0),new Promise((f=this,m=e,g=t,v=n,b=o,C=r,y=i,M=s,j=l,function(e,t){let n=f.ajaxByForm(v,b);var o,r,i,s,l,a,u,h,p,c,d;n.timeout=N,C&&(n.withCredentials=!0),n.onloadend=(o=f,r=m,i=g,s=v,l=b,a=C,u=y,h=M,p=j,c=e,d=t,function(e,t){if(200===t.status){var n=t.response;o.loadTemplate(r,i,n,u,0,p).then(c).catch(d)}else if(fairysupportTemplateFail(h))o.resJsonTemplateByForm(r,i,s,l,a,u,++h,p).then(c).catch(d);else try{throw new Error("error : load json for template : "+s+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){d(e)}}),n.send()}));var f,m,g,v,b,C,y,M,j},this.appendResHtmlTemplate=function(e,t,n,o,r){return this.resHtmlTemplate(e,t,n,o,r,"append")},this.beforeResHtmlTemplate=function(e,t,n,o,r){return this.resHtmlTemplate(e,t,n,o,r,"before")},this.afterResHtmlTemplate=function(e,t,n,o,r){return this.resHtmlTemplate(e,t,n,o,r,"after")},this.resHtmlTemplate=function(e,t,n,o,r,i,s,l){return null==s&&(s=0),new Promise((f=this,m=e,g=t,v=n,b=o,C=r,y=i,M=s,j=l,function(e,t){let n=f.emptyAjax(g,v);var o,r,i,s,l,a,u,h,p,c,d;n.timeout=N,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/*"),n.setRequestHeader("Content-Type","application/json"),n.responseType="text",C&&(n.withCredentials=!0),n.onloadend=(o=f,r=m,i=g,s=v,l=b,a=C,u=y,h=M,p=j,c=e,d=t,function(e,t){if(200===t.status){var n=t.response;o.loadStringTemplate(r,n,l,u,p).then(c).catch(d)}else if(fairysupportTemplateFail(h))o.resHtmlTemplate(r,i,s,l,a,u,++h,p).then(c).catch(d);else try{throw new Error("error : load template : "+i+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){d(e)}}),n.send()}));var f,m,g,v,b,C,y,M,j},this.appendResHtmlTemplateByForm=function(e,t,n,o,r){return this.resHtmlTemplateByForm(e,t,n,o,r,"append")},this.beforeResHtmlTemplateByForm=function(e,t,n,o,r){return this.resHtmlTemplateByForm(e,t,n,o,r,"before")},this.afterResHtmlTemplateByForm=function(e,t,n,o,r){return this.resHtmlTemplateByForm(e,t,n,o,r,"after")},this.resHtmlTemplateByForm=function(e,t,n,o,r,i,s,l){return null==s&&(s=0),new Promise((f=this,m=e,g=t,v=n,b=o,C=r,y=i,M=s,j=l,function(o,r){let e=f.emptyAjaxByForm(g,v);var i,s,l,a,u,h,p,c,d;e.timeout=N,e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Accept","text/*"),e.responseType="text",C&&(e.withCredentials=!0),e.onloadend=(i=f,s=m,l=g,a=v,u=b,h=C,p=y,c=M,d=j,function(e,t){if(200===t.status){var n=t.response;i.loadStringTemplate(s,n,u,p,d).then(o).catch(r)}else if(fairysupportTemplateFail(c))i.resHtmlTemplateByForm(s,l,a,u,h,p,++c,d).then(o).catch(r);else try{throw new Error("error : load template : "+l+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){r(e)}}),e.send()}));var f,m,g,v,b,C,y,M,j},this.execUniqueComponentMethod=function(e,t,n,o){return this.execMethod(e,t,n,o)},this.getUniqueComponentMethod=function(t,n,o,r,i,s){return function(){var e=t.execUniqueComponentMethod(n,o,r,i);return s(),e}},this.getUniqueComponentMethodInputArgs=function(t,n,o,r){return function(e){return t.execUniqueComponentMethod(n,o,r,e)}},this.appendLoadUniqueComponent=function(e,t,n){return this.loadUniqueComponent(e,t,n,"append")},this.beforeLoadUniqueComponent=function(e,t,n){return this.loadUniqueComponent(e,t,n,"before")},this.afterLoadUniqueComponent=function(e,t,n){return this.loadUniqueComponent(e,t,n,"after")},this.loadUniqueComponent=function(e,t,n,o,r){null==r&&(r=0);var d,f,m,g,v,b,C,y,i=this.getComponentValue(t),s=D+i.componentPath+"controller.js",t=D+i.componentPath+"view.html";return new Promise((d=this,f=e,m=n,g=o,v=r,b=i,C=s,y=t,function(e,t){let n=d.emptyAjax(y+"?"+d.version,null,"GET","query");var o,r,i,s,l,a,u,h,p,c;n.timeout=N,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/*"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.responseType="text",n.onloadend=(o=d,r=f,i=m,s=g,l=v,a=b,u=C,h=y,p=e,c=t,function(e,t){if(200===t.status){var n=t.response;o.uniqueComponentInsertFunc(o,r,a,u,i,p,c,s,n)}else if(fairysupportComponentFail(l))o.loadUniqueComponent(r,a.componentPackeage,i,s,++l).then(p).catch(c);else try{throw new Error("error : load template for uniqueComponent : "+h+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){c(e)}}),n.send()}))},this.appendResJsonUniqueComponent=function(e,t,n,o,r){return this.resJsonUniqueComponent(e,t,n,o,r,"append")},this.beforeResJsonUniqueComponent=function(e,t,n,o,r){return this.resJsonUniqueComponent(e,t,n,o,r,"before")},this.afterResJsonUniqueComponent=function(e,t,n,o,r){return this.resJsonUniqueComponent(e,t,n,o,r,"after")},this.resJsonUniqueComponent=function(e,t,n,o,r,i,s){return null==s&&(s=0),new Promise((d=this,f=e,m=t,g=n,v=o,b=r,C=i,y=s,function(o,r){let e=d.ajax(g,v);var i,s,l,a,u,h,p,c;e.timeout=N,b&&(e.withCredentials=!0),e.onloadend=(i=d,s=f,l=m,a=g,u=v,h=b,p=C,c=y,function(e,t){if(200===t.status){var n=t.response;i.loadUniqueComponent(s,l,n,p).then(o).catch(r)}else if(fairysupportComponentFail(c))i.resJsonUniqueComponent(s,l,a,u,h,p,++c).then(o).catch(r);else try{throw new Error("error : load json for uniqueComponent : "+a+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){r(e)}}),e.send()}));var d,f,m,g,v,b,C,y},this.appendResJsonUniqueComponentByForm=function(e,t,n,o,r){return this.resJsonUniqueComponentByForm(e,t,n,o,r,"append")},this.beforeResJsonUniqueComponentByForm=function(e,t,n,o,r){return this.resJsonUniqueComponentByForm(e,t,n,o,r,"before")},this.afterResJsonUniqueComponentByForm=function(e,t,n,o,r){return this.resJsonUniqueComponentByForm(e,t,n,o,r,"after")},this.resJsonUniqueComponentByForm=function(e,t,n,o,r,i,s){return null==s&&(s=0),new Promise((d=this,f=e,m=t,g=n,v=o,b=r,C=i,y=s,function(e,t){let n=d.ajaxByForm(g,v);var o,r,i,s,l,a,u,h,p,c;n.timeout=N,b&&(n.withCredentials=!0),n.onloadend=(o=d,r=f,i=m,s=g,l=v,a=b,u=C,h=y,p=e,c=t,function(e,t){if(200===t.status){var n=t.response;o.loadUniqueComponent(r,i,n,u).then(p).catch(c)}else if(fairysupportComponentFail(h))o.resJsonUniqueComponentByForm(r,i,s,l,a,u,++h).then(p).catch(c);else try{throw new Error("error : load json for uniqueComponent : "+s+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){c(e)}}),n.send()}));var d,f,m,g,v,b,C,y},this.appendResHtmlUniqueComponent=function(e,t,n,o,r,i){return this.resHtmlUniqueComponent(e,t,n,o,r,i,"append")},this.beforeResHtmlUniqueComponent=function(e,t,n,o,r,i){return this.resHtmlUniqueComponent(e,t,n,o,r,i,"before")},this.afterResHtmlUniqueComponent=function(e,t,n,o,r,i){return this.resHtmlUniqueComponent(e,t,n,o,r,i,"after")},this.resHtmlUniqueComponent=function(e,t,n,o,r,i,s,l){return null==l&&(l=0),new Promise((v=this,b=e,C=t,y=n,M=o,j=r,x=i,T=s,F=l,L=D,function(i,s){let e=v.emptyAjax(y,M);var l,a,u,h,p,c,d,f,m,g;e.timeout=N,e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Accept","text/*"),e.setRequestHeader("Content-Type","application/json"),e.responseType="text",x&&(e.withCredentials=!0),e.onloadend=(l=v,a=b,u=C,h=y,p=M,c=j,d=x,f=T,m=F,g=L,function(e,t){if(200===t.status){var n=t.response,o=l.getComponentValue(u),r=g+o.componentPath+"controller.js";l.uniqueComponentInsertFunc(l,a,o,r,c,i,s,f,n)}else if(fairysupportComponentFail(m))l.resHtmlUniqueComponent(a,u,h,p,c,d,f,++m).then(i).catch(s);else try{throw new Error("error : load template for uniqueComponent : "+h+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){s(e)}}),e.send()}));var v,b,C,y,M,j,x,T,F,L},this.appendResHtmlUniqueComponentByForm=function(e,t,n,o,r,i){return this.resHtmlUniqueComponentByForm(e,t,n,o,r,i,"append")},this.beforeResHtmlUniqueComponentByForm=function(e,t,n,o,r,i){return this.resHtmlUniqueComponentByForm(e,t,n,o,r,i,"before")},this.afterResHtmlUniqueComponentByForm=function(e,t,n,o,r,i){return this.resHtmlUniqueComponentByForm(e,t,n,o,r,i,"after")},this.resHtmlUniqueComponentByForm=function(e,t,n,o,r,i,s,l){return null==l&&(l=0),new Promise((v=this,b=e,C=t,y=n,M=o,j=r,x=i,T=s,F=l,L=D,function(e,t){let n=v.emptyAjaxByForm(y,M);var i,s,l,a,u,h,p,c,d,f,m,g;n.timeout=N,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/*"),n.responseType="text",x&&(n.withCredentials=!0),n.onloadend=(i=v,s=b,l=C,a=y,u=M,h=j,p=x,c=T,d=F,f=L,m=e,g=t,function(e,t){if(200===t.status){var n=t.response,o=i.getComponentValue(l),r=f+o.componentPath+"controller.js";i.uniqueComponentInsertFunc(i,s,o,r,h,m,g,c,n)}else if(fairysupportComponentFail(d))i.resHtmlUniqueComponentByForm(s,l,a,u,h,p,c,++d).then(m).catch(g);else try{throw new Error("error : load template for uniqueComponent : "+a+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){g(e)}}),n.send()}));var v,b,C,y,M,j,x,T,F,L},this.uniqueComponentInsertFunc=function(e,t,n,o,r,i,s,l,a){var u=n.componentPath.split("/");this.getComponentDefaultEnvValue(e,t,n,o,r,i,s,l,a,u,D,!0,this.uniqueComponentInsertFuncExec.bind(e),0)},this.uniqueComponentInsertFuncExec=function(e,t,n,o,r,i,s,l,a,u){null==u&&(u=0);let h=function(){};var p,c,d,f,m,g,v,b,C,y;null!=i&&(h=i),import(o+"?"+e.version).then(e.loadUniqueComponentControllerMethodList(e,t,n,a,r,h,l)).catch((p=e,c=t,d=n,f=o,m=r,g=i,v=l,b=a,C=u,function(e){fairysupportComponentFail(C)?p.uniqueComponentInsertFuncExec(p,c,d,f,m,g,y,v,b,++C):null!=y&&y(e)}))},this.loadUniqueComponentControllerMethodList=function(s,l,a,u,h,p,c,d){return function(e){var t,n=new e.default,e=s.getMethodList(n);let o={};for(t in e){var r=t.split("_");if(1<r.length){let t="";for(let e=0;e<r.length-1;e++)t+=r[e]+"_";t=t.substring(0,t.length-1),o[t]||(o[t]=[]),o[t].push(r[r.length-1])}}let i=s.getInsertUniqueComponent(s,l,a,u,h,p,c,n,e,o,d);i()}},this.getInsertUniqueComponent=function(t,n,o,d,f,m,g,v,b,C,y){return function(){var r,i,s,l,a,u,h,p,c,e=(i=n,s=o,l=f,a=m,u=g,h=v,p=b,c=C,function(e){var t=r.getUniqueComponentMethod(r,h,p,"init",l,a);r.addInitFuncForAfterObserver(e,t);let n=e.childNodes;var o;if(null!==n&&void 0!==n)for(let e=0;e<n.length;e++)o=n.item(e),r.bindUniqueComponentAll(o,s,h,p,c);"before"===u&&i.parentNode?i.parentNode.insertBefore(e,i):"after"===u&&i.parentNode?null===i.nextSibling||void 0===i.nextSibling?i.parentNode.appendChild(e):i.parentNode.insertBefore(e,i.nextSibling):("append"===u||(i.innerHTML=""),i.appendChild(e))});(r=t).getTplDom(d,f,y,e)}},this.bindUniqueComponentAll=function(e,n,o,r,i){if(null!=e){this.bindAllSingle(e,this.bindUniqueComponentProp(this,e,n,o,r,i));let t=e.childNodes;var s;if(null!==t&&void 0!==t)for(let e=0;e<t.length;e++)s=t.item(e),this.bindUniqueComponentAll(s,n,o,r,i)}},this.bindUniqueComponentProp=function(o,r,i,s,l,a){return function(){var e,t,n=r.dataset;null!=n&&(e=n[i.componentCamel+"Obj"],t=n[i.componentCamel+"List"],n=n[i.componentCamel+"Name"],null!=e&&o.bindUniqueComponentSingleObj(r,e,s,l),null!=t&&o.bindUniqueComponentSingleList(r,t,s,l),null!=n&&o.bindUniqueComponentSingleEvent(r,n,s,l,a))}},this.bindUniqueComponentSingleObj=function(t,n,o,r){if(null!=t&&null!=n){this.execUniqueComponentMethod(o,r,"beforeBindObj",{name:n,value:t});let e=new Set;e.add(t);var i=this.getUniqueComponentMethodInputArgs(this,o,r,"beforeRemoveObj"),s=this.getUniqueComponentMethodInputArgs(this,o,r,"afterRemoveObj"),l=(d=e,function(){for(var e of d.values())return e;return null}),s=(a=e,u=n,h=i,p=s,c=f,function(e){currentElement=null;for(var t of a.values()){currentElement=t;break}currentElement&&(h({name:u,value:currentElement}),a.clear(),!currentElement.parentNode||e instanceof c||(null==e?currentElement.parentNode.removeChild(currentElement):e instanceof Node&&currentElement.parentNode.replaceChild(e,currentElement)),p({name:u,value:currentElement}))});Object.defineProperty(o,n,{enumerable:!0,configurable:!0,get:l,set:s}),this.execUniqueComponentMethod(o,r,"afterBindObj",{name:n,value:t})}var a,u,h,p,c,d},this.bindUniqueComponentSingleList=function(e,t,n,o){var r,i,s;null!=e&&null!=t&&(null!==n[t]&&void 0!==n[t]||(r=this.getUniqueComponentMethodInputArgs(this,n,o,"beforeRemoveList"),i=this.getUniqueComponentMethodInputArgs(this,n,o,"afterRemoveList"),s=this.getUniqueComponentMethodInputArgs(this,n,o,"beforeBindList"),o=this.getUniqueComponentMethodInputArgs(this,n,o,"afterBindList"),n[t]=new this.elementList(t,r,i,s,o,f)),n[t].add(e))},this.bindUniqueComponentSingleEvent=function(e,t,n,o,r){null!=e&&null!=t&&this.setEventFunctionForUniqueComponent(t,n,o,e,r,this.clazz.obj)},this.appendLoadSingleComponent=function(e,t,n){return this.loadSingleComponent(e,t,n,"append")},this.beforeLoadSingleComponent=function(e,t,n){return this.loadSingleComponent(e,t,n,"before")},this.afterLoadSingleComponent=function(e,t,n){return this.loadSingleComponent(e,t,n,"after")},this.loadSingleComponent=function(e,t,n,o,r){null==r&&(r=0);var d,f,m,g,v,b,C,y,i=this.getComponentValue(t),s=D+i.componentPath+"controller.js",t=D+i.componentPath+"view.html";return new Promise((d=this,f=e,m=n,g=o,v=r,b=i,C=s,y=t,function(o,r){let e=d.emptyAjax(y+"?"+d.version,null,"GET","query");var i,s,l,a,u,h,p,c;e.timeout=N,e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Accept","text/*"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.responseType="text",e.onloadend=(i=d,s=f,l=m,a=g,u=v,h=b,p=C,c=y,function(e,t){if(200===t.status){var n=t.response;i.singleComponentInsertFunc(i,s,h,p,l,o,r,a,n)}else if(fairysupportComponentFail(u))i.loadSingleComponent(s,h.componentPackeage,l,a,++u).then(o).catch(r);else try{throw new Error("error : load template for singleComponent : "+c+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){r(e)}}),e.send()}))},this.appendResJsonSingleComponent=function(e,t,n,o,r){return this.resJsonSingleComponent(e,t,n,o,r,"append")},this.beforeResJsonSingleComponent=function(e,t,n,o,r){return this.resJsonSingleComponent(e,t,n,o,r,"before")},this.afterResJsonSingleComponent=function(e,t,n,o,r){return this.resJsonSingleComponent(e,t,n,o,r,"after")},this.resJsonSingleComponent=function(e,t,n,o,r,i,s){return null==s&&(s=0),new Promise((d=this,f=e,m=t,g=n,v=o,b=r,C=i,y=s,function(o,r){let e=d.ajax(g,v);var i,s,l,a,u,h,p,c;e.timeout=N,b&&(e.withCredentials=!0),e.onloadend=(i=d,s=f,l=m,a=g,u=v,h=b,p=C,c=y,function(e,t){if(200===t.status){var n=t.response;i.loadSingleComponent(s,l,n,p).then(o).catch(r)}else if(fairysupportComponentFail(c))i.resJsonSingleComponent(s,l,a,u,h,p,++c).then(o).catch(r);else try{throw new Error("error : load json for singleComponent : "+a+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){r(e)}}),e.send()}));var d,f,m,g,v,b,C,y},this.appendResJsonSingleComponentByForm=function(e,t,n,o,r){return this.resJsonSingleComponentByForm(e,t,n,o,r,"append")},this.beforeResJsonSingleComponentByForm=function(e,t,n,o,r){return this.resJsonSingleComponentByForm(e,t,n,o,r,"before")},this.afterResJsonSingleComponentByForm=function(e,t,n,o,r){return this.resJsonSingleComponentByForm(e,t,n,o,r,"after")},this.resJsonSingleComponentByForm=function(e,t,n,o,r,i,s){return null==s&&(s=0),new Promise((d=this,f=e,m=t,g=n,v=o,b=r,C=i,y=s,function(o,r){let e=d.ajaxByForm(g,v);var i,s,l,a,u,h,p,c;e.timeout=N,b&&(e.withCredentials=!0),e.onloadend=(i=d,s=f,l=m,a=g,u=v,h=b,p=C,c=y,function(e,t){if(200===t.status){var n=t.response;i.loadSingleComponent(s,l,n,p).then(o).catch(r)}else if(fairysupportComponentFail(c))i.resJsonSingleComponentByForm(s,l,a,u,h,p,++c).then(o).catch(r);else try{throw new Error("error : load json for singleComponent : "+a+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){r(e)}}),e.send()}));var d,f,m,g,v,b,C,y},this.appendResHtmlSingleComponent=function(e,t,n,o,r,i){return this.resHtmlSingleComponent(e,t,n,o,r,i,"append")},this.beforeResHtmlSingleComponent=function(e,t,n,o,r,i){return this.resHtmlSingleComponent(e,t,n,o,r,i,"before")},this.afterResHtmlSingleComponent=function(e,t,n,o,r,i){return this.resHtmlSingleComponent(e,t,n,o,r,i,"after")},this.resHtmlSingleComponent=function(e,t,n,o,r,i,s,l){return null==l&&(l=0),new Promise((v=this,b=e,C=t,y=n,M=o,j=r,x=i,T=s,F=l,L=D,function(i,s){let e=v.emptyAjax(y,M);var l,a,u,h,p,c,d,f,m,g;e.timeout=N,e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Accept","text/*"),e.setRequestHeader("Content-Type","application/json"),e.responseType="text",x&&(e.withCredentials=!0),e.onloadend=(l=v,a=b,u=C,h=y,p=M,c=j,d=x,f=T,m=F,g=L,function(e,t){if(200===t.status){var n=t.response,o=l.getComponentValue(u),r=g+o.componentPath+"controller.js";l.singleComponentInsertFunc(l,a,o,r,c,i,s,f,n)}else if(fairysupportComponentFail(m))l.resHtmlSingleComponent(a,u,h,p,c,d,f,++m).then(i).catch(s);else try{throw new Error("error : load template for singleComponent : "+h+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){s(e)}}),e.send()}));var v,b,C,y,M,j,x,T,F,L},this.appendResHtmlSingleComponentByForm=function(e,t,n,o,r,i){return this.resHtmlSingleComponentByForm(e,t,n,o,r,i,"append")},this.beforeResHtmlSingleComponentByForm=function(e,t,n,o,r,i){return this.resHtmlSingleComponentByForm(e,t,n,o,r,i,"before")},this.afterResHtmlSingleComponentByForm=function(e,t,n,o,r,i){return this.resHtmlSingleComponentByForm(e,t,n,o,r,i,"after")},this.resHtmlSingleComponentByForm=function(e,t,n,o,r,i,s,l){return null==l&&(l=0),new Promise((v=this,b=e,C=t,y=n,M=o,j=r,x=i,T=s,F=l,L=D,function(i,s){let e=v.emptyAjaxByForm(y,M);var l,a,u,h,p,c,d,f,m,g;e.timeout=N,e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Accept","text/*"),e.responseType="text",x&&(e.withCredentials=!0),e.onloadend=(l=v,a=b,u=C,h=y,p=M,c=j,d=x,f=T,m=F,g=L,function(e,t){if(200===t.status){var n=t.response,o=l.getComponentValue(u),r=g+o.componentPath+"controller.js";l.singleComponentInsertFunc(l,a,o,r,c,i,s,f,n)}else if(fairysupportComponentFail(m))l.resHtmlSingleComponentByForm(a,u,h,p,c,d,f,++m).then(i).catch(s);else try{throw new Error("error : load template for singleComponent : "+h+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){s(e)}}),e.send()}));var v,b,C,y,M,j,x,T,F,L},this.paramFmt=function(e,t,n){let o="";if(null==t)o="";else if("json"===e)o=JSON.stringify(t);else if("query"===e)for(var[r,i]of Object.entries(t))i.constructor===Object?o+=""===n?this.paramFmt(e,i,r):this.paramFmt(e,i,n+"["+r+"]"):o=""===n?o+encodeURIComponent(r)+"="+encodeURIComponent(i)+"&":o+encodeURIComponent(n+"["+r+"]")+"="+encodeURIComponent(i)+"&";else o=t;return""===o&&(o=null),o},this.emptyAjax=function(e,t,n="POST",o="json",r=null,i=null){"get"===n.toLowerCase()&&(o="query");let s=this.paramFmt(o,t,"");"get"===n.toLowerCase()&&null!==s&&""!==s&&(0<=e.indexOf("?")?e+="&"+s:e+="?"+s,s=null);let l=new this.fairysupportAjaxObj(null,null,e,s,null,null,null,"ajax",null);return l.open(n,e,!0,r,i),l},this.ajax=function(e,t,n="POST",o="json",r=null,i=null){let s=this.emptyAjax(e,t,n,o,r,i);return s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Accept","application/json"),(s.responseType="json")===o.toLowerCase()?s.setRequestHeader("Content-Type","application/json"):s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s},this.ajaxText=function(e,t,n="POST",o="json",r=null,i=null){let s=this.emptyAjax(e,t,n,o,r,i);return s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Accept","text/*"),s.responseType="text","json"===o.toLowerCase()?s.setRequestHeader("Content-Type","application/json"):s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s},this.emptyAjaxByForm=function(e,t,n=null,o=null){let r=new this.fairysupportAjaxObj(null,null,e,new FormData(t),null,null,null,"ajaxByForm",null);return r.open("POST",e,!0,n,o),r},this.ajaxByForm=function(e,t,n=null,o=null){let r=this.emptyAjaxByForm(e,t,n,o);return r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Accept","application/json"),r.responseType="json",r},this.ajaxTextByForm=function(e,t,n=null,o=null){let r=this.emptyAjaxByForm(e,t,n,o);return r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Accept","text/*"),r.responseType="text",r},this.fairysupportAjaxObj=class{constructor(e,t,n,o,r,i,s,l,a){this.dom=e,this.componentPackeage=t,this.viewUrl=n,this.paramObj=o,this.argObj=r,this.cb=i,this.position=s,this.metName=l,this.componentRoot=a,this.xhr=new XMLHttpRequest;var u,h,p,c,d,f,m,g,v,b,C,y,M,j,x,T,F,L,q,w,_,E,H,O,R,S,D,N,z,V,P,B,I,A,U,k,J,X,$,l=function(){return u.xhr.onreadystatechange},a=(h=u=this,function(e){var t,n;h.xhr.onreadystatechange=(t=h,n=e,function(e){n(e,t.xhr)})});Object.defineProperty(this,"onreadystatechange",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return p.xhr.readyState},c=p=this,a=function(e){c.xhr.readyState=e},Object.defineProperty(this,"readyState",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return d.xhr.response},f=d=this,a=function(e){f.xhr.response=e},Object.defineProperty(this,"response",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return m.xhr.responseText},g=m=this,a=function(e){g.xhr.responseText=e},Object.defineProperty(this,"responseText",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return v.xhr.responseType},b=v=this,a=function(e){b.xhr.responseType=e},Object.defineProperty(this,"responseType",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return C.xhr.responseURL},y=C=this,a=function(e){y.xhr.responseURL=e},Object.defineProperty(this,"responseURL",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return M.xhr.responseXML},j=M=this,a=function(e){j.xhr.responseXML=e},Object.defineProperty(this,"responseXML",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return x.xhr.status},T=x=this,a=function(e){T.xhr.status=e},Object.defineProperty(this,"status",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return F.xhr.statusText},L=F=this,a=function(e){L.xhr.statusText=e},Object.defineProperty(this,"statusText",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return q.xhr.timeout},w=q=this,a=function(e){w.xhr.timeout=e},Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return _.xhr.upload},E=_=this,a=function(e){E.xhr.upload=e},Object.defineProperty(this,"upload",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return H.xhr.withCredentials},O=H=this,a=function(e){O.xhr.withCredentials=e},Object.defineProperty(this,"withCredentials",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return R.xhr.onabort},S=R=this,a=function(e){var t,n;S.xhr.onabort=(t=S,n=e,function(e){n(e,t.xhr)})},Object.defineProperty(this,"onabort",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return D.xhr.onerror},N=D=this,a=function(e){var t,n;N.xhr.onerror=(t=N,n=e,function(e){n(e,t.xhr)})},Object.defineProperty(this,"onerror",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return z.xhr.onload},V=z=this,a=function(e){var t,n;V.xhr.onload=(t=V,n=e,function(e){n(e,t.xhr)})},Object.defineProperty(this,"onload",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return P.xhr.onloadend},B=P=this,a=function(e){var t,n;B.xhr.onloadend=(t=B,n=e,function(e){n(e,t.xhr)})},Object.defineProperty(this,"onloadend",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return I.xhr.onloadstart},A=I=this,a=function(e){var t,n;A.xhr.onloadstart=(t=A,n=e,function(e){n(e,t.xhr)})},Object.defineProperty(this,"onloadstart",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return U.xhr.onprogress},k=U=this,a=function(e){var t,n;k.xhr.onprogress=(t=k,n=e,function(e){n(e,t.xhr)})},Object.defineProperty(this,"onprogress",{enumerable:!0,configurable:!1,get:l,set:a}),l=function(){return J.xhr.ontimeout},X=J=this,a=function(e){var t,n;X.xhr.ontimeout=(t=X,n=e,function(e){n(e,t.xhr)})},Object.defineProperty(this,"ontimeout",{enumerable:!0,configurable:!1,get:l,set:a}),$=Object.create(null),l=function(){return $},a=function(){},Object.defineProperty(this,"__resFunc",{enumerable:!0,configurable:!1,get:l,set:a})}setResponseType(e){return this.responseType=e,this}abort(){return this.xhr.abort(),this}getAllResponseHeaders(){return this.xhr.getAllResponseHeaders()}getResponseHeader(e){return this.xhr.getResponseHeader(e)}open(e,t,n=!0,o=null,r=null){return this.xhr.open(e,t,n,o,r),this}overrideMimeType(e){return this.xhr.overrideMimeType(e),this}send(e){return null!==this.paramObj&&void 0!==this.paramObj?this.xhr.send(this.paramObj):this.xhr.send(e),this}setRequestHeader(e,t){return this.xhr.setRequestHeader(e,t)}setOnreadystatechange(e){return this.onreadystatechange=e,this}setWithCredentials(e){return this.withCredentials=e,this}setOnabort(e){return this.onabort=e,this}setOnerror(e){return this.onerror=e,this}setOnload(e){return this.onload=e,this}setOnloadend(e){return this.onloadend=e,this}setOnloadstart(e){return this.onloadstart=e,this}setOnprogress(e){return this.onprogress=e,this}setOntimeout(e){return this.ontimeout=e,this}setReadystatechange(e,t,n){"readystatechange"in this.__resFunc||(this.__resFunc.readystatechange=Object.create(null)),null===e&&null===t?this.__resFunc.readystatechange.default=n:null!==e&&null===t?("statusDefault"in this.__resFunc.readystatechange||(this.__resFunc.readystatechange.statusDefault=Object.create(null)),this.__resFunc.readystatechange.statusDefault[String(e)]=n):null===e&&null!==t?("stateDefault"in this.__resFunc.readystatechange||(this.__resFunc.readystatechange.stateDefault=Object.create(null)),this.__resFunc.readystatechange.stateDefault[String(t)]=n):("fn"in this.__resFunc.readystatechange||(this.__resFunc.readystatechange.fn=Object.create(null)),e in this.__resFunc.readystatechange.fn||(this.__resFunc.readystatechange.fn[String(e)]=Object.create(null)),this.__resFunc.readystatechange.fn[String(e)][String(t)]=n);var i,n=(i=this.__resFunc.readystatechange,function(t,n){var o=String(n.status),r=String(n.readyState);if("fn"in i&&r in i.fn&&o in i.fn[r])i.fn[r][o](t,n);else{let e=!1;"statusDefault"in i&&r in i.statusDefault&&(i.statusDefault[r](t,n),e=!0),"stateDefault"in i&&o in i.stateDefault&&(i.stateDefault[o](t,n),e=!0),!1===e&&"default"in i&&i.default(t,n)}});return this.onreadystatechange=n,this}setAbort(e){"abort"in this.__resFunc||(this.__resFunc.abort=Object.create(null)),this.__resFunc.abort.default=e;var n,e=(n=this.__resFunc.abort,function(e,t){"default"in n&&n.default(e,t)});return this.onabort=e,this}setError(e){"error"in this.__resFunc||(this.__resFunc.error=Object.create(null)),this.__resFunc.error.default=e;var n,e=(n=this.__resFunc.error,function(e,t){"default"in n&&n.default(e,t)});return this.onerror=e,this}setLoad(e,t){"load"in this.__resFunc||(this.__resFunc.load=Object.create(null)),null===e?this.__resFunc.load.default=t:("fn"in this.__resFunc.load||(this.__resFunc.load.fn=Object.create(null)),this.__resFunc.load.fn[String(e)]=t);var o,t=(o=this.__resFunc.load,function(e,t){var n=String(t.status);"fn"in o&&n in o.fn?o.fn[n](e,t):"default"in o&&o.default(e,t)});return this.onload=t,this}setLoadend(e,t){"loadend"in this.__resFunc||(this.__resFunc.loadend=Object.create(null)),null===e?this.__resFunc.loadend.default=t:("fn"in this.__resFunc.loadend||(this.__resFunc.loadend.fn=Object.create(null)),this.__resFunc.loadend.fn[String(e)]=t);var o,t=(o=this.__resFunc.loadend,function(e,t){var n=String(t.status);"fn"in o&&n in o.fn?o.fn[n](e,t):"default"in o&&o.default(e,t)});return this.onloadend=t,this}setLoadstart(e){"loadstart"in this.__resFunc||(this.__resFunc.loadstart=Object.create(null)),this.__resFunc.loadstart.default=e;var n,e=(n=this.__resFunc.loadstart,function(e,t){"default"in n&&n.default(e,t)});return this.onloadstart=e,this}setProgress(e,t){"progress"in this.__resFunc||(this.__resFunc.progress=Object.create(null)),null===e?this.__resFunc.progress.default=t:("fn"in this.__resFunc.progress||(this.__resFunc.progress.fn=Object.create(null)),this.__resFunc.progress.fn[String(e)]=t);var o,t=(o=this.__resFunc.progress,function(e,t){var n=String(t.status);"fn"in o&&n in o.fn?o.fn[n](e,t):"default"in o&&o.default(e,t)});return this.onprogress=t,this}setTimeout(e){"timeout"in this.__resFunc||(this.__resFunc.timeout=Object.create(null)),this.__resFunc.timeout.default=e;var n,e=(n=this.__resFunc.timeout,function(e,t){"default"in n&&n.default(e,t)});return this.ontimeout=e,this}},this.getComponentController=function(e){let t="";var n;for(n of(e=e.trim()).split("."))""!==n.trim()&&(t+=n+"/");return this.componentControllerList[t]||null},this.getModuleController=function(){return this.clazz.obj},this.setTimeLineProp=function(e,t){if(null!==e||void 0!==e)for(var[n,o]of Object.entries(t))o.constructor===Object?this.setTimeLineProp(e[n],o):"function"==typeof o?e[n]=o():e[n]=o},this.timeLineClass=class{constructor(e,t,n,o,r){this.fs=e,this.timelinePropList=t,this.preClazz=n,this.props=o,this.ms=r}execTimer(){var e;if(null!==this.preClazz&&void 0!==this.preClazz&&null!==this.preClazz.timerId&&void 0!==this.preClazz.timerId&&this.preClazz.clerTimer(),null!==this.timerId&&void 0!==this.timerId)for(e of this.props.values())this.fs.setTimeLineProp(e.obj,e.value);var t=this.timelinePropList.shift();if(null!=t){let e=new this.fs.timeLineClass(this.fs,this.timelinePropList,this,t.prop,t.ms);e.timerId=window.setTimeout(e.execTimer.bind(e),t.ms-this.ms)}else this.clerTimer()}clerTimer(){window.clearTimeout(this.timerId)}},this.timeline=function(e){let t=[].concat(e);t.sort(function(e,t){return e.ms<t.ms?-1:e.ms===t.ms?0:1});let n=new this.timeLineClass(this,t,null,null,0);n.execTimer()},this.envValue=function(e){return h[e]},this.msg=function(e,t){let n="";e in u&&(n=u[e]);for(var[o,r]of Object.entries(t)){var i=new RegExp("(?<!\\\\)\\$\\{"+o+"\\}","g");n=n.replace(i,r),n=n.replace("\\${"+o+"}","${"+o+"}")}return n},this.componentEnvValue=function(e,t){return e in V?V[e][t]:null},this.componentMsg=function(e,t,n){if(!(e in z))return null;let o="";t in z[e]&&(o=z[e][t]);for(var[r,i]of Object.entries(n)){var s=new RegExp("(?<!\\\\)\\$\\{"+r+"\\}","g");o=o.replace(s,i),o=o.replace("\\${"+r+"}","${"+r+"}")}return o},this.addMeta=function(e,t){l.set(e,t)},this.getMeta=function(e){return l.get(e)},this.deleteMeta=function(e){l.delete(e)},this.validate=function(e,t,n,o,r){var i={preVal:Object.create(null)};this.wrapObjAccessor(e,t,o,i,n,r)},this.wrapObjAccessor=function(e,t,n,o,r,i){let s=this.getPrototypePropertyDescriptor(e,t);var l,a,u,h,p,c,d,f,m,g,v,b,C,y,M,j=(l=s,a=e,function(){return l.get.call(a)}),x=(u=s,h=e,p=n,c=i,function(e){let t=!0;for(const o of p){var n=o(h,e,u.get.call(h),c);n||(t=n)}t&&u.set.call(h,e)});if(Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:j,set:x}),null!=r&&"addEventListener"in e){o.preVal[t]=e[t],e.addEventListener("focus",(C=o,y=e,M=t,function(){C.preVal[M]=y[M]}));var T=(d=n,f=e,m=t,g=o,v=i,b=s,function(e){let t=!0;for(const o of d){var n=o(f,f[m],g.preVal[m],v);n||(t=n)}t||b.set.call(f,g.preVal[m]),g.preVal[m]=f[m]});for(const F of r)e.addEventListener(F,T)}for(const L of n)L(e,s.get.call(e),s.get.call(e),i)},this.getPrototypePropertyDescriptor=function(n,o){var r,i,s,l,a,u,h,p,c,d,e=Object.getPrototypeOf(n);let f=null;if(null===e||null==e)f=Object.create(null);else if(f=Object.getOwnPropertyDescriptor(e,o),null!==f&&void 0!==f||(f=Object.create(null)),"configurable"in f&&!f.configurable)return;if(!("get"in f&&"set"in f)){let e=Object.create(null),t={val:n[o]};t.get=(d=t,function(){return d.val}),t.set=(c=t,function(e){return c.val=e}),"get"in f?e.get=(u=t,h=n,p=f,function(){return p.get.call(h),u.get()}):e.get=(a=t,function(){return a.get()}),"set"in f?e.set=(i=t,s=n,l=f,function(e){i.set(e),l.set.call(s,e)}):e.set=(r=t,function(e){r.set(e)}),e.configurable=!0,e.enumerable=!0,Object.defineProperty(n,o,e),f=e}return f},this.linkEvent=function(e,t,n){for(const o of n)e.addEventListener(o,t[o].bind(t))},this.getReqLang=function(){return R},this.getConfLang=function(){return S},this.storeClass=class{constructor(){this.data=Object.create(null),this.listener=new Map}set(e,t){this.data[e]=t;for(var n of this.listener.values())n(e,t)}get(e){return this.data[e]}addListener(e){this.listener.set(e,e)}removeListener(e){this.listener.delete(e)}};let p=new this.storeClass;this.store=function(){return p},this.init()}const $___fairysupport_param=function(v,l,tpl){try{return eval(tpl)}catch(e){throw e}},$f=new ___fairysupport;