function ___fairysupport(){var e=document.getElementById("fs-js");let t=new URL(window.location.href),O=t.searchParams.get("lang"),E=window.navigator.language,n=new URL(e.src);this.version="dataset"in e&&"version"in e.dataset?e.dataset.version:Date.now();let o=n.origin+n.pathname.trim();var r=o.split("/");let i=o.substring(0,o.length-r[r.length-1].length),p=i+"modules/",S=i+"components/",h=i+"templates/";this.clazz={},this.controllerMethodList={},this.controllerEventMethodList={},this.componentControllerList={},this.componentControllerMethodList={},this.componentControllerEventMethodList={},this.targetDomMap=new WeakMap,this.componentDomInitFuncMap=new Map,this.componentDomInitCntMap=new Map,this.componentDomInitTotalMap=new Map,this.componentDomComponentInitMarkMap=new Map,this.componentPackageList={},this.eventMap=new Map,this.eventNameDataNameMap=new Map,this.bindDomInitFuncMap=new Map,this.bindDomInitCntMap=new Map,this.bindDomInitTotalMap=new Map,this.bindDomComponentInitMarkMap=new Map;let l=new WeakMap,V="dataset"in e&&"timeout"in e.dataset?e.dataset.timeout:0;V=+V;let a=e.dataset.pageRoot,s="";this.instanceMap={};const d=Object.create(null),u=Object.create(null),b=new WeakMap,q=new WeakMap,f=new WeakMap,D=Object.create(null),P=new WeakMap,B=Object.create(null);"fairysupportInitFail"in window||(window.fairysupportInitFail=function(e,t){return console.error(t),alert("network error"),!1}),"fairysupportTemplateFail"in window||(window.fairysupportTemplateFail=function(e,t){return console.error(t),alert("network error"),!1}),"fairysupportComponentFail"in window||(window.fairysupportComponentFail=function(e,t){return console.error(t),alert("network error"),!1});let m=class{constructor(){}},c=!(this.getEnv=function(){return s}),g=!(this.initEnvTxt=function(e){c||(s=e),c=!0});this.initEnvValueObj=function(e){g||Object.assign(u,e),g=!0},this.getModulePath=function(e,t){let n=t.origin+t.pathname.trim(),o="",r=n.substring(e.length),i=r.split("/");for(let e=0;e<i.length;e++)""!==i[e]&&(e+1>=i.length?o+=i[e].split(".")[0]:o+=i[e]+"/");return""===o&&(o="index"),o},this.init=function(){var e=this.getModulePath(a,t);return this.loadModuleReqMsg(i,this.version,e,0),this},this.loadModuleReqMsg=function(t,n,o,r){if(null!==O&&void 0!==O&&""!==O){var i="."+O;let e=this.ajax(t+"msg/"+o+"/msg"+i+".json?"+n,null,"GET","query");e.timeout=V,e.onloadend=(l=this,a=t,s=n,u=o,c=r,function(e,t){var n;200===t.status?(n=t.response,Object.assign(d,n),l.loadModuleController(s,p,u,0)):404===t.status?l.loadModuleBrowserMsg(a,s,u,0):fairysupportInitFail(c,t)&&l.loadModuleReqMsg(a,s,u,++c)}),e.send()}else this.loadModuleBrowserMsg(t,n,o,0);var l,a,s,u,c},this.loadModuleBrowserMsg=function(t,n,o,r){if(null!==E&&void 0!==E&&""!==E){var i="."+E;let e=this.ajax(t+"msg/"+o+"/msg"+i+".json?"+n,null,"GET","query");e.timeout=V,e.onloadend=(l=this,a=t,s=n,u=o,c=r,function(e,t){var n;200===t.status?(n=t.response,Object.assign(d,n),l.loadModuleController(s,p,u,0)):404===t.status?l.loadModuleDefaultMsg(a,s,u,0):fairysupportInitFail(c,t)&&l.loadModuleBrowserMsg(a,s,u,++c)}),e.send()}else this.loadModuleDefaultMsg(t,n,o,0);var l,a,s,u,c},this.loadModuleDefaultMsg=function(e,t,n,o){let r=this.ajax(e+"msg/"+n+"/msg.json?"+t,null,"GET","query");var i,l,a,s,u;r.timeout=V,r.onloadend=(i=this,l=e,a=t,s=n,u=o,function(e,t){var n;200===t.status?(n=t.response,Object.assign(d,n),i.loadModuleController(a,p,s,0)):404===t.status?i.loadModuleController(a,p,s,0):fairysupportInitFail(u,t)&&i.loadModuleDefaultMsg(l,a,s,++u)}),r.send()},this.loadModuleController=function(e,t,n,o){var r,i,l,a,s;import(t+n+".js"+"?"+e).then(this.getControllerLoader(this,n)).catch((r=e,i=t,l=n,a=o,s=this,function(e){fairysupportInitFail(a,e)&&s.loadModuleController(r,i,l,++a)}))},this.getControllerLoader=function(a,s){return function(e){var t="modules/"+s;if(!a.instanceMap[t]){a.initEnvTxt(e.__fairysupport__envTxt),a.initEnvValueObj(e.__fairysupport__envValueObj);var n,o=s.split("/"),o=a.getCamel(o[o.length-1]);for(n in a.clazz.obj=new e[o],a.instanceMap[t]=a.clazz.obj,a.controllerMethodList=a.getMethodList(a.clazz.obj),a.controllerMethodList){var r=n.split("_");if(1<r.length){let t="";for(let e=0;e<r.length-1;e++)t+=r[e]+"_";t=t.substring(0,t.length-1),a.controllerEventMethodList[t]||(a.controllerEventMethodList[t]=[]),a.controllerEventMethodList[t].push(r[r.length-1])}}}a.binder(a);let i=a.getControllerMethod(a,"init",null);t="init"in a.controllerMethodList;let l=null;try{l=i()}catch(e){if(!t||!a.clazz.obj.errorHandle||"function"!=typeof a.clazz.obj.errorHandle)throw e;a.clazz.obj.errorHandle(null,e)}finally{t&&a.clazz.obj.finalHandle&&"function"==typeof a.clazz.obj.finalHandle&&a.clazz.obj.finalHandle(null,l)}}},this.binder=function(m){var e=document.getElementsByTagName("BODY");let t=new MutationObserver((e,t)=>{const n=new WeakSet,o=new WeakSet;for(var r of e)if("childList"===r.type){for(let e=0;e<r.removedNodes.length;e++)n.add(r.removedNodes.item(e));for(let e=0;e<r.addedNodes.length;e++)o.add(r.addedNodes.item(e))}for(var i of e){var l,a,s,u;if("attributes"===i.type)for(u in"data-obj"===i.attributeName&&(m.removeControllerSingleObjOnlyValue(i.target,i.oldValue),null!=(l=i.target.dataset)&&(a=l.obj,m.bindControllerSingleObj(i.target,a))),"data-list"===i.attributeName&&(m.removeControllerSingleListOnlyValue(i.target,i.oldValue),null!=(a=i.target.dataset)&&(s=a.list,m.bindControllerSingleList(i.target,s))),"data-name"===i.attributeName&&(m.removeControllerSingleEvent(i.target,i.oldValue),null!=(s=i.target.dataset)&&(s=s.name,m.bindControllerSingleEvent(i.target,s))),m.componentPackageList){var c,p=m.componentPackageList[u],h=p.componentPath,d=p.componentHyphen,f=p.componentCamel;i.attributeName==="data-"+d+"-obj"&&(m.removeComponentSingleObjOnlyValue(i.target,i.oldValue,h),null!=(p=i.target.dataset)&&(c=p[f+"Obj"],m.bindComponentSingleObj(i.target,c,h))),i.attributeName==="data-"+d+"-list"&&(m.removeComponentSingleListOnlyValue(i.target,i.oldValue,h),null!=(c=i.target.dataset)&&(c=c[f+"List"],m.bindComponentSingleList(i.target,c,h))),i.attributeName==="data-"+d+"-name"&&(m.removeComponentSingleEvent(i.target,i.oldValue,h),null!=(d=i.target.dataset)&&(f=d[f+"Name"],m.bindComponentSingleEvent(i.target,f,h)))}else if("childList"===i.type){for(let e=0;e<i.removedNodes.length;e++)n.has(i.removedNodes.item(e))&&o.has(i.removedNodes.item(e))||m.removeAllNest(i.removedNodes.item(e));for(let e=0;e<i.addedNodes.length;e++)n.has(i.addedNodes.item(e))&&o.has(i.addedNodes.item(e))||m.bindAllNest(i.addedNodes.item(e))}}});t.observe(e[0],{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0}),m.bindBody()},this.initExecForController=function(n,o){if(n.componentDomInitFuncMap.has(o)){let t=n.componentDomInitFuncMap.get(o);if(n.componentDomInitFuncMap.delete(o),n.componentDomInitCntMap.set(t,n.componentDomInitCntMap.get(t)+1),n.componentDomInitCntMap.get(t)===n.componentDomInitTotalMap.get(t)){var r=n.componentDomComponentInitMarkMap.get(t);n.componentDomInitCntMap.delete(t),n.componentDomInitTotalMap.delete(t),n.componentDomComponentInitMarkMap.delete(t);let e=null;try{e=t()}catch(e){if(!r||!n.clazz.obj.errorHandle||"function"!=typeof n.clazz.obj.errorHandle)throw e;n.clazz.obj.errorHandle(null,e)}finally{r&&n.clazz.obj.finalHandle&&"function"==typeof n.clazz.obj.finalHandle&&n.clazz.obj.finalHandle(null,e)}}}if(n.bindDomInitFuncMap.has(o)){let t=n.bindDomInitFuncMap.get(o);if(n.bindDomInitFuncMap.delete(o),n.bindDomInitCntMap.set(t,n.bindDomInitCntMap.get(t)+1),n.bindDomInitCntMap.get(t)===n.bindDomInitTotalMap.get(t)){o=n.bindDomComponentInitMarkMap.get(t);n.bindDomInitCntMap.delete(t),n.bindDomInitTotalMap.delete(t),n.bindDomComponentInitMarkMap.delete(t);let e=null;try{e=t()}catch(e){if(!o||!n.clazz.obj.errorHandle||"function"!=typeof n.clazz.obj.errorHandle)throw e;n.clazz.obj.errorHandle(null,e)}finally{o&&n.clazz.obj.finalHandle&&"function"==typeof n.clazz.obj.finalHandle&&n.clazz.obj.finalHandle(null,e)}}}},this.addInitFuncForAfterObserver=function(e,t,n){let o=e.childNodes;var r;if(null!==o&&void 0!==o){this.bindDomComponentInitMarkMap.set(t,n),this.bindDomInitCntMap.set(t,0),this.bindDomInitTotalMap.set(t,o.length);for(let e=0;e<o.length;e++)r=o.item(e),this.bindDomInitFuncMap.set(r,t)}},this.bindBody=function(){var e=document.getElementsByTagName("BODY")?document.getElementsByTagName("BODY")[0]:null;e&&this.bindAllNest(e)},this.bindAllNest=function(e){if(null!=e){this.bindAllSingle(e,null);let t=e.childNodes;var n;if(null!==t&&void 0!==t)for(let e=0;e<t.length;e++)n=t.item(e),this.bindAllNest(n);this.initExecForController(this,e)}},this.bindAllSingle=function(o,r){var i=o.dataset;if(null!=i){let e=i.obj,t=i.list,n=i.name;for(var l in null!=o&&(null!==e&&void 0!==e||null!==t&&void 0!==t||null!==n&&void 0!==n)&&this.addTargetDom(o,null),this.targetDomMap.has(o)&&(this.bindControllerSingleObj(o,e),this.bindControllerSingleList(o,t),this.bindControllerSingleEvent(o,n)),this.componentPackageList){var a=this.componentPackageList[l],s=a.componentPath,l=a.componentCamel;this.addTargetDomForComponent(o,a),this.targetDomMap.has(o)&&(e=i[l+"Obj"],t=i[l+"List"],n=i[l+"Name"],null!==e&&void 0!==e&&this.bindComponentSingleObj(o,e,s),null!==t&&void 0!==t&&this.bindComponentSingleList(o,t,s),null!==n&&void 0!==n&&this.bindComponentSingleEvent(o,n,s))}null!=r&&r(o)}},this.bindControllerSingleObj=function(t,n){if(null!=t&&null!=n){this.execControllerMethod("beforeBindObj",{name:n,value:t});let e=new Set;e.add(t);var o=this.getControllerMethodInputArgs(this,"beforeRemoveObj"),r=this.getControllerMethodInputArgs(this,"afterRemoveObj"),i=(p=e,function(){for(var e of p.values())return e;return null}),r=(l=e,a=n,s=o,u=r,c=m,function(e){currentElement=null;for(var t of l.values()){currentElement=t;break}currentElement&&(s({name:a,value:currentElement}),l.clear(),!currentElement.parentNode||e instanceof c||(null==e?currentElement.parentNode.removeChild(currentElement):currentElement.parentNode.replaceChild(e,currentElement)),u({name:a,value:currentElement}))});Object.defineProperty(this.clazz.obj,n,{enumerable:!0,configurable:!0,get:i,set:r}),this.execControllerMethod("afterBindObj",{name:n,value:t})}var l,a,s,u,c,p},this.bindControllerSingleList=function(e,t){var n,o,r,i;null!=e&&null!=t&&(null!==this.clazz.obj[t]&&void 0!==this.clazz.obj[t]||(n=this.getControllerMethodInputArgs(this,"beforeRemoveList"),o=this.getControllerMethodInputArgs(this,"afterRemoveList"),r=this.getControllerMethodInputArgs(this,"beforeBindList"),i=this.getControllerMethodInputArgs(this,"afterBindList"),this.clazz.obj[t]=new this.elementList(t,n,o,r,i,m)),this.clazz.obj[t].add(e))},this.bindControllerSingleEvent=function(e,t){null!=e&&null!=t&&this.setEventFunction(t,this.clazz.obj,this.controllerMethodList,e,this.controllerEventMethodList,this.clazz.obj)},this.execMethod=function(t,e,n,o){if(e[n]){if(null==o){let e=null;try{e=t[n]()}catch(e){if(!this.clazz.obj.errorHandle||"function"!=typeof this.clazz.obj.errorHandle)throw e;this.clazz.obj.errorHandle(null,e)}finally{this.clazz.obj.finalHandle&&"function"==typeof this.clazz.obj.finalHandle&&this.clazz.obj.finalHandle(null,e)}return e}{let e=null;try{e=t[n](o)}catch(e){if(!this.clazz.obj.errorHandle||"function"!=typeof this.clazz.obj.errorHandle)throw e;this.clazz.obj.errorHandle(null,e)}finally{this.clazz.obj.finalHandle&&"function"==typeof this.clazz.obj.finalHandle&&this.clazz.obj.finalHandle(null,e)}return e}}return null},this.execControllerMethod=function(e,t){return this.execMethod(this.clazz.obj,this.controllerMethodList,e,t)},this.getExecMethod=function(e,t,n,o,r){return function(){return e.execMethod(t,n,o,r)}},this.getControllerMethod=function(e,t,n){return function(){return e.execControllerMethod(t,n)}},this.getControllerMethodInputArgs=function(t,n){return function(e){return t.execControllerMethod(n,e)}},this.getMethodList=function(e){let t={},n=e;for(var o;null!==n&&void 0!==n&&null!=(o=Object.getPrototypeOf(n));){var r=Object.getOwnPropertyNames(n);if(r)for(var i of r)"function"==typeof e[i]&&(t[i]=e[i].bind(e));n=o}return t},this.removeAllNest=function(e){if(null!=e){this.removeAllSingle(e);let t=e.childNodes;var n;if(null!==t&&void 0!==t)for(let e=0;e<t.length;e++)n=t.item(e),this.removeAllNest(n)}},this.removeAllSingle=function(o){if(P.has(o)){var e;for(e of P.get(o))e in D&&(D[e].delete(o),D[e].size<=0&&delete D[e]),e in B&&(B[e].delete(o),B[e].size<=0&&delete B[e]);P.delete(o)}this.deleteMeta(o);var r=o.dataset;if(null!=r){let e=r.obj,t=r.list,n=r.name;if(f.has(o)){var i=f.get(o);let e=i.controller;var l=this.getMethodList(e);if("obj"in i&&void 0!==i.obj&&(e[i.obj]=null),"list"in i&&void 0!==i.list&&e[i.list].remove(o),"nameInfo"in i&&void 0!==i.nameInfo){for(var a of i.nameInfo)for(var s of a.dataNameList)this.execMethod(e,l,"beforeRemoveName",{name:s,event:a.eventName,value:o});o.removeEventListener(i.nameInfo.eventName,i.nameInfo.fn);for(var u of i.nameInfo)for(var c of u.dataNameList)this.execMethod(e,l,"afterRemoveName",{name:c,event:u.eventName,value:o})}}if(this.targetDomMap.has(o)){null!==e&&void 0!==e&&this.removeControllerSingleObj(o,e),null!==t&&void 0!==t&&this.removeControllerSingleList(o,t),null!==n&&void 0!==n&&this.removeControllerSingleEvent(o,n);var p=this.targetDomMap.get(o);if(p)for(var h in p){var d=p[h],h=d.componentPath,d=d.componentCamel;e=r[d+"Obj"],t=r[d+"List"],n=r[d+"Name"],null!==e&&void 0!==e&&this.removeComponentSingleObj(o,e,h),null!==t&&void 0!==t&&this.removeComponentSingleList(o,t,h),null!==n&&void 0!==n&&this.removeComponentSingleEvent(o,n,h)}}}},this.removeControllerSingleObjOnlyValue=function(e,t){null!=e&&null!=t&&this.clazz.obj[t]===e&&(this.clazz.obj[t]=new m)},this.removeControllerSingleObj=function(e,t){null!=e&&null!=t&&this.clazz.obj[t]===e&&(this.clazz.obj[t]=null)},this.removeControllerSingleListOnlyValue=function(e,t){null!=e&&null!=t&&void 0!==this.clazz.obj[t]&&this.clazz.obj[t].has&&this.clazz.obj[t].has(e)&&this.clazz.obj[t].replace(e,new m)},this.removeControllerSingleList=function(e,t){null!=e&&null!=t&&void 0!==this.clazz.obj[t]&&this.clazz.obj[t].has&&this.clazz.obj[t].has(e)&&this.clazz.obj[t].remove(e)},this.removeControllerSingleEvent=function(e,t){null!=e&&null!=t&&this.removeEventFunction(t,this.clazz.obj,this.controllerMethodList,e)},this.loadComponentReqMsg=function(t,n,o,r,i,l,a,s,u,c,p,h,d){if(null!==O&&void 0!==O&&""!==O){var f="."+O;let e=null;e=null!=h?this.ajax(h+"/"+o.componentPath+"msg"+f+".json?"+t.version,null,"GET","query"):this.ajax(S+o.componentPath+"msg"+f+".json?"+t.version,null,"GET","query"),e.timeout=V,e.onloadend=(m=t,g=n,v=o,b=r,C=i,y=l,j=a,M=s,_=u,x=c,T=p,w=q,L=h,F=d,function(e,t){var n;200===t.status?(n=t.response,x(m,g,v,b,C,y,j,M,_,w,null,L,n,F)):404===t.status?m.loadComponentBrowserMsg(m,g,v,b,C,y,j,M,_,x,0,L,F):fairysupportComponentFail(T,t)&&m.loadComponentReqMsg(m,g,v,b,C,y,j,M,_,x,++T,L,F)}),e.send()}else t.loadComponentBrowserMsg(t,n,o,r,i,l,a,s,u,c,0,h,d);var m,g,v,b,C,y,j,M,_,x,T,w,L,F},this.loadComponentBrowserMsg=function(t,n,o,r,i,l,a,s,u,c,p,h,d){if(null!==E&&void 0!==E&&""!==E){var f="."+E;let e=null;e=null!=h?this.ajax(h+"/"+o.componentPath+"msg"+f+".json?"+t.version,null,"GET","query"):this.ajax(S+o.componentPath+"msg"+f+".json?"+t.version,null,"GET","query"),e.timeout=V,e.onloadend=(m=t,g=n,v=o,b=r,C=i,y=l,j=a,M=s,_=u,x=c,T=p,w=q,L=h,F=d,function(e,t){var n;200===t.status?(n=t.response,x(m,g,v,b,C,y,j,M,_,w,null,L,n,F)):404===t.status?m.loadComponentDefaultMsg(m,g,v,b,C,y,j,M,_,x,0,L,F):fairysupportComponentFail(T,t)&&m.loadComponentBrowserMsg(m,g,v,b,C,y,j,M,_,x,++T,L,F)}),e.send()}else t.loadComponentDefaultMsg(t,n,o,r,i,l,a,s,u,c,0,h,d);var m,g,v,b,C,y,j,M,_,x,T,w,L,F},this.loadComponentDefaultMsg=function(e,t,n,o,r,i,l,a,s,u,c,p,h){let d=null;var f,m,g,v,b,C,y,j,M,_,x,T,w,L;d=null!=p?this.ajax(p+"/"+n.componentPath+"msg.json?"+e.version,null,"GET","query"):this.ajax(S+n.componentPath+"msg.json?"+e.version,null,"GET","query"),d.timeout=V,d.onloadend=(f=e,m=t,g=n,v=o,b=r,C=i,y=l,j=a,M=s,_=u,x=c,T=q,w=p,L=h,function(e,t){var n;200===t.status?(n=t.response,_(f,m,g,v,b,C,y,j,M,T,null,w,n,L)):404===t.status?_(f,m,g,v,b,C,y,j,M,T,null,w,{},L):fairysupportComponentFail(x,t)&&f.loadComponentDefaultMsg(f,m,g,v,b,C,y,j,M,_,++x,w,L)}),d.send()},this.singleComponentInsertFunc=function(e,t,n,o,r,i,l,a,s,u){this.loadComponentReqMsg(e,t,n,o,r,i,l,a,s,this.singleComponentInsertFuncExec.bind(e),0,null,u)},this.singleComponentInsertFuncExec=function(e,t,n,o,r,i,l,a,s,u,c,p,h,d){null==c&&(c=0);let f=function(){};var m,g,v,b,C,y,j,M,_,x,T,w,L,F;null!=i&&"function"==typeof i&&(f=i),import(o+"?"+e.version).then(e.loadSingleComponentControllerMethodList(e,t,n,s,r,f,a,l,u,h,d)).catch((m=e,g=t,v=n,b=o,C=r,y=i,j=l,M=a,_=s,x=u,T=c,w=p,L=h,F=d,function(e){fairysupportComponentFail(T,e)?m.singleComponentInsertFuncExec(m,g,v,b,C,y,j,M,_,x,++T,w,L,F):null!=j&&j(e)}))},this.loadSingleComponentControllerMethodList=function(a,s,u,c,p,h,d,f,m,g,v){return function(e){null==c&&(c=e.__fairysupport__viewStr);let n=u.componentPath;var t="components/"+n.substring(0,n.length-1);if(!a.instanceMap[t]){var o,r=n.split("/"),r=a.getCamel(r[r.length-2]);for(o in a.componentControllerList[n]=new e[r],b.set(a.componentControllerList[n],g),m.set(a.componentControllerList[n],e.__fairysupport__envValueObj),a.instanceMap[t]=a.componentControllerList[n],a.componentControllerMethodList[n]=a.getMethodList(a.componentControllerList[n]),a.componentControllerEventMethodList[n]||(a.componentControllerEventMethodList[n]={}),a.componentControllerMethodList[n]){var i=o.split("_");if(1<i.length){let t="";for(let e=0;e<i.length-1;e++)t+=i[e]+"_";t=t.substring(0,t.length-1),a.componentControllerEventMethodList[n][t]||(a.componentControllerEventMethodList[n][t]=[]),a.componentControllerEventMethodList[n][t].push(i[i.length-1])}}}let l=a.getInsertComponent(a,s,u,c,p,h,d,f,a.componentControllerList[n],v);l()}},this.getInsertComponent=function(t,n,o,r,i,l,f,m,g,v){return function(){var a,s,u,c,p,h,d,e=(a=t,s=n,u=o,p=l,h=f,d=v,function(t){u.componentPackeage in a.componentPackageList||(a.componentPackageList[u.componentPackeage]=u);let n=[];for(let e=0;e<t.childNodes.length;e++)n.push(t.childNodes.item(e));var e,o,r=a.getComponentMethod(a,u.componentPath,"init",c,(e=p,o=n,function(){e(o)}));let i=t.childNodes;var l;if(null!==i&&void 0!==i){a.componentDomInitCntMap.set(r,0),a.componentDomInitTotalMap.set(r,i.length),"init"in a.componentControllerMethodList[u.componentPath]?a.componentDomComponentInitMarkMap.set(r,!0):a.componentDomComponentInitMarkMap.set(r,!1);for(let e=0;e<i.length;e++)l=i.item(e),a.addComponentTargetDomNest(l,u),a.componentDomInitFuncMap.set(l,r)}s&&("before"===h&&s.parentNode?s.parentNode.insertBefore(t,s):"after"===h&&s.parentNode?null===s.nextSibling||void 0===s.nextSibling?s.parentNode.appendChild(t):s.parentNode.insertBefore(t,s.nextSibling):("append"===h||(s.innerHTML=""),s.appendChild(t))),!0===d&&p(n)});(i=null==(c=i)?Object.create(null):i)._controller=g,t.getTplDom(r,i,m,e)}},this.addTargetDomForComponent=function(e,t){var n,o,r=e.dataset;null!=r&&(n=r[t.componentCamel+"Obj"],o=r[t.componentCamel+"List"],r=r[t.componentCamel+"Name"],null==n&&null==o&&null==r||this.addTargetDom(e,t))},this.addComponentTargetDomNest=function(e,n){if(null!=e){this.addTargetDomForComponent(e,n);let t=e.childNodes;var o;if(null!==t&&void 0!==t)for(let e=0;e<t.length;e++)o=t.item(e),this.addComponentTargetDomNest(o,n)}},this.bindComponentSingleObj=function(t,n,o){if(null!=t&&null!=n){this.execComponentMethod(o,"beforeBindObj",{name:n,value:t});let e=new Set;e.add(t);var r=this.getComponentMethodInputArgs(this,o,"beforeRemoveObj"),i=this.getComponentMethodInputArgs(this,o,"afterRemoveObj"),l=(h=e,function(){for(var e of h.values())return e;return null}),i=(a=e,s=n,u=r,c=i,p=m,function(e){currentElement=null;for(var t of a.values()){currentElement=t;break}currentElement&&(u({name:s,value:currentElement}),a.clear(),!currentElement.parentNode||e instanceof p||(null==e?currentElement.parentNode.removeChild(currentElement):e instanceof Node&&currentElement.parentNode.replaceChild(e,currentElement)),c({name:s,value:currentElement}))});Object.defineProperty(this.componentControllerList[o],n,{enumerable:!0,configurable:!0,get:l,set:i}),this.execComponentMethod(o,"afterBindObj",{name:n,value:t})}var a,s,u,c,p,h},this.bindComponentSingleList=function(e,t,n){var o,r,i,l;null!=e&&null!=t&&(null!==this.componentControllerList[n][t]&&void 0!==this.componentControllerList[n][t]||(o=this.getComponentMethodInputArgs(this,n,"beforeRemoveList"),r=this.getComponentMethodInputArgs(this,n,"afterRemoveList"),i=this.getComponentMethodInputArgs(this,n,"beforeBindList"),l=this.getComponentMethodInputArgs(this,n,"afterBindList"),this.componentControllerList[n][t]=new this.elementList(t,o,r,i,l,m)),this.componentControllerList[n][t].add(e))},this.bindComponentSingleEvent=function(e,t,n){null!=e&&null!=t&&this.setEventFunction(t,this.componentControllerList[n],this.componentControllerMethodList[n],e,this.componentControllerEventMethodList[n],this.clazz.obj)},this.execComponentMethod=function(e,t,n){return this.execMethod(this.componentControllerList[e],this.componentControllerMethodList[e],t,n)},this.getComponentMethod=function(t,n,o,r,i){return function(){var e=t.execComponentMethod(n,o,r);return i(),e}},this.getComponentMethodInputArgs=function(t,n,o){return function(e){return t.execComponentMethod(n,o,e)}},this.removeComponentSingleObjOnlyValue=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&this.componentControllerList[n][t]===e&&(this.componentControllerList[n][t]=new m)},this.removeComponentSingleObj=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&this.componentControllerList[n][t]===e&&(this.componentControllerList[n][t]=null)},this.removeComponentSingleListOnlyValue=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&void 0!==this.componentControllerList[n][t]&&this.componentControllerList[n][t].has&&this.componentControllerList[n][t].has(e)&&this.componentControllerList[n][t].replace(e,new m)},this.removeComponentSingleList=function(e,t,n){null!=e&&null!=t&&void 0!==this.componentControllerList[n]&&void 0!==this.componentControllerList[n][t]&&this.componentControllerList[n][t].has&&this.componentControllerList[n][t].has(e)&&this.componentControllerList[n][t].remove(e)},this.removeComponentSingleEvent=function(e,t,n){null!=e&&null!=t&&this.removeEventFunction(t,this.componentControllerList[n],this.componentControllerMethodList[n],e)},this.getComponentValue=function(e){let t="",n="",o="";var r;for(r of(e=e.trim()).split("."))""!==r.trim()&&(t+=r+"/",n+=r.substring(0,1).toUpperCase()+r.substring(1),o+=r+"-");return n=n.substring(0,1).toLowerCase()+n.substring(1),o=o.substring(0,o.length-1),{componentPath:t,componentPackeage:e,componentCamel:n,componentHyphen:o}},this.addTargetDom=function(t,n){if(this.targetDomMap.has(t)||this.targetDomMap.set(t,{}),null!=n){let e=this.targetDomMap.get(t);e[n.componentPackeage]=n,this.componentPackageList[n.componentPackeage]=n}},this.elementList=class{#objMap;#bindListStr;#beforeMet;#afterMet;#addBeforeMet;#addAfterMet;#fairysupportClear;constructor(e,t,n,o,r,i){this.#objMap=new Map,this.#bindListStr=e,this.#beforeMet=t,this.#afterMet=n,this.#addBeforeMet=o,this.#addAfterMet=r,this.#fairysupportClear=i}size(){return this.#objMap.size}has(e){return this.#objMap.has(e)}add(e){return this.#addBeforeMet({name:this.#bindListStr,value:e}),this.#objMap.set(e,e),this.#addAfterMet({name:this.#bindListStr,value:e}),this}replace(e,t){return this.#beforeMet({name:this.#bindListStr,value:e}),this.#objMap.delete(e),e&&(!e.parentNode||t instanceof m||(null==t?e.parentNode.removeChild(e):t instanceof Node&&e.parentNode.replaceChild(t,e))),this.#afterMet({name:this.#bindListStr,value:e}),this}remove(e){return this.#beforeMet({name:this.#bindListStr,value:e}),this.#objMap.delete(e),!e||!e.parentNode||e instanceof m||e.parentNode.removeChild(e),this.#afterMet({name:this.#bindListStr,value:e}),this}values(){return this.#objMap.values()}forEach(e,t=null){if(null===t)for(var n of this.#objMap.values())e(n);else for(var o of this.#objMap.values())e(o,t)}toArray(){let e=[];for(var t of this.#objMap.values())e.push(t);return e}},this.setEventFunction=function(e,r,i,l,t,a){let s="",n=[],o=e.split(",");for(let e=0;e<o.length;e++){var u=o[e].trim();n.push(u),s+=u+","}if(this.eventMap.has(r)&&this.eventMap.get(r).has(s)){let t=this.eventNameDataNameMap.get(r);if(t.has(s)){let e=t.get(s);for(var c of e.keys()){var p,h=e.get(c);for(p of h)this.execMethod(r,i,"beforeName",{name:p,event:c,value:l});var d,f=this.eventMap.get(r).get(s).get(c);l.addEventListener(c,f);for(d of h)this.execMethod(r,i,"afterName",{name:d,event:c,value:l})}}}else{for(var m of n)if(t[m])for(var g of t[m]){this.eventNameDataNameMap.has(r)||this.eventNameDataNameMap.set(r,new Map);let e=this.eventNameDataNameMap.get(r);e.has(s)||e.set(s,new Map);let t=e.get(s);t.has(g)||t.set(g,[]);let n=t.get(g);n.push(m)}if(this.eventNameDataNameMap.has(r)){let e=this.eventNameDataNameMap.get(r);if(e.has(s)){let o=e.get(s);for(var v of o.keys()){var b,C,y,j=o.get(v);let e=[];for(b of j)this.execMethod(r,i,"beforeName",{name:b,event:v,value:l}),e.push(i[b+"_"+v]);this.eventMap.has(r)||this.eventMap.set(r,new Map);let t=this.eventMap.get(r);t.has(s)||t.set(s,new Map);let n=t.get(s);n.has(v)||(C=function(o,r,i){return function(t){let n=!0;for(var e of o){n=!0;try{if(r.beforeEvent&&"function"==typeof r.beforeEvent&&r.beforeEvent(t),n=e(t),r.afterEvent&&"function"==typeof r.afterEvent&&r.afterEvent(t,n),!1===n)return n}catch(e){if(n=!1,!i.errorHandle||"function"!=typeof i.errorHandle)throw e;i.errorHandle(t,e)}finally{i.finalHandle&&"function"==typeof i.finalHandle&&i.finalHandle(t,n)}if(!1===n)return n}return n}}(e,r,a),n.set(v,C)),l.addEventListener(v,n.get(v));for(y of j)this.execMethod(r,i,"afterName",{name:y,event:v,value:l})}}}}},this.setEventFunctionForUniqueComponent=function(e,t,n,o,r,i){let l=[],a=Object.create(null),s=e.split(",");for(let e=0;e<s.length;e++){var u=s[e].trim();if(u in r)for(var c of r[u].values())u+"_"+c in n&&(c in a||(a[c]=Object.create(null)),this.execMethod(t,n,"beforeName",{name:u,event:c,value:o}),a[c][u]=n[u+"_"+c])}for(var p in a){var h,d=a[p],f=function(o,r,i){return function(t){let n=!0;for(var e of Object.values(o)){n=!0;try{if(r.beforeEvent&&"function"==typeof r.beforeEvent&&r.beforeEvent(t),n=e(t),r.afterEvent&&"function"==typeof r.afterEvent&&r.afterEvent(t,n),!1===n)return n}catch(e){if(n=!1,!i.errorHandle||"function"!=typeof i.errorHandle)throw e;i.errorHandle(t,e)}finally{i.finalHandle&&"function"==typeof i.finalHandle&&i.finalHandle(t,n)}if(!1===n)return n}return n}}(d,t,i);for(h in o.addEventListener(p,f),l.push({dom:o,eventName:p,fn:f,dataNameList:Object.keys(d)}),d)this.execMethod(t,n,"afterName",{name:h,event:p,value:o})}return l},this.removeEventFunction=function(e,n,o,r){let i="",t=e.split(",");for(let e=0;e<t.length;e++){var l=t[e].trim();i+=l+","}if(this.eventMap.has(n)&&this.eventMap.get(n).has(i)){let t=this.eventNameDataNameMap.get(n);if(t.has(i)){let e=t.get(i);for(var a of e.keys()){var s,u=e.get(a);for(s of u)this.execMethod(n,o,"beforeRemoveName",{name:s,event:a,value:r});var c,p=this.eventMap.get(n).get(i).get(a);r.removeEventListener(a,p);for(c of u)this.execMethod(n,o,"afterRemoveName",{name:c,event:a,value:r})}}}},this.esc=function(r,...i){return function(e,n){let o="";if(null!=i)for(let t=0;t<i.length;t++){let e=$___fairysupport_param(n,null,i[t]);e=String(e),o+=r[t]+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}return null==i||null===i.length||void 0===i.length?o+=r[0]:i.length<r.length&&(o+=r[i.length]),o}},this.getTplDom=function(e,t,n,o){let r=document.createElement("template");r.innerHTML="\n".concat(e);var i=r.content;null==t&&(t=Object.create(null));var l=Object.create(null),e=Object.create(null);this.developTpl(i,t,e,l,n,o,!0)},this.getTplChildNodeList=function*(e){for(e.selfExe&&void 0!==e.dom&&null!==e.dom&&(yield e.dom),e.i=0;e.i<e.childNodes.length;e.i++)yield e.childNodes.item(e.i);void 0!==e.cb&&null!==e.cb&&e.cb(e.dom)},this.developTpl=async function(a,s,u,c,p,h,n){try{if(null==a)return null!=h&&h(a),"success";let o=new WeakMap,e=null;var r=a.childNodes;let l=null,t={childNodes:r,i:0,cb:h,dom:a,selfExe:n};if(o.set(a,a),null!=r)for await(l of this.getTplChildNodeList(t)){if("continueVal"in c&&0<c.continueVal)return this.selfAndNextDelete(l),null!=h&&h(a),"success";if("breakVal"in c&&0<c.breakVal)return this.selfAndNextDelete(l),null!=h&&h(a),"success";if(!(l instanceof CharacterData)){let i=l.dataset;if(null!==i&&void 0!==i){let r=null;if(r=i.else,null!==l&&void 0!==l&&null!==r&&void 0!==r&&(delete l.dataset.else,!1===e?(l.innerHTML="",l.parentNode.removeChild(l),l=null,i=Object.create(null),0<t.i&&t.i--):!0===e?e=!1:(e=!1,l.innerHTML="",l.parentNode.removeChild(l),l=null,i=Object.create(null),0<t.i&&t.i--)),r=i.elseif,null!==l&&void 0!==l&&null!==r&&void 0!==r&&(delete l.dataset.elseif,!1===e?(l.innerHTML="",l.parentNode.removeChild(l),l=null,i=Object.create(null),0<t.i&&t.i--):!0===e?$___fairysupport_param(s,u,r)?e=!1:(l.innerHTML="",l.parentNode.removeChild(l),l=null,i=Object.create(null),0<t.i&&t.i--):(e=!1,l.innerHTML="",l.parentNode.removeChild(l),l=null,i=Object.create(null),0<t.i&&t.i--)),r=i.if,null!==l&&void 0!==l&&null!==r&&void 0!==r&&(delete l.dataset.if,$___fairysupport_param(s,u,r)?e=!1:(e=!0,l.innerHTML="",l.parentNode.removeChild(l),l=null,i=Object.create(null),0<t.i&&t.i--)),r=i.continue,null!==l&&void 0!==l&&null!==r&&void 0!==r&&(delete l.dataset.continue,c.continueVal=r,0<r))return this.nextDelete(l),this.deleteTag(l,i.tag),null!=h&&h(a),"success";if(r=i.break,null!==l&&void 0!==l&&null!==r&&void 0!==r&&(delete l.dataset.break,c.breakVal=r,0<r))return this.nextDelete(l),this.deleteTag(l,i.tag),null!=h&&h(a),"success";var d=i.forStart,f=i.forEnd,m=i.forStep,g=i.forSkip;if(null!==l&&void 0!==l&&null!=d&&null!=f&&null!=m){delete l.dataset.forStart,delete l.dataset.forEnd,delete l.dataset.forStep,delete l.dataset.forSkip;let e=!0,t=null;for($___fairysupport_param(s,u,d);$___fairysupport_param(s,u,f);$___fairysupport_param(s,u,m))if(!$___fairysupport_param(s,u,g)){var v=l.cloneNode(!0);if(await this.developTpl(v,s,u,c,p,null,!0).catch(e=>{throw e}),o.set(v,v),l.parentNode.insertBefore(v,l),e&&(e=!1,t=v),"continueVal"in c&&0<c.continueVal){if(1<c.continueVal)return c.continueVal--,this.nextDelete(v),this.deleteTag(t,i.tag),null!=h&&h(a),"success";c.continueVal--,delete c.continueVal}else if("breakVal"in c&&0<c.breakVal){if(1<c.breakVal)return c.breakVal--,this.nextDelete(v),this.deleteTag(t,i.tag),null!=h&&h(a),"success";c.breakVal--,delete c.breakVal;break}}l.innerHTML="",l.parentNode.removeChild(l),l=t,i=null!==l&&void 0!==l&&null!==l.dataset&&void 0!==l.dataset?l.dataset:Object.create(null)}var b=i.foreach,C=i.foreachKey,y=i.foreachValue,j=i.foreachSkip,M=i.foreachEnd;if(null!==l&&void 0!==l&&null!=b&&null!=C&&null!=y){delete l.dataset.foreach,delete l.dataset.foreachKey,delete l.dataset.foreachValue,delete l.dataset.foreachSkip,delete l.dataset.foreachEnd;let e=!0,t=null;for(var[_,x]of Object.entries($___fairysupport_param(s,u,b)))if(u[C]=_,u[y]=x,!$___fairysupport_param(s,u,j)){if($___fairysupport_param(s,u,M))break;var T=l.cloneNode(!0);if(await this.developTpl(T,s,u,c,p,null,!0).catch(e=>{throw e}),o.set(T,T),l.parentNode.insertBefore(T,l),e&&(e=!1,t=T),"continueVal"in c&&0<c.continueVal){if(1<c.continueVal)return c.continueVal--,this.nextDelete(T),this.deleteTag(t,i.tag),null!=h&&h(a),"success";c.continueVal--,delete c.continueVal}else if("breakVal"in c&&0<c.breakVal){if(1<c.breakVal)return c.breakVal--,this.nextDelete(T),this.deleteTag(t,i.tag),null!=h&&h(a),"success";c.breakVal--,delete c.breakVal;break}}l.innerHTML="",l.parentNode.removeChild(l),l=t,i=null!==l&&void 0!==l&&null!==l.dataset&&void 0!==l.dataset?l.dataset:Object.create(null)}var w,L=i.while,F=i.whileSkip,O=i.whileStep;if(null!==l&&void 0!==l&&null!=L){delete l.dataset.while,delete l.dataset.whileSkip,delete l.dataset.whileStep;let e=!0,t=null,n=!0;for(;$___fairysupport_param(s,u,L);)if(n||$___fairysupport_param(s,u,O),n=!1,!$___fairysupport_param(s,u,F)){var E=l.cloneNode(!0);if(await this.developTpl(E,s,u,c,p,null,!0).catch(e=>{throw e}),o.set(E,E),l.parentNode.insertBefore(E,l),e&&(e=!1,t=E),"continueVal"in c&&0<c.continueVal){if(1<c.continueVal)return c.continueVal--,this.nextDelete(E),this.deleteTag(t,i.tag),null!=h&&h(a),"success";c.continueVal--,delete c.continueVal}else if("breakVal"in c&&0<c.breakVal){if(1<c.breakVal)return c.breakVal--,this.nextDelete(E),this.deleteTag(t,i.tag),null!=h&&h(a),"success";c.breakVal--,delete c.breakVal;break}}l.innerHTML="",l.parentNode.removeChild(l),l=t,i=null!==l&&void 0!==l&&null!==l.dataset&&void 0!==l.dataset?l.dataset:Object.create(null)}if(r=i.loadOnly,null!==l&&void 0!==l&&null!==r&&void 0!==r&&"true"===r&&"SCRIPT"===l.tagName.toUpperCase()&&(delete l.dataset.loadOnly,$___fairysupport_param(s,u,l.textContent),l.innerHTML="",l.parentNode.removeChild(l),l=null,i=Object.create(null),0<t.i&&t.i--),r=i.attr,null!==l&&void 0!==l&&null!==r&&void 0!==r){delete l.dataset.attr;var S,V,q=$___fairysupport_param(s,u,"("+r+")");for([S,V]of Object.entries(q))l.setAttribute(S,V)}if(r=i.prop,null!==l&&void 0!==l&&null!==r&&void 0!==r&&(delete l.dataset.prop,w=$___fairysupport_param(s,u,"("+r+")"),this.setTplProp(l,w)),r=i.template,null!==l&&void 0!==l&&null!==r&&void 0!==r){delete l.dataset.template;let t="";try{t=$___fairysupport_param(s,u,r)}catch(e){t=r}var H=i.templateVariable;delete l.dataset.templateVariable;let n=Object.create(null);try{n=$___fairysupport_param(s,u,H)}catch(e){n=H}try{await this.loadTemplate(l,t,n,null,0,null,!0).catch(e=>{throw e})}catch(e){throw e}}if(r=i.singleComponent,null!==l&&void 0!==l&&null!==r&&void 0!==r){delete l.dataset.singleComponent;let t="";try{t=$___fairysupport_param(s,u,r)}catch(e){t=r}var N=i.singleComponentVariable;delete l.dataset.singleComponentVariable;let n=Object.create(null);try{n=$___fairysupport_param(s,u,N)}catch(e){n=N}try{await this.innerLoadSingleComponent(l,t,n).catch(e=>{throw e})}catch(e){throw e}}if(r=i.uniqueComponent,null!==l&&void 0!==l&&null!==r&&void 0!==r){delete l.dataset.uniqueComponent;let t="";try{t=$___fairysupport_param(s,u,r)}catch(e){t=r}var R=i.uniqueComponentVariable;delete l.dataset.uniqueComponentVariable;let n=Object.create(null);try{n=$___fairysupport_param(s,u,R)}catch(e){n=R}try{await this.innerLoadUniqueComponent(l,t,n).catch(e=>{throw e})}catch(e){throw e}}if(r=i.webComponent,null!==l&&void 0!==l&&null!==r&&void 0!==r){delete l.dataset.webComponent;let t="";try{t=$___fairysupport_param(s,u,r)}catch(e){t=r}var z=i.webComponentVariable;delete l.dataset.webComponentVariable;let n=Object.create(null);try{n=$___fairysupport_param(s,u,z)}catch(e){n=z}let o=i.webComponentUrl;delete l.dataset.webComponentUrl;try{o=$___fairysupport_param(s,u,o)}catch(e){o}try{await this.innerLoadWebComponent(l,o,t,n).catch(e=>{throw e})}catch(e){throw e}}if(r=i.text,null!==l&&void 0!==l&&null!==r&&void 0!==r){delete l.dataset.text;let t="";try{t=$___fairysupport_param(s,u,r)}catch(e){t=r}l.innerHTML="",l.appendChild(document.createTextNode(t))}if(r=i.html,null!==l&&void 0!==l&&null!==r&&void 0!==r){delete l.dataset.html;let t="";try{t=$___fairysupport_param(s,u,r)}catch(e){t=r}l.innerHTML=t}this.deleteTag(l,i.tag)&&0<t.i&&t.i--,null===l||void 0===l||o.has(l)||await this.developTpl(l,s,u,c,p,null,!1).catch(e=>{throw e})}}}}catch(e){throw p(e),e}return"success"},this.deleteTag=function(n,e){let o=!1;if(null!=n&&null!=e&&(delete n.dataset.tag,"hidden"===e||"hidden"===$___fairysupport_param(paramObj,localValue,e))){let t=n.childNodes;var r;if(null!==t&&void 0!==t)for(let e=0;e<t.length;e++)r=t.item(e),n.removeChild(r),e--,n.parentNode&&n.parentNode.insertBefore(r,n);n.parentNode.removeChild(n),o=!0}return o},this.selfAndNextDelete=function(e){this.nextDelete(e),e.parentNode.removeChild(e)},this.nextDelete=function(e){let t=null;for(;null!==(t=e.nextSibling);)t.parentNode.removeChild(t)},this.setTplProp=function(e,t){if(null!==e||void 0!==e)for(var[n,o]of Object.entries(t))o&&o.constructor===Object?this.setTplProp(e[n],o):e[n]=o},this.getTemplate=function(e,t){null==t&&(t=0);let n="";var o;for(o of(e=e.trim()).split("."))""!==o.trim()&&(n+=o+"/");n=n.substring(0,n.length-1);var s,u,c,p,r=h+n+".html";return new Promise((s=this,u=e,c=t,p=r,function(e,t){let n=s.emptyAjax(p+"?"+s.version,null,"GET","query");var o,r,i,l,a;n.timeout=V,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/*"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.responseType="text",n.onloadend=(o=s,r=u,i=c,l=e,a=t,function(e,t){if(200===t.status){var n=t.response;l(n)}else if(fairysupportTemplateFail(i,t))o.getTemplate(r,++i).then(l).catch(a);else try{throw new Error("error : load template : "+p+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){a(e)}}),n.send()}))},this.appendLoadStringTemplate=function(e,t,n){return this.loadStringTemplate(e,t,n,"append")},this.beforeLoadStringTemplate=function(e,t,n){return this.loadStringTemplate(e,t,n,"before")},this.afterLoadStringTemplate=function(e,t,n){return this.loadStringTemplate(e,t,n,"after")},this.loadStringTemplate=function(e,t,n,o,r,i){return new Promise((u=this,c=e,p=t,h=n,d=o,f=i,function(e,t){var r,i,l,a,s,e=(i=c,l=d,a=e,s=f,function(t){let n=[];for(let e=0;e<t.childNodes.length;e++)n.push(t.childNodes.item(e));var e,o;s||r.addInitFuncForAfterObserver(t,(e=a,o=n,function(){e(o)}),!1),i&&("before"===l&&i.parentNode?i.parentNode.insertBefore(t,i):"after"===l&&i.parentNode?null===i.nextSibling||void 0===i.nextSibling?i.parentNode.appendChild(t):i.parentNode.insertBefore(t,i.nextSibling):("append"===l||(i.innerHTML=""),i.appendChild(t))),!0===s&&a(n)});(r=u).getTplDom(p,h,t,e)}));var u,c,p,h,d,f},this.appendLoadTemplate=function(e,t,n){return this.loadTemplate(e,t,n,"append")},this.beforeLoadTemplate=function(e,t,n){return this.loadTemplate(e,t,n,"before")},this.afterLoadTemplate=function(e,t,n){return this.loadTemplate(e,t,n,"after")},this.loadTemplate=function(e,t,n,o,r,i,l){null==r&&(r=0);let a="";var s;for(s of(t=t.trim()).split("."))""!==s.trim()&&(a+=s+"/");a=a.substring(0,a.length-1);var d,f,m,g,v,b,C,y,j,u=h+a+".html";return new Promise((d=this,f=e,m=t,g=n,v=o,b=r,C=i,y=u,j=l,function(e,t){let n=d.emptyAjax(y+"?"+d.version,null,"GET","query");var o,r,i,l,a,s,u,c,p,h;n.timeout=V,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/*"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.responseType="text",n.onloadend=(o=d,r=f,i=m,l=g,a=v,s=b,u=C,c=e,p=t,h=j,function(e,t){if(200===t.status){var n=t.response;o.loadStringTemplate(r,n,l,a,u,h).then(c).catch(p)}else if(fairysupportTemplateFail(s,t))o.loadTemplate(r,i,l,a,++s,u,h).then(c).catch(p);else try{throw new Error("error : load template : "+y+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){p(e)}}),n.send()}))},this.appendResJsonTemplate=function(e,t,n,o,r){return this.resJsonTemplate(e,t,n,o,r,"append")},this.beforeResJsonTemplate=function(e,t,n,o,r){return this.resJsonTemplate(e,t,n,o,r,"before")},this.afterResJsonTemplate=function(e,t,n,o,r){return this.resJsonTemplate(e,t,n,o,r,"after")},this.resJsonTemplate=function(e,t,n,o,r,i,l,a){return null==l&&(l=0),new Promise((f=this,m=e,g=t,v=n,b=o,C=r,y=i,j=l,M=a,function(e,t){let n=f.ajax(v,b);var o,r,i,l,a,s,u,c,p,h,d;n.timeout=V,C&&(n.withCredentials=!0),n.onloadend=(o=f,r=m,i=g,l=v,a=b,s=C,u=y,c=j,p=M,h=e,d=t,function(e,t){if(200===t.status){var n=t.response;o.loadTemplate(r,i,n,u,0,p).then(h).catch(d)}else if(fairysupportTemplateFail(c,t))o.resJsonTemplate(r,i,l,a,s,u,++c,p).then(h).catch(d);else try{throw new Error("error : load json for template : "+l+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){d(e)}}),n.send()}));var f,m,g,v,b,C,y,j,M},this.appendResJsonTemplateByForm=function(e,t,n,o,r){return this.resJsonTemplateByForm(e,t,n,o,r,"append")},this.beforeResJsonTemplateByForm=function(e,t,n,o,r){return this.resJsonTemplateByForm(e,t,n,o,r,"before")},this.afterResJsonTemplateByForm=function(e,t,n,o,r){return this.resJsonTemplateByForm(e,t,n,o,r,"after")},this.resJsonTemplateByForm=function(e,t,n,o,r,i,l,a){return null==l&&(l=0),new Promise((f=this,m=e,g=t,v=n,b=o,C=r,y=i,j=l,M=a,function(e,t){let n=f.ajaxByForm(v,b);var o,r,i,l,a,s,u,c,p,h,d;n.timeout=V,C&&(n.withCredentials=!0),n.onloadend=(o=f,r=m,i=g,l=v,a=b,s=C,u=y,c=j,p=M,h=e,d=t,function(e,t){if(200===t.status){var n=t.response;o.loadTemplate(r,i,n,u,0,p).then(h).catch(d)}else if(fairysupportTemplateFail(c,t))o.resJsonTemplateByForm(r,i,l,a,s,u,++c,p).then(h).catch(d);else try{throw new Error("error : load json for template : "+l+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){d(e)}}),n.send()}));var f,m,g,v,b,C,y,j,M},this.appendResHtmlTemplate=function(e,t,n,o,r){return this.resHtmlTemplate(e,t,n,o,r,"append")},this.beforeResHtmlTemplate=function(e,t,n,o,r){return this.resHtmlTemplate(e,t,n,o,r,"before")},this.afterResHtmlTemplate=function(e,t,n,o,r){return this.resHtmlTemplate(e,t,n,o,r,"after")},this.resHtmlTemplate=function(e,t,n,o,r,i,l,a){return null==l&&(l=0),new Promise((f=this,m=e,g=t,v=n,b=o,C=r,y=i,j=l,M=a,function(e,t){let n=f.emptyAjax(g,v);var o,r,i,l,a,s,u,c,p,h,d;n.timeout=V,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/*"),n.setRequestHeader("Content-Type","application/json"),n.responseType="text",C&&(n.withCredentials=!0),n.onloadend=(o=f,r=m,i=g,l=v,a=b,s=C,u=y,c=j,p=M,h=e,d=t,function(e,t){if(200===t.status){var n=t.response;o.loadStringTemplate(r,n,a,u,p).then(h).catch(d)}else if(fairysupportTemplateFail(c,t))o.resHtmlTemplate(r,i,l,a,s,u,++c,p).then(h).catch(d);else try{throw new Error("error : load template : "+i+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){d(e)}}),n.send()}));var f,m,g,v,b,C,y,j,M},this.appendResHtmlTemplateByForm=function(e,t,n,o,r){return this.resHtmlTemplateByForm(e,t,n,o,r,"append")},this.beforeResHtmlTemplateByForm=function(e,t,n,o,r){return this.resHtmlTemplateByForm(e,t,n,o,r,"before")},this.afterResHtmlTemplateByForm=function(e,t,n,o,r){return this.resHtmlTemplateByForm(e,t,n,o,r,"after")},this.resHtmlTemplateByForm=function(e,t,n,o,r,i,l,a){return null==l&&(l=0),new Promise((f=this,m=e,g=t,v=n,b=o,C=r,y=i,j=l,M=a,function(o,r){let e=f.emptyAjaxByForm(g,v);var i,l,a,s,u,c,p,h,d;e.timeout=V,e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Accept","text/*"),e.responseType="text",C&&(e.withCredentials=!0),e.onloadend=(i=f,l=m,a=g,s=v,u=b,c=C,p=y,h=j,d=M,function(e,t){if(200===t.status){var n=t.response;i.loadStringTemplate(l,n,u,p,d).then(o).catch(r)}else if(fairysupportTemplateFail(h,t))i.resHtmlTemplateByForm(l,a,s,u,c,p,++h,d).then(o).catch(r);else try{throw new Error("error : load template : "+a+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){r(e)}}),e.send()}));var f,m,g,v,b,C,y,j,M},this.useDomAsTemplate=function(e,t){return this.loadStringTemplate(e,e.innerHTML,t)},this.execUniqueComponentMethod=function(e,t,n,o){return this.execMethod(e,t,n,o)},this.getUniqueComponentMethod=function(t,n,o,r,i,l){return function(){var e=t.execUniqueComponentMethod(n,o,r,i);return l(),e}},this.getUniqueComponentMethodInputArgs=function(t,n,o,r){return function(e){return t.execUniqueComponentMethod(n,o,r,e)}},this.appendLoadWebComponent=function(e,t,n,o){return this.loadWebComponent(e,t,n,o,"append")},this.beforeLoadWebComponent=function(e,t,n,o){return this.loadWebComponent(e,t,n,o,"before")},this.afterLoadWebComponent=function(e,t,n,o){return this.loadWebComponent(e,t,n,o,"after")},this.innerLoadWebComponent=function(e,t,n,o){return this.loadWebComponent(e,t,n,o,null,!0)},this.loadWebComponent=function(e,t,n,o,r,i){var l,a,s,u,c,p,h,d,f=this.getComponentValue(n),n=t+"/"+f.componentPath+"controller.js";return new Promise((l=this,a=e,s=o,u=r,c=f,p=n,h=t,d=i,function(e,t){l.uniqueComponentInsertFunc(l,a,c,p,s,e,t,u,null,h,d)}))},this.appendLoadUniqueComponent=function(e,t,n){return this.loadUniqueComponent(e,t,n,"append")},this.beforeLoadUniqueComponent=function(e,t,n){return this.loadUniqueComponent(e,t,n,"before")},this.afterLoadUniqueComponent=function(e,t,n){return this.loadUniqueComponent(e,t,n,"after")},this.innerLoadUniqueComponent=function(e,t,n){return this.loadUniqueComponent(e,t,n,null,!0)},this.loadUniqueComponent=function(e,t,n,o,r){var i,l,a,s,u,c,p,h=this.getComponentValue(t),t=S+h.componentPath+"controller.js";return new Promise((i=this,l=e,a=n,s=o,u=h,c=t,p=r,function(e,t){i.uniqueComponentInsertFunc(i,l,u,c,a,e,t,s,null,null,p)}))},this.appendResJsonUniqueComponent=function(e,t,n,o,r){return this.resJsonUniqueComponent(e,t,n,o,r,"append")},this.beforeResJsonUniqueComponent=function(e,t,n,o,r){return this.resJsonUniqueComponent(e,t,n,o,r,"before")},this.afterResJsonUniqueComponent=function(e,t,n,o,r){return this.resJsonUniqueComponent(e,t,n,o,r,"after")},this.resJsonUniqueComponent=function(e,t,n,o,r,i,l){return null==l&&(l=0),new Promise((d=this,f=e,m=t,g=n,v=o,b=r,C=i,y=l,function(o,r){let e=d.ajax(g,v);var i,l,a,s,u,c,p,h;e.timeout=V,b&&(e.withCredentials=!0),e.onloadend=(i=d,l=f,a=m,s=g,u=v,c=b,p=C,h=y,function(e,t){if(200===t.status){var n=t.response;i.loadUniqueComponent(l,a,n,p).then(o).catch(r)}else if(fairysupportComponentFail(h,t))i.resJsonUniqueComponent(l,a,s,u,c,p,++h).then(o).catch(r);else try{throw new Error("error : load json for uniqueComponent : "+s+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){r(e)}}),e.send()}));var d,f,m,g,v,b,C,y},this.appendResJsonUniqueComponentByForm=function(e,t,n,o,r){return this.resJsonUniqueComponentByForm(e,t,n,o,r,"append")},this.beforeResJsonUniqueComponentByForm=function(e,t,n,o,r){return this.resJsonUniqueComponentByForm(e,t,n,o,r,"before")},this.afterResJsonUniqueComponentByForm=function(e,t,n,o,r){return this.resJsonUniqueComponentByForm(e,t,n,o,r,"after")},this.resJsonUniqueComponentByForm=function(e,t,n,o,r,i,l){return null==l&&(l=0),new Promise((d=this,f=e,m=t,g=n,v=o,b=r,C=i,y=l,function(e,t){let n=d.ajaxByForm(g,v);var o,r,i,l,a,s,u,c,p,h;n.timeout=V,b&&(n.withCredentials=!0),n.onloadend=(o=d,r=f,i=m,l=g,a=v,s=b,u=C,c=y,p=e,h=t,function(e,t){if(200===t.status){var n=t.response;o.loadUniqueComponent(r,i,n,u).then(p).catch(h)}else if(fairysupportComponentFail(c,t))o.resJsonUniqueComponentByForm(r,i,l,a,s,u,++c).then(p).catch(h);else try{throw new Error("error : load json for uniqueComponent : "+l+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){h(e)}}),n.send()}));var d,f,m,g,v,b,C,y},this.appendResHtmlUniqueComponent=function(e,t,n,o,r,i){return this.resHtmlUniqueComponent(e,t,n,o,r,i,"append")},this.beforeResHtmlUniqueComponent=function(e,t,n,o,r,i){return this.resHtmlUniqueComponent(e,t,n,o,r,i,"before")},this.afterResHtmlUniqueComponent=function(e,t,n,o,r,i){return this.resHtmlUniqueComponent(e,t,n,o,r,i,"after")},this.resHtmlUniqueComponent=function(e,t,n,o,r,i,l,a){return null==a&&(a=0),new Promise((v=this,b=e,C=t,y=n,j=o,M=r,_=i,x=l,T=a,w=S,function(i,l){let e=v.emptyAjax(y,j);var a,s,u,c,p,h,d,f,m,g;e.timeout=V,e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Accept","text/*"),e.setRequestHeader("Content-Type","application/json"),e.responseType="text",_&&(e.withCredentials=!0),e.onloadend=(a=v,s=b,u=C,c=y,p=j,h=M,d=_,f=x,m=T,g=w,function(e,t){if(200===t.status){var n=t.response,o=a.getComponentValue(u),r=g+o.componentPath+"controller.js";a.uniqueComponentInsertFunc(a,s,o,r,h,i,l,f,n)}else if(fairysupportComponentFail(m,t))a.resHtmlUniqueComponent(s,u,c,p,h,d,f,++m).then(i).catch(l);else try{throw new Error("error : load template for uniqueComponent : "+c+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){l(e)}}),e.send()}));var v,b,C,y,j,M,_,x,T,w},this.appendResHtmlUniqueComponentByForm=function(e,t,n,o,r,i){return this.resHtmlUniqueComponentByForm(e,t,n,o,r,i,"append")},this.beforeResHtmlUniqueComponentByForm=function(e,t,n,o,r,i){return this.resHtmlUniqueComponentByForm(e,t,n,o,r,i,"before")},this.afterResHtmlUniqueComponentByForm=function(e,t,n,o,r,i){return this.resHtmlUniqueComponentByForm(e,t,n,o,r,i,"after")},this.resHtmlUniqueComponentByForm=function(e,t,n,o,r,i,l,a){return null==a&&(a=0),new Promise((v=this,b=e,C=t,y=n,j=o,M=r,_=i,x=l,T=a,w=S,function(e,t){let n=v.emptyAjaxByForm(y,j);var i,l,a,s,u,c,p,h,d,f,m,g;n.timeout=V,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/*"),n.responseType="text",_&&(n.withCredentials=!0),n.onloadend=(i=v,l=b,a=C,s=y,u=j,c=M,p=_,h=x,d=T,f=w,m=e,g=t,function(e,t){if(200===t.status){var n=t.response,o=i.getComponentValue(a),r=f+o.componentPath+"controller.js";i.uniqueComponentInsertFunc(i,l,o,r,c,m,g,h,n)}else if(fairysupportComponentFail(d,t))i.resHtmlUniqueComponentByForm(l,a,s,u,c,p,h,++d).then(m).catch(g);else try{throw new Error("error : load template for uniqueComponent : "+s+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){g(e)}}),n.send()}));var v,b,C,y,j,M,_,x,T,w},this.uniqueComponentInsertFunc=function(e,t,n,o,r,i,l,a,s,u,c){this.loadComponentReqMsg(e,t,n,o,r,i,l,a,s,this.uniqueComponentInsertFuncExec.bind(e),0,u,c)},this.uniqueComponentInsertFuncExec=function(e,t,n,o,r,i,l,a,s,u,c,p,h,d){null==c&&(c=0);let f=function(){};var m,g,v,b,C,y,j,M,_,x,T,w,L,F;null!=i&&(f=i),import(o+"?"+e.version).then(e.loadUniqueComponentControllerMethodList(e,t,n,s,r,f,a,l,u,p,h,d)).catch((m=e,g=t,v=n,b=o,C=r,y=i,j=l,M=a,_=s,x=u,T=c,w=p,L=h,F=d,function(e){fairysupportComponentFail(T,e)?m.uniqueComponentInsertFuncExec(m,g,v,b,C,y,j,M,_,x,++T,w,L,F):null!=j&&j(e)}))},this.loadUniqueComponentControllerMethodList=function(l,a,s,u,c,p,h,d,f,m,g,v){return function(e){null==u&&(u=e.__fairysupport__viewStr);var t=s.componentPath.split("/"),t=new e[l.getCamel(t[t.length-2])];b.set(t,g),f.set(t,e.__fairysupport__envValueObj);var n,e=l.getMethodList(t);let o={};for(n in e){var r=n.split("_");if(1<r.length){let t="";for(let e=0;e<r.length-1;e++)t+=r[e]+"_";t=t.substring(0,t.length-1),o[t]||(o[t]=[]),o[t].push(r[r.length-1])}}let i=l.getInsertUniqueComponent(l,a,s,u,c,p,h,t,e,o,d,m,v);i()}},this.getInsertUniqueComponent=function(t,n,o,r,i,l,b,C,y,j,M,_,x){return function(){var a,s,u,c,p,h,d,f,m,g,v,e=(a=t,s=n,u=o,p=l,h=b,d=C,f=y,m=j,g=_,v=x,function(t){let n=[];for(let e=0;e<t.childNodes.length;e++)n.push(t.childNodes.item(e));var e,o,r=a.getUniqueComponentMethod(a,d,f,"init",c,(e=p,o=n,function(){e(o)}));a.addInitFuncForAfterObserver(t,r,"init"in f);let i=t.childNodes;var l;if(null!==i&&void 0!==i)for(let e=0;e<i.length;e++)l=i.item(e),a.bindUniqueComponentAll(l,u,d,f,m,g);s&&("before"===h&&s.parentNode?s.parentNode.insertBefore(t,s):"after"===h&&s.parentNode?null===s.nextSibling||void 0===s.nextSibling?s.parentNode.appendChild(t):s.parentNode.insertBefore(t,s.nextSibling):("append"===h||(s.innerHTML=""),s.appendChild(t))),!0===v&&p(n)});(i=null==(c=i)?Object.create(null):i)._controller=C,t.getTplDom(r,i,M,e)}},this.bindUniqueComponentAll=function(e,n,o,r,i,l){if(null!=e){this.bindAllSingle(e,this.bindUniqueComponentProp(this,e,n,o,r,i,l,f));let t=e.childNodes;var a;if(null!==t&&void 0!==t)for(let e=0;e<t.length;e++)a=t.item(e),this.bindUniqueComponentAll(a,n,o,r,i,l)}},this.bindUniqueComponentProp=function(i,l,e,a,s,u,c,p){return function(){var r=l.dataset;if(null!=r){let t=null,n=null,o=null;if(o=null!=c?(t=r.objWeb,n=r.listWeb,r.nameWeb):(t=r[e.componentCamel+"Obj"],n=r[e.componentCamel+"List"],r[e.componentCamel+"Name"]),null!==t&&void 0!==t){i.bindUniqueComponentSingleObj(l,t,a,s),p.has(l)||p.set(l,Object.create(null));let e=p.get(l);e.controller=a,e.obj=t}if(null!==n&&void 0!==n){i.bindUniqueComponentSingleList(l,n,a,s),p.has(l)||p.set(l,Object.create(null));let e=p.get(l);e.controller=a,e.list=n}if(null!==o&&void 0!==o){r=i.bindUniqueComponentSingleEvent(l,o,a,s,u);p.has(l)||p.set(l,Object.create(null));let e=p.get(l);e.controller=a,e.nameInfo=r}}}},this.bindUniqueComponentSingleObj=function(t,n,o,r){if(null!=t&&null!=n){this.execUniqueComponentMethod(o,r,"beforeBindObj",{name:n,value:t});let e=new Set;e.add(t);var i=this.getUniqueComponentMethodInputArgs(this,o,r,"beforeRemoveObj"),l=this.getUniqueComponentMethodInputArgs(this,o,r,"afterRemoveObj"),a=(d=e,function(){for(var e of d.values())return e;return null}),l=(s=e,u=n,c=i,p=l,h=m,function(e){currentElement=null;for(var t of s.values()){currentElement=t;break}currentElement&&(c({name:u,value:currentElement}),s.clear(),!currentElement.parentNode||e instanceof h||(null==e?currentElement.parentNode.removeChild(currentElement):e instanceof Node&&currentElement.parentNode.replaceChild(e,currentElement)),p({name:u,value:currentElement}))});Object.defineProperty(o,n,{enumerable:!0,configurable:!0,get:a,set:l}),this.execUniqueComponentMethod(o,r,"afterBindObj",{name:n,value:t})}var s,u,c,p,h,d},this.bindUniqueComponentSingleList=function(e,t,n,o){var r,i,l;null!=e&&null!=t&&(null!==n[t]&&void 0!==n[t]||(r=this.getUniqueComponentMethodInputArgs(this,n,o,"beforeRemoveList"),i=this.getUniqueComponentMethodInputArgs(this,n,o,"afterRemoveList"),l=this.getUniqueComponentMethodInputArgs(this,n,o,"beforeBindList"),o=this.getUniqueComponentMethodInputArgs(this,n,o,"afterBindList"),n[t]=new this.elementList(t,r,i,l,o,m)),n[t].add(e))},this.bindUniqueComponentSingleEvent=function(e,t,n,o,r){return null!=e&&null!=t?this.setEventFunctionForUniqueComponent(t,n,o,e,r,this.clazz.obj):[]},this.appendLoadSingleComponent=function(e,t,n){return this.loadSingleComponent(e,t,n,"append")},this.beforeLoadSingleComponent=function(e,t,n){return this.loadSingleComponent(e,t,n,"before")},this.afterLoadSingleComponent=function(e,t,n){return this.loadSingleComponent(e,t,n,"after")},this.innerLoadSingleComponent=function(e,t,n){return this.loadSingleComponent(e,t,n,null,!0)},this.loadSingleComponent=function(e,t,n,o,r){var i,l,a,s,u,c,p,h=this.getComponentValue(t),t=S+h.componentPath+"controller.js";return new Promise((i=this,l=e,a=h,s=t,u=n,c=o,p=r,function(e,t){i.singleComponentInsertFunc(i,l,a,s,u,e,t,c,null,p)}))},this.appendResJsonSingleComponent=function(e,t,n,o,r){return this.resJsonSingleComponent(e,t,n,o,r,"append")},this.beforeResJsonSingleComponent=function(e,t,n,o,r){return this.resJsonSingleComponent(e,t,n,o,r,"before")},this.afterResJsonSingleComponent=function(e,t,n,o,r){return this.resJsonSingleComponent(e,t,n,o,r,"after")},this.resJsonSingleComponent=function(e,t,n,o,r,i,l){return null==l&&(l=0),new Promise((d=this,f=e,m=t,g=n,v=o,b=r,C=i,y=l,function(o,r){let e=d.ajax(g,v);var i,l,a,s,u,c,p,h;e.timeout=V,b&&(e.withCredentials=!0),e.onloadend=(i=d,l=f,a=m,s=g,u=v,c=b,p=C,h=y,function(e,t){if(200===t.status){var n=t.response;i.loadSingleComponent(l,a,n,p).then(o).catch(r)}else if(fairysupportComponentFail(h,t))i.resJsonSingleComponent(l,a,s,u,c,p,++h).then(o).catch(r);else try{throw new Error("error : load json for singleComponent : "+s+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){r(e)}}),e.send()}));var d,f,m,g,v,b,C,y},this.appendResJsonSingleComponentByForm=function(e,t,n,o,r){return this.resJsonSingleComponentByForm(e,t,n,o,r,"append")},this.beforeResJsonSingleComponentByForm=function(e,t,n,o,r){return this.resJsonSingleComponentByForm(e,t,n,o,r,"before")},this.afterResJsonSingleComponentByForm=function(e,t,n,o,r){return this.resJsonSingleComponentByForm(e,t,n,o,r,"after")},this.resJsonSingleComponentByForm=function(e,t,n,o,r,i,l){return null==l&&(l=0),new Promise((d=this,f=e,m=t,g=n,v=o,b=r,C=i,y=l,function(o,r){let e=d.ajaxByForm(g,v);var i,l,a,s,u,c,p,h;e.timeout=V,b&&(e.withCredentials=!0),e.onloadend=(i=d,l=f,a=m,s=g,u=v,c=b,p=C,h=y,function(e,t){if(200===t.status){var n=t.response;i.loadSingleComponent(l,a,n,p).then(o).catch(r)}else if(fairysupportComponentFail(h,t))i.resJsonSingleComponentByForm(l,a,s,u,c,p,++h).then(o).catch(r);else try{throw new Error("error : load json for singleComponent : "+s+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){r(e)}}),e.send()}));var d,f,m,g,v,b,C,y},this.appendResHtmlSingleComponent=function(e,t,n,o,r,i){return this.resHtmlSingleComponent(e,t,n,o,r,i,"append")},this.beforeResHtmlSingleComponent=function(e,t,n,o,r,i){return this.resHtmlSingleComponent(e,t,n,o,r,i,"before")},this.afterResHtmlSingleComponent=function(e,t,n,o,r,i){return this.resHtmlSingleComponent(e,t,n,o,r,i,"after")},this.resHtmlSingleComponent=function(e,t,n,o,r,i,l,a){return null==a&&(a=0),new Promise((v=this,b=e,C=t,y=n,j=o,M=r,_=i,x=l,T=a,w=S,function(i,l){let e=v.emptyAjax(y,j);var a,s,u,c,p,h,d,f,m,g;e.timeout=V,e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Accept","text/*"),e.setRequestHeader("Content-Type","application/json"),e.responseType="text",_&&(e.withCredentials=!0),e.onloadend=(a=v,s=b,u=C,c=y,p=j,h=M,d=_,f=x,m=T,g=w,function(e,t){if(200===t.status){var n=t.response,o=a.getComponentValue(u),r=g+o.componentPath+"controller.js";a.singleComponentInsertFunc(a,s,o,r,h,i,l,f,n)}else if(fairysupportComponentFail(m,t))a.resHtmlSingleComponent(s,u,c,p,h,d,f,++m).then(i).catch(l);else try{throw new Error("error : load template for singleComponent : "+c+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){l(e)}}),e.send()}));var v,b,C,y,j,M,_,x,T,w},this.appendResHtmlSingleComponentByForm=function(e,t,n,o,r,i){return this.resHtmlSingleComponentByForm(e,t,n,o,r,i,"append")},this.beforeResHtmlSingleComponentByForm=function(e,t,n,o,r,i){return this.resHtmlSingleComponentByForm(e,t,n,o,r,i,"before")},this.afterResHtmlSingleComponentByForm=function(e,t,n,o,r,i){return this.resHtmlSingleComponentByForm(e,t,n,o,r,i,"after")},this.resHtmlSingleComponentByForm=function(e,t,n,o,r,i,l,a){return null==a&&(a=0),new Promise((v=this,b=e,C=t,y=n,j=o,M=r,_=i,x=l,T=a,w=S,function(i,l){let e=v.emptyAjaxByForm(y,j);var a,s,u,c,p,h,d,f,m,g;e.timeout=V,e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Accept","text/*"),e.responseType="text",_&&(e.withCredentials=!0),e.onloadend=(a=v,s=b,u=C,c=y,p=j,h=M,d=_,f=x,m=T,g=w,function(e,t){if(200===t.status){var n=t.response,o=a.getComponentValue(u),r=g+o.componentPath+"controller.js";a.singleComponentInsertFunc(a,s,o,r,h,i,l,f,n)}else if(fairysupportComponentFail(m,t))a.resHtmlSingleComponentByForm(s,u,c,p,h,d,f,++m).then(i).catch(l);else try{throw new Error("error : load template for singleComponent : "+c+" : "+("statusText"in t?t.statusText:"")+" : "+("responseText"in t?t.responseText:""))}catch(e){l(e)}}),e.send()}));var v,b,C,y,j,M,_,x,T,w},this.paramFmt=function(e,t,n){let o="";if(null==t)o="";else if("json"===e)o=JSON.stringify(t);else if("query"===e)for(var[r,i]of Object.entries(t))i&&i.constructor===Object?o+=""===n?this.paramFmt(e,i,r):this.paramFmt(e,i,n+"["+r+"]"):o=""===n?o+encodeURIComponent(r)+"="+encodeURIComponent(i)+"&":o+encodeURIComponent(n+"["+r+"]")+"="+encodeURIComponent(i)+"&";else o=t;return""===o&&(o=null),o},this.emptyAjax=function(e,t,n="POST",o="json",r=null,i=null){"get"===n.toLowerCase()&&(o="query");let l=this.paramFmt(o,t,"");"get"===n.toLowerCase()&&null!==l&&""!==l&&("&"===l.substring(l.length-1,l.length)&&(l=l.substring(0,l.length-1)),0<=e.indexOf("?")?e+="&"+l:e+="?"+l,l=null);let a=new this.fairysupportAjaxObj(null,null,e,l,null,null,null,"ajax",null);return a.open(n,e,!0,r,i),a},this.ajax=function(e,t,n="POST",o="json",r=null,i=null){let l=this.emptyAjax(e,t,n,o,r,i);return l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Accept","application/json"),(l.responseType="json")===o.toLowerCase()?l.setRequestHeader("Content-Type","application/json"):l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l},this.ajaxText=function(e,t,n="POST",o="json",r=null,i=null){let l=this.emptyAjax(e,t,n,o,r,i);return l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Accept","text/*"),l.responseType="text","json"===o.toLowerCase()?l.setRequestHeader("Content-Type","application/json"):l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l},this.emptyAjaxByForm=function(e,t,n=null,o=null){let r=new this.fairysupportAjaxObj(null,null,e,new FormData(t),null,null,null,"ajaxByForm",null);return r.open("POST",e,!0,n,o),r},this.ajaxByForm=function(e,t,n=null,o=null){let r=this.emptyAjaxByForm(e,t,n,o);return r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Accept","application/json"),r.responseType="json",r},this.ajaxTextByForm=function(e,t,n=null,o=null){let r=this.emptyAjaxByForm(e,t,n,o);return r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Accept","text/*"),r.responseType="text",r},this.fairysupportAjaxObj=class{#dom;#componentPackeage;#viewUrl;#paramObj;#argObj;#cb;#position;#metName;#componentRoot;#xhr;#__resFunc;constructor(e,t,n,o,r,i,l,a,s){this.#dom=e,this.#componentPackeage=t,this.#viewUrl=n,this.#paramObj=o,this.#argObj=r,this.#cb=i,this.#position=l,this.#metName=a,this.#componentRoot=s,this.#__resFunc=Object.create(null),this.#xhr=new XMLHttpRequest;var u,c,p,h,d,f,m,g,v,b,C,y,j,M,_,x,T,w,L,F,O,E,S,V,q,H,N,R,z,I,D,P,B,A,U,k,J,$,a=(u=this.#xhr,function(){return u.onreadystatechange}),s=(c=this.#xhr,function(e){var t,n;c.onreadystatechange=(t=c,n=e,function(e){n(e,t)})});Object.defineProperty(this,"onreadystatechange",{enumerable:!0,configurable:!1,get:a,set:s}),p=this.#xhr,a=function(){return p.readyState},h=this.#xhr,s=function(e){h.readyState=e},Object.defineProperty(this,"readyState",{enumerable:!0,configurable:!1,get:a,set:s}),d=this.#xhr,a=function(){return d.response},f=this.#xhr,s=function(e){f.response=e},Object.defineProperty(this,"response",{enumerable:!0,configurable:!1,get:a,set:s}),m=this.#xhr,a=function(){return m.responseText},g=this.#xhr,s=function(e){g.responseText=e},Object.defineProperty(this,"responseText",{enumerable:!0,configurable:!1,get:a,set:s}),v=this.#xhr,a=function(){return v.responseType},b=this.#xhr,s=function(e){b.responseType=e},Object.defineProperty(this,"responseType",{enumerable:!0,configurable:!1,get:a,set:s}),C=this.#xhr,a=function(){return C.responseURL},y=this.#xhr,s=function(e){y.responseURL=e},Object.defineProperty(this,"responseURL",{enumerable:!0,configurable:!1,get:a,set:s}),j=this.#xhr,a=function(){return j.responseXML},M=this.#xhr,s=function(e){M.responseXML=e},Object.defineProperty(this,"responseXML",{enumerable:!0,configurable:!1,get:a,set:s}),_=this.#xhr,a=function(){return _.status},x=this.#xhr,s=function(e){x.status=e},Object.defineProperty(this,"status",{enumerable:!0,configurable:!1,get:a,set:s}),T=this.#xhr,a=function(){return T.statusText},w=this.#xhr,s=function(e){w.statusText=e},Object.defineProperty(this,"statusText",{enumerable:!0,configurable:!1,get:a,set:s}),L=this.#xhr,a=function(){return L.timeout},F=this.#xhr,s=function(e){F.timeout=e},Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!1,get:a,set:s}),O=this.#xhr,a=function(){return O.upload},E=this.#xhr,s=function(e){E.upload=e},Object.defineProperty(this,"upload",{enumerable:!0,configurable:!1,get:a,set:s}),S=this.#xhr,a=function(){return S.withCredentials},V=this.#xhr,s=function(e){V.withCredentials=e},Object.defineProperty(this,"withCredentials",{enumerable:!0,configurable:!1,get:a,set:s}),q=this.#xhr,a=function(){return q.onabort},H=this.#xhr,s=function(e){var t,n;H.onabort=(t=H,n=e,function(e){n(e,t)})},Object.defineProperty(this,"onabort",{enumerable:!0,configurable:!1,get:a,set:s}),N=this.#xhr,a=function(){return N.onerror},R=this.#xhr,s=function(e){var t,n;R.onerror=(t=R,n=e,function(e){n(e,t)})},Object.defineProperty(this,"onerror",{enumerable:!0,configurable:!1,get:a,set:s}),z=this.#xhr,a=function(){return z.onload},I=this.#xhr,s=function(e){var t,n;I.onload=(t=I,n=e,function(e){n(e,t)})},Object.defineProperty(this,"onload",{enumerable:!0,configurable:!1,get:a,set:s}),D=this.#xhr,a=function(){return D.onloadend},P=this.#xhr,s=function(e){var t,n;P.onloadend=(t=P,n=e,function(e){n(e,t)})},Object.defineProperty(this,"onloadend",{enumerable:!0,configurable:!1,get:a,set:s}),B=this.#xhr,a=function(){return B.onloadstart},A=this.#xhr,s=function(e){var t,n;A.onloadstart=(t=A,n=e,function(e){n(e,t)})},Object.defineProperty(this,"onloadstart",{enumerable:!0,configurable:!1,get:a,set:s}),U=this.#xhr,a=function(){return U.onprogress},k=this.#xhr,s=function(e){var t,n;k.onprogress=(t=k,n=e,function(e){n(e,t)})},Object.defineProperty(this,"onprogress",{enumerable:!0,configurable:!1,get:a,set:s}),J=this.#xhr,a=function(){return J.ontimeout},$=this.#xhr,s=function(e){var t,n;$.ontimeout=(t=$,n=e,function(e){n(e,t)})},Object.defineProperty(this,"ontimeout",{enumerable:!0,configurable:!1,get:a,set:s})}setResponseType(e){return this.responseType=e,this}abort(){return this.#xhr.abort(),this}getAllResponseHeaders(){return this.#xhr.getAllResponseHeaders()}getResponseHeader(e){return this.#xhr.getResponseHeader(e)}open(e,t,n=!0,o=null,r=null){return this.#xhr.open(e,t,n,o,r),this}overrideMimeType(e){return this.#xhr.overrideMimeType(e),this}send(e){return null!==this.#paramObj&&void 0!==this.#paramObj?this.#xhr.send(this.#paramObj):this.#xhr.send(e),this}sendPromise(e){return new Promise((r=this,i=e,function(e,t){var n,o;r.onloadend=(n=e,o=t,function(e,t){(200===t.status?n:o)(t)}),r.send(i)}));var r,i}setRequestHeader(e,t){return this.#xhr.setRequestHeader(e,t)}setOnreadystatechange(e){return this.onreadystatechange=e,this}setWithCredentials(e){return this.withCredentials=e,this}setOnabort(e){return this.onabort=e,this}setOnerror(e){return this.onerror=e,this}setOnload(e){return this.onload=e,this}setOnloadend(e){return this.onloadend=e,this}setOnloadstart(e){return this.onloadstart=e,this}setOnprogress(e){return this.onprogress=e,this}setOntimeout(e){return this.ontimeout=e,this}setReadystatechange(e,t,n){"readystatechange"in this.#__resFunc||(this.#__resFunc.readystatechange=Object.create(null)),null===e&&null===t?this.#__resFunc.readystatechange.default=n:null!==e&&null===t?("statusDefault"in this.#__resFunc.readystatechange||(this.#__resFunc.readystatechange.statusDefault=Object.create(null)),this.#__resFunc.readystatechange.statusDefault[String(e)]=n):null===e&&null!==t?("stateDefault"in this.#__resFunc.readystatechange||(this.#__resFunc.readystatechange.stateDefault=Object.create(null)),this.#__resFunc.readystatechange.stateDefault[String(t)]=n):("fn"in this.#__resFunc.readystatechange||(this.#__resFunc.readystatechange.fn=Object.create(null)),e in this.#__resFunc.readystatechange.fn||(this.#__resFunc.readystatechange.fn[String(e)]=Object.create(null)),this.#__resFunc.readystatechange.fn[String(e)][String(t)]=n);var i,n=(i=this.#__resFunc.readystatechange,function(t,n){var o=String(n.status),r=String(n.readyState);if("fn"in i&&r in i.fn&&o in i.fn[r])i.fn[r][o](t,n);else{let e=!1;"statusDefault"in i&&r in i.statusDefault&&(i.statusDefault[r](t,n),e=!0),"stateDefault"in i&&o in i.stateDefault&&(i.stateDefault[o](t,n),e=!0),!1===e&&"default"in i&&i.default(t,n)}});return this.onreadystatechange=n,this}setAbort(e){"abort"in this.#__resFunc||(this.#__resFunc.abort=Object.create(null)),this.#__resFunc.abort.default=e;var n,e=(n=this.#__resFunc.abort,function(e,t){"default"in n&&n.default(e,t)});return this.onabort=e,this}setError(e){"error"in this.#__resFunc||(this.#__resFunc.error=Object.create(null)),this.#__resFunc.error.default=e;var n,e=(n=this.#__resFunc.error,function(e,t){"default"in n&&n.default(e,t)});return this.onerror=e,this}setLoad(e,t){"load"in this.#__resFunc||(this.#__resFunc.load=Object.create(null)),null===e?this.#__resFunc.load.default=t:("fn"in this.#__resFunc.load||(this.#__resFunc.load.fn=Object.create(null)),this.#__resFunc.load.fn[String(e)]=t);var o,t=(o=this.#__resFunc.load,function(e,t){var n=String(t.status);"fn"in o&&n in o.fn?o.fn[n](e,t):"default"in o&&o.default(e,t)});return this.onload=t,this}setLoadend(e,t){"loadend"in this.#__resFunc||(this.#__resFunc.loadend=Object.create(null)),null===e?this.#__resFunc.loadend.default=t:("fn"in this.#__resFunc.loadend||(this.#__resFunc.loadend.fn=Object.create(null)),this.#__resFunc.loadend.fn[String(e)]=t);var o,t=(o=this.#__resFunc.loadend,function(e,t){var n=String(t.status);"fn"in o&&n in o.fn?o.fn[n](e,t):"default"in o&&o.default(e,t)});return this.onloadend=t,this}setLoadstart(e){"loadstart"in this.#__resFunc||(this.#__resFunc.loadstart=Object.create(null)),this.#__resFunc.loadstart.default=e;var n,e=(n=this.#__resFunc.loadstart,function(e,t){"default"in n&&n.default(e,t)});return this.onloadstart=e,this}setProgress(e,t){"progress"in this.#__resFunc||(this.#__resFunc.progress=Object.create(null)),null===e?this.#__resFunc.progress.default=t:("fn"in this.#__resFunc.progress||(this.#__resFunc.progress.fn=Object.create(null)),this.#__resFunc.progress.fn[String(e)]=t);var o,t=(o=this.#__resFunc.progress,function(e,t){var n=String(t.status);"fn"in o&&n in o.fn?o.fn[n](e,t):"default"in o&&o.default(e,t)});return this.onprogress=t,this}setTimeout(e){if("function"!=typeof e)return this.timeout=e,this;"timeout"in this.#__resFunc||(this.#__resFunc.timeout=Object.create(null)),this.#__resFunc.timeout.default=e;var n,e=(n=this.#__resFunc.timeout,function(e,t){"default"in n&&n.default(e,t)});return this.ontimeout=e,this}},this.getComponentController=function(e){let t="";var n;for(n of(e=e.trim()).split("."))""!==n.trim()&&(t+=n+"/");return this.componentControllerList[t]||null},this.getModuleController=function(){return this.clazz.obj},this.setTimeLineProp=function(e,t){if(null!==e||void 0!==e)for(var[n,o]of Object.entries(t))o&&o.constructor===Object?this.setTimeLineProp(e[n],o):"function"==typeof o?e[n]=o():e[n]=o},this.timeLineClass=class{#fs;#timelinePropList;#preClazz;#props;#ms;constructor(e,t,n,o,r){this.#fs=e,this.#timelinePropList=t,this.#preClazz=n,this.#props=o,this.#ms=r}execTimer(){var e;if(null!==this.#preClazz&&void 0!==this.#preClazz&&null!==this.#preClazz.timerId&&void 0!==this.#preClazz.timerId&&this.#preClazz.clerTimer(),null!==this.timerId&&void 0!==this.timerId)for(e of this.#props.values())this.#fs.setTimeLineProp(e.obj,e.value);var t=this.#timelinePropList.shift();if(null!=t){let e=new this.#fs.timeLineClass(this.#fs,this.#timelinePropList,this,t.prop,t.ms);e.timerId=window.setTimeout(e.execTimer.bind(e),t.ms-this.#ms)}else this.clerTimer()}clerTimer(){window.clearTimeout(this.timerId)}},this.timeline=function(e){let t=[].concat(e);t.sort(function(e,t){return e.ms<t.ms?-1:e.ms===t.ms?0:1});let n=new this.timeLineClass(this,t,null,null,0);n.execTimer()},this.envValue=function(e){return u[e]},this.msg=function(e,t){let n="";if(e in d&&(n=d[e]),null==t){e=new RegExp("\\\\\\$\\{[^\\}]+\\}","g");return n=n.replace(e,function(e){return e.substr(1)}),n}for(var[o,r]of Object.entries(t)){o=new RegExp("(?<!\\\\)\\$\\{"+o+"\\}","g");n=n.replace(o,r)}t=new RegExp("\\\\\\$\\{[^\\}]+\\}","g");return n=n.replace(t,function(e){return e.substr(1)}),n},this.componentEnvValue=function(e,t){return q.has(e)?q.get(e)[t]:null},this.componentMsg=function(e,t,n){if(!b.has(e))return null;let o="";if(t in b.get(e)&&(o=b.get(e)[t]),null==n){t=new RegExp("\\\\\\$\\{[^\\}]+\\}","g");return o=o.replace(t,function(e){return e.substr(1)}),o}for(var[r,i]of Object.entries(n)){r=new RegExp("(?<!\\\\)\\$\\{"+r+"\\}","g");o=o.replace(r,i)}n=new RegExp("\\\\\\$\\{[^\\}]+\\}","g");return o=o.replace(n,function(e){return e.substr(1)}),o},this.addMeta=function(e,t){l.set(e,t)},this.getMeta=function(e){return l.get(e)},this.deleteMeta=function(e){l.delete(e)},this.validate=function(e,t,n,o,r,i,l){var a={preVal:Object.create(null)};Array.isArray(o)||(o=[o]),this.wrapObjAccessor(e,t,n,r,a,o,i,l)},this.wrapObjAccessor=function(l,a,s,u,c,p,h,d){let f=this.getPrototypePropertyDescriptor(a,s);if(null!=p){l in B||(B[l]=new Map),B[l].has(a)||B[l].set(a,Object.create(null)),s in B[l].get(a)||(B[l].get(a)[s]=Object.create(null));for(const R of p)R in B[l].get(a)[s]||(B[l].get(a)[s][R]=!0);let i=!1;this.preValueInit(c,p,a[s]);let e=null;for(const z of p)if(null===z){i=!0;var m=function(e,t){return function(){return e.get.call(t)}}(f,a),g=function(u,c,p,h,d,f,m,g,v,b,C){return function(e){let t=!0,n=!1,o=Object.create(null);for(const s of p){var r=s(c,d,e,m.preVal.null,h,null);r||(t=r),r in o||(o[r]=[]),o[r].push(s.name)}if(b[C].get(c)[d].null=t,v){var i=v(c,d,e,m.preVal.null,h,null,t,o);if(i&&("newValue"in i&&(e=i.newValue),"forceNewValue"in i&&(n=!0,e=i.forceNewValue),"oldValue"in i&&f.preValueEventInit(m,null,i.oldValue),"oldValueAllEvent"in i&&f.preValueInit(m,g,i.oldValueAllEvent),"oldValueSpecificEvent"in i))for(var[l,a]of Object.entries(i.oldValueSpecificEvent))l in m.preVal&&f.preValueEventInit(m,l,a)}n||t?(u.set.call(c,e),f.preValueInit(m,g,c[d])):(u.set.call(c,m.preVal.null),f.preValueEventInit(m,null,m.preVal.null))}}(f,a,u,h,s,this,c,p,d,B,l);Object.defineProperty(a,s,{enumerable:!0,configurable:!0,get:m,set:g});let e=!0,t=!1,n=Object.create(null),o=a[s];for(const I of u){var v=I(a,s,o,c.preVal.null,h,null);v||(e=v),v in n||(n[v]=[]),n[v].push(I.name)}B[l].get(a)[s][z]=e;let r=null;if(d&&(r=d(a,s,o,c.preVal.null,h,null,e,n),r&&("newValue"in r&&(o=r.newValue),"forceNewValue"in r&&(t=!0,o=r.forceNewValue),"oldValue"in r&&this.preValueEventInit(c,null,r.oldValue),"oldValueAllEvent"in r&&this.preValueInit(c,p,r.oldValueAllEvent),"oldValueSpecificEvent"in r)))for(var[b,C]of Object.entries(r.oldValueSpecificEvent))b in c.preVal&&this.preValueEventInit(c,b,C);t||e?f.set.call(a,o):r?"oldValueSpecificEvent"in r&&null in r.oldValueSpecificEvent?f.set.call(a,r.oldValueSpecificEvent.null):"oldValueAllEvent"in r?f.set.call(a,r.oldValueAllEvent):"oldValue"in r?f.set.call(a,r.oldValue):f.set.call(a,null):f.set.call(a,null),this.preValueInit(c,p,a[s])}else"addEventListener"in a&&(null===e&&(a.addEventListener("focus",function(e,t,n,o,r){return function(){r.preValueInit(e,o,t[n])}}(c,a,s,p,this),!0),a.addEventListener("blur",function(t,n,o,r,i){return function(e){i.preValueInit(t,r,n[o])}}(c,a,s,p,this),!1),e=function(c,p,h,d,f,m,h,g,v,b,C,y){return function(e){e.type in d.preVal||b.preValueEventInit(d,e.type,p[h]);let t=!1,n=!0,o=p[h],r=Object.create(null);for(const u of c){var i=u(p,h,o,d.preVal[e.type],f,e);i||(n=i),i in r||(r[i]=[]),r[i].push(u.name)}if(C[y].get(p)[h][e.type]=n,g){var l=g(p,h,o,d.preVal[e.type],f,e,n,r);if(l&&("newValue"in l&&(o=l.newValue),"forceNewValue"in l&&(t=!0,o=l.forceNewValue),"oldValue"in l&&b.preValueEventInit(d,e.type,l.oldValue),"oldValueAllEvent"in l&&b.preValueInit(d,v,l.oldValueAllEvent),"oldValueSpecificEvent"in l))for(var[a,s]of Object.entries(l.oldValueSpecificEvent))a in d.preVal&&b.preValueEventInit(d,a,s)}t||n?(m.set.call(p,o),b.preValueEventInit(d,e.type,o)):(m.set.call(p,d.preVal[e.type]),b.preValueEventInit(d,e.type,d.preVal[e.type]))}}(u,a,s,c,h,f,s,d,p,this,B,l)),a.addEventListener(z,e,!0));i||(H=f,N=a,n=f,o=a,r=s,S=this,V=p,q=c,Object.defineProperty(a,s,{enumerable:!0,configurable:!0,get:function(){return H.get.call(N)},set:function(e){n.set.call(o,e),S.preValueInit(q,V,o[r])}})),l in D||(D[l]=new Map),D[l].has(a)||D[l].set(a,[]);let t=Object.create(null);t.prop=s,t.validator=(y=u,j=a,M=c,_=h,x=f,T=s,w=d,L=p,F=this,O=B,E=l,function(e){let t=!0,n=!1,o=j[T],r=Object.create(null);for(const u of y){var i=u(j,T,o,j[T],_,void 0);i||(t=i),i in r||(r[i]=[]),r[i].push(u.name)}if(O[E].get(j)[T][void 0]=t,w){var l=w(j,T,o,j[T],_,void 0,t,r);if(l&&("newValue"in l&&(o=l.newValue),"forceNewValue"in l&&(n=!0,o=l.forceNewValue),"oldValueAllEvent"in l&&F.preValueInit(M,L,l.oldValueAllEvent),"oldValueSpecificEvent"in l))for(var[a,s]of Object.entries(l.oldValueSpecificEvent))a in M.preVal&&F.preValueEventInit(M,a,s)}return e&&(n||t)&&(x.set.call(j,o),F.preValueInit(M,L,j[T])),t}),D[l].get(a).push(t),P.has(a)||P.set(a,[]),P.get(a).push(l)}var y,j,M,_,x,T,w,L,F,O,E,n,o,r,S,V,q,H,N},this.preValueInit=function(e,t,n){for(const o of t)this.preValueEventInit(e,o,n)},this.preValueEventInit=function(e,t,n){e.preVal[t]=n},this.execValidator=function(e,t,n){let o=!0;var r;for(r of D[e].get(t))r.validator(n)||(o=!1);return o},this.execGroupValidator=function(e,t){let n=!0,o=D[e];for(var r of o.keys())this.execValidator(e,r,t)||(n=!1);return n},this.getValidateLatestResult=function(e,t,n,o){return B[e].get(t)[n][o]},this.getPrototypePropertyDescriptor=function(n,o){var r,i,l,a,s,u,c,p,h,d,e=Object.getPrototypeOf(n);let f=null;if(null===e||null==e)f=Object.create(null);else if(f=Object.getOwnPropertyDescriptor(e,o),null!==f&&void 0!==f||(f=Object.create(null)),"configurable"in f&&!f.configurable)return;if(!("get"in f&&"set"in f)){let e=Object.create(null),t={val:n[o]};t.get=(d=t,function(){return d.val}),t.set=(h=t,function(e){return h.val=e}),"get"in f?e.get=(u=t,c=n,p=f,function(){return p.get.call(c),u.get()}):e.get=(s=t,function(){return s.get()}),"set"in f?e.set=(i=t,l=n,a=f,function(e){i.set(e),a.set.call(l,e)}):e.set=(r=t,function(e){r.set(e)}),e.configurable=!0,e.enumerable=!0,Object.defineProperty(n,o,e),f=e}return f},this.linkEvent=function(e,t,n){let o=Object.create(null);for(const r of n)o[r]=t[r].bind(t),e.addEventListener(r,o[r]);return o},this.getReqLang=function(){return O},this.getConfLang=function(){return E},this.storeClass=class{#data;#listener;constructor(){this.#data=new Map,this.#listener=new Map}set(e,t){if(this.#listener.has(e))for(var n of this.#listener.get(e).values())if(!1===n(e,t))return;this.#data.set(e,t)}get(e){return this.#data.get(e)}delete(e){return this.#data.delete(e)}addListener(e,t){this.#listener.has(e)||this.#listener.set(e,new Map),this.#listener.get(e).set(t,t)}removeListener(e,t){this.#listener.has(e)||this.#listener.set(e,new Map),this.#listener.get(e).delete(t)}};let v=new this.storeClass;this.store=function(){return v},this.getCamelCb=function(){return function(e){return e.substring(e.length-1,e.length).toUpperCase()}},this.getCamel=function(e){var t=new RegExp("[_\\-].","g");return e=(e=e.replace(t,this.getCamelCb())).substring(0,1).toUpperCase()+e.substring(1,e.length)},this.init()}const $___fairysupport_param=function(v,l,tpl){let returnVal=null;try{returnVal=eval(tpl)}catch(e){throw new Error(tpl+"\n"+e.toString())}return returnVal},$f=new ___fairysupport;